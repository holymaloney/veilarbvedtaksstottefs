{"version":3,"sources":["api/veilarbvedtaksstotte/index.ts","mock/api-data.ts","util/type/melding-type.ts","api/utils.ts","mock/data.ts","api/veilarbpersonflatefs.ts","api/veilarbperson.ts","util/environment.ts","util/type/oyblikksbilde-type.ts","util/constants.ts","store/view-store.ts","util/index.tsx","util/date-utils.ts","component/vedtak-panel/vedtak-panel.tsx","component/tidligere-vedtak-liste/vedtak.svg","util/innsatsgruppe.ts","component/show.tsx","component/vedtak-liste/vedtak-liste.tsx","page/utkast/skjema-section/begrunnelse/begrunnelse-tips-innhold.tsx","component/tips-popover/tips.svg","component/tips-popover/tips-popover.tsx","page/utkast/skjema-section/felt-header/felt-header.tsx","util/type/skjema-lagring-status.ts","store/data-store.ts","store/skjema-store.ts","util/skjema-utils.ts","spraksjekk-intern/components/analysis/Lix.tsx","spraksjekk-intern/components/dictionaries/GammelnavskDictionary.tsx","spraksjekk-intern/components/dictionaries/NrkDictionaries.tsx","page/utkast/skjema-section/begrunnelse/begrunnelse.tsx","api/veilarbvedtaksstotte/utkast.ts","util/logger.ts","component/tidligere-vedtak-liste/tidligere-vedtak-liste.tsx","component/label/label.tsx","component/panel/dato-label.tsx","component/panel/utkast/utkast.svg","component/panel/utkast/utkast-til-beslutter.svg","component/panel/hovedside-panel/hovedside-panel.tsx","util/tilgang.ts","component/panel/vedtaksstotte/vedtaksstotte-panel.tsx","component/panel/kvalitetssikrer-label.tsx","store/tilgang-store.ts","component/panel/utkast/utkast-panel.tsx","component/panel/veileder.tsx","component/panel/gjeldende-vedtak/fullfort.svg","component/panel/gjeldende-vedtak/gjeldende-vedtak-panel.tsx","store/modal-store.ts","component/panel/nytt-vedtak/nytt-vedtak.svg","store/app-store.ts","component/panel/nytt-vedtak/nytt-vedtak-panel.tsx","component/page/page.tsx","component/panel/ingen-tidligere-vedtak/ingen-vedtak.svg","component/panel/ingen-tidligere-vedtak/ingen-tidligere-vedtak-panel.tsx","component/panel/ingen-gjeldende-vedtak/ingen_gjeldende_vedtak.svg","component/panel/ingen-gjeldende-vedtak/ingen-gjeldende-vedtak.tsx","component/vedtak-fra-arena-liste/pdf.svg","component/vedtak-fra-arena-liste/vedtak-fra-arena-liste.tsx","page/hovedside/hovedside.tsx","component/footer/footer.tsx","component/skjema-visning/header/gjeldende-vedtak.svg","component/skjema-visning/header/tidligere-vedtak.svg","component/skjema-visning/header/skjema-visning-header.tsx","util/hovedmal.ts","component/skjema-visning/skjema-visning.tsx","page/vedtakskjema-visning/vedtakskjema-visning-side.tsx","component/pdf-viewer/pdf-viewer.tsx","component/varsel/varsel-type.ts","store/varsel-store.ts","api/veilarbvedtaksstotte/vedtak.ts","page/forhandsvisning/forhandsvisning.tsx","component/json-viewer/json-viewer.tsx","component/card/card.tsx","component/spinner/spinner.tsx","page/oyblikksbilde-visning/oyblikksbilde-fikser.ts","util/use-axios-fetcher.ts","page/oyblikksbilde-visning/oyblikksbilde-visning.tsx","page/utkast/footer/delete.svg","page/vedtaksbrev-visning/vedtaksbrev-visning.tsx","page/utkast/footer/taover.svg","page/utkast/footer/utkast-innhold.tsx","page/utkast/footer/utkast-status-melding.tsx","api/veilarbvedtaksstotte/beslutter.ts","store/dialog-section-store.ts","page/utkast/footer/dialog-innhold.tsx","util/hooks.ts","page/utkast/footer/utkast-footer.tsx","page/utkast/skjema-section/header/utkast.svg","page/utkast/skjema-section/header/skjema-header.tsx","page/utkast/dialog-section/dialog-tips-innhold.tsx","page/utkast/dialog-section-minified/lukk-dialog.svg","page/utkast/dialog-section-minified/apne-dialog.svg","page/utkast/dialog-section-minified/dialog-toggle-btn.tsx","page/utkast/dialog-section/til-oversikt.svg","page/utkast/dialog-section/dialog-section-header.tsx","api/veilarbvedtaksstotte/meldinger.ts","util/html-utils.ts","page/utkast/dialog-section/melding-liste/dialog-melding/dialog-melding.tsx","page/utkast/dialog-section/melding-liste/system-melding/system-melding.tsx","page/utkast/dialog-section/melding-liste/melding-liste.tsx","page/utkast/dialog-section/dialog-section.tsx","page/utkast/skjema-section/kilder/vis-kilde/vis-kilde.tsx","page/utkast/skjema-section/kilder/rediger-kilde/rediger-kilde.tsx","page/utkast/skjema-section/kilder/legg-til-kilde/legg-til-kilde.tsx","page/utkast/skjema-section/kilder/kilder-tips-innhold.tsx","page/utkast/skjema-section/kilder/kilder.tsx","page/utkast/skjema-section/innsatsgruppe/innsatsgruppe-tips-innhold.tsx","page/utkast/skjema-section/innsatsgruppe/innsatsgruppe.tsx","page/utkast/skjema-section/hovedmal/hovedmal.tsx","page/utkast/skjema-section/endre-skjema-section.tsx","page/utkast/skjema-section/les-skjema-section.tsx","page/utkast/dialog-section-minified/dialog-msg.svg","page/utkast/dialog-section-minified/dialog-new-msg.svg","page/utkast/dialog-section-minified/dialog-section-minified.tsx","page/utkast/dialog-section-minified/dialog-section-header-minified.tsx","component/screen-reader-speak/screen-reader-speak.tsx","page/utkast/utkast-side.tsx","component/view-controller.tsx","api/veilarboppfolging.ts","api/veilarbveileder.ts","component/data-fetcher.tsx","page/prelansering/prelansering.png","page/prelansering/prelansering-info.tsx","page/prelansering/tilbakemelding-ekspanderbartpanel/svaert_bra.svg","page/prelansering/tilbakemelding-ekspanderbartpanel/svaert_darlig.svg","component/image-button/image-button.tsx","page/prelansering/tilbakemelding-ekspanderbartpanel/tilbakemelding-ekspanderbartpanel.tsx","page/prelansering/losning-info/beslutterfunksjon.svg","page/prelansering/losning-info/hjelpesporsmal.svg","page/prelansering/losning-info/klagebehandling.svg","page/prelansering/losning-info/mellomlagre.svg","page/prelansering/losning-info/synlighet-til-bruker.svg","page/prelansering/losning-info/losning-info.tsx","page/prelansering/prelansering.tsx","api/veilarbvedtaksstotte/utrulling.ts","component/sjekk/prelansering-sjekk.tsx","component/sjekk/nasjonal-tilgang-sjekk.tsx","store/store-provider.tsx","component/modal/varsel-modal/feil-sirkel.svg","component/modal/varsel-modal/advarsel-sirkel.svg","component/modal/varsel-modal/las-opp.svg","component/modal/varsel-modal/varsel-modal.tsx","component/modal/feil-modal/feil-modal.tsx","component/modal/feil-modal/feil-modal-config.ts","component/modal/spinner-modal/spinner-modal.tsx","component/modal/vedtak-sendt/bekreft-send-vedtak-modal.tsx","component/modal/slett-utkast-modal.tsx","component/modal/ta-over-modal/ta-over-modal.tsx","component/modal/avbryt-beslutter-prosess-modal/avbryt-beslutterprosess-modal.tsx","component/modal/godkjenn-modal/godkjenn-modal.tsx","component/modal-controller.tsx","component/tab-clicked-listener.tsx","util/promise-utils.ts","component/varsel/varsel-toast.tsx","component/varsel/varsel-config.ts","component/varsel/varsel-controller.tsx","mock/component/mock-panel.tsx","component/feature-fetcher.tsx","app.tsx","index.tsx","mock/api/veilarboppfolging.ts","mock/utils.ts","mock/api/veilarbvedtaksstotte/utkast.ts","mock/api/veilarbvedtaksstotte/beslutter.ts","mock/api/veilarbvedtaksstotte/meldinger.ts","mock/api/veilarbvedtaksstotte/vedtak.ts","mock/api/veilarbvedtaksstotte/utrulling.ts","mock/api/veilarbvedtaksstotte/index.ts","mock/api/veilarbperson.ts","mock/api/veilarbpersonflatefs.ts","mock/api/veilarbveileder.ts","mock/api/index.ts","mock/index.ts"],"names":["InnsatsgruppeType","HovedmalType","BeslutterProsessStatus","VEILARBVEDTAKSSTOTTE_API","tilgangTilBrukersKontor","oppfolgingData","reservasjonKRR","underOppfolging","inaktivIArena","malformFraPdl","malform","MalformType","nn","features","PRELANSERING_INFO_OM_LOSNING_TOGGLE","STOPPE_VEDTAKSUTSENDING_TOGGLE","SKRU_AV_POLLING_UTKAST","SKRU_AV_POLLING_DIALOG","innloggetVeileder","navn","veileder1","ident","fornavn","etternavn","dialogMeldinger","melding","opprettet","opprettetAvIdent","opprettetAvNavn","type","MeldingType","DIALOG_MELDING","veileder3","systemMeldinger","systemMeldingType","SystemMeldingType","UTKAST_OPPRETTET","utfortAvIdent","utfortAvNavn","SYSTEM_MELDING","BLITT_BESLUTTER","pabegyntUtkast","id","hovedmal","BEHOLDE_ARBEID","innsatsgruppe","GRADERT_VARIG_TILPASSET_INNSATS","utkastSistOppdatert","opplysninger","veilederNavn","veileder2","veilederIdent","oppfolgingsenhetId","enhetId","oppfolgingsenhetNavn","enhetNavn","begrunnelse","beslutterIdent","beslutterNavn","beslutterProsessStatus","historisk","STANDARD_INNSATS","vedtakFattet","gjeldende","SKAFFE_ARBEID","vedtakFraArena","journalpostId","dokumentInfoId","dato","oyblikksbilder","oyeblikksbildeType","OyblikksbildeType","CV_OG_JOBBPROFIL","json","REGISTRERINGSINFO","EGENVURDERING","mockMeldinger","utkast","env","isRunningOnGhPages","fattedeVedtak","hentUtkast","hentMeldinger","hentFattedeVedtak","hentTilgangTilBrukersKontor","hentOppfolgingData","hentMalformFraPdl","hentArenaVedtak","hentOyeblikksbilder","hentFeatures","hentInnloggetVeileder","oppdaterUtkast","delvisUtkast","Object","assign","leggTilMelding","push","leggTilFattetVedtak","vedtak","fjernAlleMockMeldinger","leggTilMockSystemMelding","nyMelding","Date","toISOString","oppdaterVedtakUtkastMockFraSkjema","skjemaData","byttUtUtkast","nyttUtkast","updateInnloggetVeilederMock","veileder","axiosInstance","axios","create","withCredentials","headers","APP_NAME","isAnyLoadingOrNotStarted","fetchers","some","f","loading","error","data","hasAnyFailed","ifResponseHasData","callback","res","status","Promise","resolve","fnr","veiledere","ALL_TOGGLES","fetchFeaturesToggles","map","element","join","get","fetchMalform","this","isDevelopment","process","window","location","hostname","split","findIndex","domain","includes","ViewType","EMDASH","String","fromCharCode","makeAbsoluteHeightStyle","height","minHeight","maxHeight","scrollToBottom","elem","scrollTop","scrollHeight","lagSkjemaelementFeilmelding","muligFeil","finnGjeldendeVedtak","vedtakListe","find","v","undefined","hentId","erBeslutterProsessStartet","erKlarTilBeslutter","KLAR_TIL_BESLUTTER","erKlarTilVeileder","KLAR_TIL_VEILEDER","erGodkjentAvBeslutter","GODKJENT_AV_BESLUTTER","swallowEnterKeyPress","e","charCode","preventDefault","isNothing","str","trim","length","constate","useState","parameterName","hash","UTKAST","HOVEDSIDE","view","setView","viewProps","setViewProps","changeView","props","ViewStoreProvider","useViewStore","formatDateTime","dateStr","dayjs","format","formatDateStr","sortDatesAsc","dateStr1","dateStr2","d1","d2","isBefore","sortDatesDesc","lagVedtakDatoTekst","date","toDate","days","startOf","diff","daysFromToday","formatDate","VedtakPanel","name","posisjon","ikon","children","onClick","elemId","className","src","alt","getInnsatsgruppeTekst","innsatsgruppeType","innsatsgruppeTekster","value","erStandard","erVarigEllerGradertVarig","VARIG_TILPASSET_INNSATS","tittel","undertekst","SITUASJONSBESTEMT_INNSATS","SPESIELT_TILPASSET_INNSATS","Show","if","VedtakListe","ingenVedtakTekst","vedtakMapper","harVedtak","cls","tag","idx","BegrunnelseTipsInnhold","TipsPopover","popoverTrigger","setPopoverTrigger","logToggleMetrikk","apnet","logMetrikk","target","currentTarget","ariaLabel","tipsBilde","autoFokus","avstandTilAnker","ankerEl","orientering","PopoverOrientering","UnderVenstre","onRequestClose","tipsInnhold","FeltHeader","SkjemaLagringStatus","tittelId","tipsId","tipsAriaLabel","eksternLenke","href","rel","ExternalLink","fr","placeholder","setOppfolgingData","setMalform","setFeatures","setInnloggetVeileder","setUtkast","setFattedeVedtak","arenaVedtak","setArenaVedtak","meldinger","setMeldinger","leggTilSystemMelding","systemMeldingData","curMeldinger","setUtkastBeslutter","setUtkastVeileder","setBeslutterProsessStatus","nullStillBeslutterProsess","DataStoreProvider","useDataStore","kilder","setKilder","setHovedmal","setInnsatsgruppe","setBegrunnelse","sistOppdatert","setSistOppdatert","errors","setErrors","INGEN_ENDRING","lagringStatus","setLagringStatus","harForsoktAForhandsvise","setHarForsoktAForhandsvise","validerSkjema","gjeldendeVedtak","feil","skjema","harSkrevetBegrunnelse","erStandardInnsatsValgt","erGjeldendeInnsatsVarig","maSkriveBegrunnelse","begrunnelsefeil","validerBegrunnelseMaxLength","validerBegrunnelseLengde","begrunnelseFeil","initSkjema","mappetKilder","kilde","translationPos","kildelisteNynorsk","indexOf","kildelisteBokmal","resetSkjema","SkjemaStoreProvider","useSkjemaStore","lixResultMessage","lix","Lix","words","content","wordCount","punctuationCount","char","longWordCount","i","Math","round","console","log","Accordion","Item","Header","Content","BodyShort","style","textTransform","Link","level","size","GammelnavskDictionary","gammelnavskResultater","kansellistenResultater","GammelnavskOrdliste","gammelnavsk_ordliste","filter","gammelnavsk","toLowerCase","match","ord","Kansellisten","kansellisten","kanselliord","klart_språk","kanselli","alternativ_1","NrkDictionaries","BEGRUNNELSE_MAX_LENGTH","malformToTekst","malformType","nb","Begrunnelse","setBegrunnelseFeil","visSprakhjelp","setVisSprakhjelp","useEffect","label","maxLength","onChange","newText","oldText","charDiff","tegn","substring","spellCheck","Switch","position","checked","hentMalformFraData","malformData","trengerKvalitetssikrer","oppdaterVedtakUtkast","vedtakId","kildeListe","values","put","fetchUtkast","metrikkNavn","fields","tags","TidligereVedtakListe","tidligereVedtak","useMemo","sort","v1","v2","innsatsgruppeTekst","vedtakBilde","mapVedtakTilPanel","vedtakData","VEDTAK","index","handleTidligereVedtakClicked","LabelType","Label","titleText","valueText","titleTextClassName","labelType","labelTypeClass","MEDIUM","SMALL","DatoLabel","formatType","text","HovedsidePanel","VeilederTilgang","VedtaksstottePanel","undertittel","imgSrc","tekstKomponent","knappKomponent","panelKlasse","undertittelClassName","KvalitetssikrerLabel","display","erAnsvarligVeileder","tilgang","ANSVARLIG_VEILEDER","erIkkeAnsvarligVeileder","IKKE_ANSVARLIG_VEILEDER","erBeslutter","BESLUTTER","finnVeilederTilgang","innloggetIdent","veilederTilgang","setVeilederTilgang","kanEndreUtkast","TilgangStoreProvider","useTilgangStore","UtkastPanel","utkastTilBeslutterIkon","utkastIkon","Veileder","GjeldendeVedtakPanel","innsatsgruppeData","fullfortVedtakIcon","ModalType","initalValues","setFnr","setEnhetId","AppStoreProvider","useAppStore","INGEN","modalType","setModalType","modalProps","setModalProps","showModal","hideModal","ModalStoreProvider","useModalStore","NyttVedtakPanel","kopierSisteVedtak","setKopierSisteVedtak","sisteVedtak","fv1","fv2","nyttVedtakBilde","disabled","LASTER","post","lagNyttUtkast","then","fetchResponse","a","Error","kopierteFraSisteVedtak","catch","FEIL_VED_OPPRETTING_AV_UTKAST","Page","contentClassName","IngenTidligereVedtakPanel","ingenVedtakBilde","IngenGjeldendeVedtakPanel","ingenGjeldendeVedtakBilde","VedtakFraArenaListe","mapArenaVedtakTilPanel","ARENA_VEDTAK_PDF","Hovedside","harTidligereVedtak","Footer","SkjemaVisningHeader","tittelTekst","erGjeldende","gjeldendeVedtakBilde","tidligereVedtakBilde","getHovedmalNavn","hovedmalobjekt","alleHovedmal","h","SkjemaVisning","fattetVedtak","fattetAv","o","OYBLIKKSBILDE_VISNING","VedtakskjemaVisningSide","vistVedtak","htmlType","mini","VEDTAK_PDF","PDFStatus","PdfError","PdfSpinner","Pages","Array","numPages","fill","pageNumber","width","VarselType","PdfViewer","file","state","onStatusUpdate","LOADING","url","scrollTo","top","nextProps","nextState","title","onLoadError","ERROR","onLoadSuccess","object","SUCCESS","setState","React","Component","varselType","setVarselType","showVarsel","hideVarsel","VarselStoreProvider","useVarselStore","hentOyblikksbilde","Forhandsvisning","NOT_STARTED","pdfStatus","setPdfStatus","utkastId","stoppeUtsendingFeatureToggle","erUtkastKlartTilUtsending","visSendKnapp","visKvalitetssikringInfo","FEIL_VED_FORHANDSVISNING","sendVedtak","fattVedtak","err","FEIL_VED_SENDING","response","finally","VEDTAK_SENT_SUKSESS","FEIL_UTSENDING_STOPPET","BEKREFT_SEND_VEDTAK","onSendVedtakBekreftet","form","JsonViewer","obj","JSON","parse","objToReact","entries","key","isType","prettifyKey","scalarToString","isArray","JsonKey","keyText","arrVal","val","types","t","scalar","toString","replace","charAt","toUpperCase","substr","Card","Spinner","fiksEgenvurderingJson","egenvurdering","removeNullValues","deepForEach","parent","sporsmal","formatDates","translateKeysToNorwegian","sorterSporsmalOgSvar","svar","spørsmål","yearMonthDayRegex","RegExp","yearMonthRegex","invalidDatesRegex","isValid","dictionary","forerkort","sprak","onsket","Maneder","utloper","keys","forEach","dictKey","dictValue","newKey","fn","useAxiosFetcher","fetcher","fetchState","setFetchState","isMounted","useRef","current","axiosFetch","useCallback","fetch","finnOyblikksbilde","oyblikksbildeType","oyblikksbilde","OyblikksbildeVisning","oyeblikksbildeFetcher","Oyeblikksbilde","oyeblikksbilde","cvOgJobbprofileJson","cvOgJobbprofil","fiksCvOgJobbprofil","registreringsinfoJson","regInfo","sisteStilling","registrering","stilling","fiksRegistreringsinfoJson","egenvurderingJson","VedleggCard","_style","_path","_path2","VedtaksbrevVisning","vedtaksbrevUrl","GenericVedtaksbrevVisning","tilbakeTekst","handleOnTilbakeClicked","ArenaVedtaksbrevVisning","FEIL_VED_VISNING","_excluded","_extends","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDelete","_ref","svgRef","titleId","xmlns","x","y","viewBox","xmlSpace","ref","d","ForwardRef","SvgTaover","fillRule","UtkastInnhold","laster","setLaster","erForhandsvisHovedknapp","sendDataTilBackend","vedtakskjema","FEIL_VED_LAGRING","BEKREFT_SLETT_UTKAST","focusable","BEKREFT_TA_OVER_UTKAST","skjemaFeil","harFeil","forsteFeilNavn","tittelElem","document","getElementById","scrollIntoView","block","scrollTilForsteFeil","FORHANDSVISNING","UtkastStatusMelding","alertStripeVerdier","skjemaInnsatsgruppe","tekst","utledStatusVerdier","ariaLive","minified","bliBeslutter","sectionHeight","setSectionHeight","showSection","setShowSection","harLastetMeldinger","setHarLastetMeldinger","harNyeMeldinger","setHarNyeMeldinger","DialogSectionProvider","useDialogSection","DialogInnhold","visStartBeslutterProsess","visSendTilBeslutter","visSendTilVeileder","visGodkjennUtkast","visBliBeslutter","handleGodkjennVedtak","BESLUTTER_HAR_GODKJENT","FEIL_VED_GODKJENT_AV_BESLUTTER","handleOnSendTilClicked","FEIL_VED_OPPDATER_BESLUTTER_PROSESS_STATUS","BESLUTTER_PROSESS_STARTET","FEIL_VED_START_BESLUTTER_PROSESS","FEIL_VED_BLI_BESLUTTER","BEKREFT_SEND_TIL_GODKJENNING","onGodkjennVedtakBekreftet","useIsAfterFirstRender","hasRenderedOnce","useEventListener","listener","deps","addEventListener","removeEventListener","calculateScrollBarWidth","body","offsetWidth","clientWidth","checkIsMaxWidthOrLess","isShowingDialog","dialogMaxWidth","maxWidth","UtkastFooter","isMaxWidthOrLess","setIsMaxWidthOrLess","scrollBarWidth","setScrollBarWidth","footerInnholdClassName","footerStyle","marginRight","SkjemaHeader","sistEndretTekst","LAGRER","ENDRING_IKKE_LAGRET","ALLE_ENDRINGER_LAGRET","LAGRING_FEILET","utledLagreTekst","skjemaLagringStatus","utkastBilde","DialogTipsInnhold","DialogToggleBtn","bilde","bildeAlt","lukkDialogBilde","apneDialogBilde","prevShow","DialogSectionHeader","UnderHoyre","erITestMiljo","tilOversiktBilde","urlRegex","DialogMeldingBar","formatAndCleanMessage","message","dirtyHtml","formattedMessage","dialogTekst","urlMatch","exec","matchedUrl","isInternalUrl","urlTag","replaceTextUrlsWithTags","DOMPurify","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","DialogMelding","skrevetAvNavn","skrevetAvMeg","meldingClasses","meldingBarClasses","dangerouslySetInnerHTML","__html","lagSystemMelding","BESLUTTER_PROSESS_AVBRUTT","TATT_OVER_SOM_BESLUTTER","TATT_OVER_SOM_VEILEDER","SENDT_TIL_VEILEDER","SENDT_TIL_BESLUTTER","SystemMelding","MeldingListe","mountTime","innloggetVeilederIdent","isNewAfter","isAfter","wrapperClasses","mapTilDialogMeldingView","mapTilSystemMeldingView","midlertidigMelding","MEDLINGER_ID","DialogSection","setMelding","senderMelding","setSenderMelding","skrivefeltRef","innholdStyle","kanSendeMelding","sorterteMeldinger","oppdaterMelding","meldingListeElem","autoCorrect","sendDialog","focus","FEIL_VED_UTSENDING_AV_DIALOG_MELDING","spinner","VisKilde","erValgt","kanRedigeres","defaultKilde","onKeyPress","activeElement","handleKilde","RedigerKilde","negativeBtn","onTekstSubmit","onTekstDeleteOrCancel","setTekst","nyKilde","autoFocus","LeggTilKilde","leggTilKilde","KilderTipsInnhold","Kilder","skjemaKilder","setSkjemaKilder","kildeTekst","mergeMedDefaultKilder","redigeringModusIndeks","setRedigeringModusIndeks","visLeggTilNyKilde","setVisLeggTilNyKilde","sistEndretIndeks","setSistEndretIndeks","isAfterFirstRender","nullstilState","handleKildeChanged","prevState","kilderKopi","valgteKilder","handleKildeChecked","erSistEndretIndeks","endretKilde","handleKildeDeleted","InnsatsgruppeTipsInnhold","Innsatsgruppe","InnsatsgruppeRadioButtons","handleInnsatsgruppeChanged","legend","BEKREFT_AVBRYT_BESLUTTER_PROSESS","Hovedmal","erVarigTilpassetInnsats","HovedmalRadioButtons","handleHovedmalChanged","mal","EndreSkjemaSection","pollBeslutterstatusIntervalRef","debounce","stopPolling","clearInterval","erStartet","erGodkjent","erHosBeslutter","setInterval","nyStatus","BESLUTTERPROSESS_TIL_VEILEDER","BESLUTTERPROSESS_GODKJENT","varsleBeslutterProsessStatusEndring","cancel","LesSkjemaSection","refreshUtkastIntervalRef","isEqual","UTKAST_OPPDATERT","BESLUTTERPROSESS_TIL_BESLUTTER","opplysning","DialogSectionMinified","dialogNewMsgBilde","dialogMsgBilde","DialogSectionHeaderMinified","ScreenReaderSpeak","role","calculateDialogSectionHeight","getElementsByClassName","getBoundingClientRect","clientHeight","UtkastSide","showSectionRef","harLastetMeldingerRef","meldingerRef","intervalRef","sisteOppdatering","utkastSkjema","dialogSectionStyle","hovedinnholdClassName","avbrytPolling","refreshMeldinger","nyeMeldinger","scrollListener","ViewController","fetchOppfolging","fetchTilgangTilBrukersKontor","fetchInnloggetVeileder","DataFetcher","fattedeVedtakFetcher","oppfolgingFetcher","malformFetcher","utkastFetcher","innloggetVeilederFetcher","arenaVedtakFetcher","PrelanseringInfo","prelanseringBilde","ImageButton","imgClassName","rest","TilbakemeldingEkspanderbartpanel","localStorageName","tilbakemeldingTag","harSendtTilbakemeldingTidligere","localStorage","getItem","visTilbakemelding","setVisTilbakemelding","handleTilbakemeldingValgClicked","valg","setItem","Heading","border","svaertBraBilde","svaertDarligBilde","LosningInfo","beslutterFunksjonBilde","mellomlagreBilde","synlighetTilBrukerBilde","klagebehandlingBilde","hjelpesporsmalBilde","Prelansering","fetchTilhorerBrukerUtrulletEnhet","PrelanseringSjekk","tilhorerBrukerUtrulletEnhetFetcher","useLayoutEffect","NasjonalTilgangSjekk","tilgangTilKontorFetcher","_g","StoreProvider","SvgFeilSirkel","SvgAdvarselSirkel","_g2","SvgLasOpp","transform","VarselIkonType","VarselModal","contentLabel","isOpen","varselIkonType","closeTimeoutMS","closeButton","shouldCloseOnOverlayClick","portalClassName","visVarselIkon","innholdClassName","VarselIkon","FEIL","ADVARSEL","LAS_OPP","FeilModal","config","beskrivelse","viewAction","knappeTekst","handleRequestClose","feilVedOpprettingAvUtkast","feilVedSendningConfig","stoppeUtsendingFeatureToggleConfig","feilVedForhandsvisnigConfig","feilVedVisningConfig","feilVedLagringConfig","feilVedSlettingAvUtkastConfig","feilVedOvertakelseAvUtkastConfig","feilVedStartBeslutterProsessConfig","feilVedAvbrytBeslutterProsessConfig","feilVedBliBeslutterConfig","feilVedUtsendingAvDialogMelding","feilVedOppdaterBeslutterProsessStatus","feilVedGodkjenningAvBeslutter","feilVedValideringAvUtkast","SpinnerModal","BekreftSendVedtakModal","SlettUtkastModal","TaOverFor","delete","FEIL_VED_SLETTING","taOverOptions","VEILEDER","KVALITETSSIKRER","TaOverModal","taOverFor","setTaOverFor","visValg","handleTaOverVedtak","prevUtkast","erAlleredeBeslutter","beslutter","visTattOverVarsel","FEIL_VED_OVERTAKELSE","OvertaForVeilederVisning","OvertaValgVisning","radios","Innhold","AvbrytBeslutterProsessModal","FEIL_VED_AVBRYT_BESLUTTER_PROSESS","GodkjennModal","GodkjennVisning","onGodkjennUtkastBekreftet","ModalController","feilModalConfig","FEIL_VED_VALIDERING_AV_UTKAST","finnFeilModalConfig","TabClickedListener","event","CustomEvent","detail","tabId","delay","ms","setTimeout","VarselToast","hide","setHide","fadeClass","setFadeClass","onHide","durationMs","fadeIn","fadeOut","unmount","vedtakSendt","tattOverSomVeileder","tattOverSomBeslutter","utkastOppdatert","beslutterprosessTilVeileder","beslutterprosessTilBeslutter","beslutterprosessGodkjent","VarselController","varselConfig","MockPanel","visPanel","setVisPanel","toggle","prevVisPanel","InnloggetSom","byttInnloggetVeileder","FeatureFetcher","featureAxiosFetcher","App","enhet","isProduction","ModalWrapper","setAppElement","NAVSPA","eksporter","require","ReactDOM","render","veilarboppfolgingHandlers","req","ctx","lagVedtakBrevMockUrl","mockUrlPrefix","utkastHandlers","sendtTilBeslutter","brevMockUrl","brevRes","blob","brevBlob","beslutterHandlers","meldingerHandlers","sendDialogData","vedtakHandlers","parseInt","params","utrullingHandlers","veilarbvedtaksstotteHandlers","veilarbpersonHandlers","veilarbpersonflatefsHandlers","veilarbveilederHandlers","allHandlers","setupWorker","start","serviceWorker"],"mappings":"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","file":"static/js/main.7499b0e3.chunk.js","sourcesContent":["import { OrNothing } from '../../util/type/ornothing';\n\nexport const VEILARBVEDTAKSSTOTTE_API = '/veilarbvedtaksstotte/api';\n\nexport enum InnsatsgruppeType {\n\tSTANDARD_INNSATS = 'STANDARD_INNSATS',\n\tSITUASJONSBESTEMT_INNSATS = 'SITUASJONSBESTEMT_INNSATS',\n\tSPESIELT_TILPASSET_INNSATS = 'SPESIELT_TILPASSET_INNSATS',\n\tGRADERT_VARIG_TILPASSET_INNSATS = 'GRADERT_VARIG_TILPASSET_INNSATS',\n\tVARIG_TILPASSET_INNSATS = 'VARIG_TILPASSET_INNSATS'\n}\n\nexport enum HovedmalType {\n\tSKAFFE_ARBEID = 'SKAFFE_ARBEID',\n\tBEHOLDE_ARBEID = 'BEHOLDE_ARBEID'\n}\n\nexport enum BeslutterProsessStatus {\n\tKLAR_TIL_BESLUTTER = 'KLAR_TIL_BESLUTTER',\n\tKLAR_TIL_VEILEDER = 'KLAR_TIL_VEILEDER',\n\tGODKJENT_AV_BESLUTTER = 'GODKJENT_AV_BESLUTTER'\n}\n\nexport interface Utkast {\n\tid: number;\n\thovedmal: OrNothing<HovedmalType>;\n\tinnsatsgruppe: OrNothing<InnsatsgruppeType>;\n\tutkastSistOppdatert: string;\n\tbegrunnelse: OrNothing<string>;\n\tveilederIdent: string;\n\tveilederNavn: string;\n\toppfolgingsenhetId: string;\n\toppfolgingsenhetNavn: string;\n\tbeslutterIdent: OrNothing<string>;\n\tbeslutterNavn: OrNothing<string>;\n\topplysninger: string[]; // Har blitt renamet til \"kilder\" i etterkant\n\tbeslutterProsessStatus: OrNothing<BeslutterProsessStatus>;\n}\n\nexport interface Vedtak {\n\tid: number;\n\thovedmal: OrNothing<HovedmalType>;\n\tinnsatsgruppe: InnsatsgruppeType;\n\tbegrunnelse: OrNothing<string>;\n\tveilederIdent: string;\n\tveilederNavn: string;\n\toppfolgingsenhetId: string;\n\toppfolgingsenhetNavn: string;\n\tbeslutterIdent: OrNothing<string>;\n\tbeslutterNavn: OrNothing<string>;\n\topplysninger: string[]; // Har blitt renamet til \"kilder\" i etterkant\n\n\tgjeldende: boolean;\n\tvedtakFattet: string;\n}\n","import OppfolgingData from '../api/veilarboppfolging';\nimport TilgangTilBrukersKontor from '../util/type/tilgang-til-brukers-kontor';\nimport { MalformData, MalformType } from '../api/veilarbperson';\nimport {\n\tFeatureToggles,\n\tPRELANSERING_INFO_OM_LOSNING_TOGGLE,\n\tSKRU_AV_POLLING_DIALOG,\n\tSKRU_AV_POLLING_UTKAST,\n\tSTOPPE_VEDTAKSUTSENDING_TOGGLE\n} from '../api/veilarbpersonflatefs';\nimport { Veileder } from '../api/veilarbveileder';\nimport { enhetId, enhetNavn, veileder1, veileder2, veileder3 } from './data';\nimport { DialogMelding, SystemMelding } from '../api/veilarbvedtaksstotte/meldinger';\nimport { MeldingType, SystemMeldingType } from '../util/type/melding-type';\nimport { HovedmalType, InnsatsgruppeType, Utkast, Vedtak } from '../api/veilarbvedtaksstotte';\nimport { SkjemaData } from '../util/skjema-utils';\nimport env from '../util/environment';\nimport { ArenaVedtak } from '../api/veilarbvedtaksstotte/vedtak';\nimport { Oyblikksbilde } from '../util/type/oyblikksbilde';\nimport OyblikksbildeType from '../util/type/oyblikksbilde-type';\n\nconst tilgangTilBrukersKontor: TilgangTilBrukersKontor = {\n\ttilgangTilBrukersKontor: true\n};\n\nconst oppfolgingData: OppfolgingData = {\n\treservasjonKRR: false,\n\tunderOppfolging: true,\n\tinaktivIArena: true\n};\n\nconst malformFraPdl: MalformData = {\n\tmalform: MalformType.nn\n};\n\nconst features: FeatureToggles = {\n\t[PRELANSERING_INFO_OM_LOSNING_TOGGLE]: true,\n\t[STOPPE_VEDTAKSUTSENDING_TOGGLE]: false,\n\t[SKRU_AV_POLLING_UTKAST]: false,\n\t[SKRU_AV_POLLING_DIALOG]: false\n};\n\nlet innloggetVeileder: Veileder = {\n\tnavn: veileder1.navn,\n\tident: veileder1.ident,\n\tfornavn: 'Ola',\n\tetternavn: 'Nordmann'\n};\n\nconst dialogMeldinger: DialogMelding[] = [\n\t{\n\t\tmelding: 'Kan du sjekke om alt ser greit ut?',\n\t\topprettet: '2020-02-05T09:47:13.716393+02:00',\n\t\topprettetAvIdent: innloggetVeileder.ident,\n\t\topprettetAvNavn: innloggetVeileder.navn,\n\t\ttype: MeldingType.DIALOG_MELDING\n\t},\n\t{\n\t\tmelding: 'Kanskje du burde skrive litt mer utfyllende i begrunnelsen. Ellers så ser det bra ut :)',\n\t\topprettet: '2020-02-06T12:37:44.716393+02:00',\n\t\topprettetAvIdent: veileder3.ident,\n\t\topprettetAvNavn: veileder3.navn,\n\t\ttype: MeldingType.DIALOG_MELDING\n\t},\n\t{\n\t\tmelding: 'Den er grei',\n\t\topprettet: '2020-02-08T14:23:12.716393+02:00',\n\t\topprettetAvIdent: innloggetVeileder.ident,\n\t\topprettetAvNavn: innloggetVeileder.navn,\n\t\ttype: MeldingType.DIALOG_MELDING\n\t},\n\t{\n\t\tmelding: 'Wow, dette var en awsome nettside! https://navikt.github.io/veilarbvedtaksstottefs',\n\t\topprettet: '2020-02-08T14:24:10.716393+02:00',\n\t\topprettetAvIdent: innloggetVeileder.ident,\n\t\topprettetAvNavn: innloggetVeileder.navn,\n\t\ttype: MeldingType.DIALOG_MELDING\n\t}\n];\n\nconst systemMeldinger: SystemMelding[] = [\n\t{\n\t\tsystemMeldingType: SystemMeldingType.UTKAST_OPPRETTET,\n\t\topprettet: '2020-02-05T09:47:01.716393+02:00',\n\t\tutfortAvIdent: innloggetVeileder.ident,\n\t\tutfortAvNavn: innloggetVeileder.navn,\n\t\ttype: MeldingType.SYSTEM_MELDING\n\t},\n\t{\n\t\tsystemMeldingType: SystemMeldingType.BLITT_BESLUTTER,\n\t\topprettet: '2020-02-06T12:36:37.716393+02:00',\n\t\tutfortAvIdent: veileder3.ident,\n\t\tutfortAvNavn: veileder3.navn,\n\t\ttype: MeldingType.SYSTEM_MELDING\n\t}\n];\n\nconst pabegyntUtkast: Utkast = {\n\tid: 100,\n\thovedmal: HovedmalType.BEHOLDE_ARBEID,\n\tinnsatsgruppe: InnsatsgruppeType.GRADERT_VARIG_TILPASSET_INNSATS,\n\tutkastSistOppdatert: '2019-05-07T10:22:32.98982+02:00',\n\topplysninger: ['Svarene dine om behov for veiledning', 'En annen viktig opplysning'],\n\tveilederNavn: veileder2.navn,\n\tveilederIdent: veileder2.ident,\n\toppfolgingsenhetId: enhetId,\n\toppfolgingsenhetNavn: enhetNavn,\n\tbegrunnelse:\n\t\t'På grunn av Sterk Mygg sin unge alder er det viktig at hun får hjelp til å komme i arbeid så raskt som mulig. Det vil ' +\n\t\t'sannsynligvis gi god effekt å finne en praksisplass i nærheten av hjemstedet slik at hun kan bo i nåværende bolig og lett komme seg ' +\n\t\t'til og fra arbeidsplassen.',\n\tbeslutterIdent: null,\n\tbeslutterNavn: null,\n\tbeslutterProsessStatus: null\n};\n\nconst historisk: Vedtak[] = [\n\t{\n\t\tid: 1234,\n\t\thovedmal: HovedmalType.BEHOLDE_ARBEID,\n\t\tinnsatsgruppe: InnsatsgruppeType.STANDARD_INNSATS,\n\t\tvedtakFattet: '2018-08-05T09:55:43.716393+02:00',\n\t\tbegrunnelse:\n\t\t\t'sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.' +\n\t\t\t'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.' +\n\t\t\t'Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.' +\n\t\t\t'Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n' +\n\t\t\t'Secundum durationem temporis speciem numeri ex sequentibus statim Unitates\\n' +\n\t\t\t'- listepunkt 1\\n' +\n\t\t\t'- listepunkt 2\\n' +\n\t\t\t'- listepunkt 3\\n' +\n\t\t\t'- listepunkt 4\\n' +\n\t\t\t'- listepunkt 5',\n\t\topplysninger: [\n\t\t\t'Svarene dine fra da du registrerte deg',\n\t\t\t'CV-en/jobbprofilen din på nav.no',\n\t\t\t'Svarene dine om behov for veiledning'\n\t\t],\n\t\tgjeldende: false,\n\t\tveilederNavn: veileder1.navn,\n\t\tveilederIdent: veileder1.ident,\n\t\toppfolgingsenhetId: enhetId,\n\t\toppfolgingsenhetNavn: enhetNavn,\n\t\tbeslutterIdent: null,\n\t\tbeslutterNavn: null\n\t},\n\t{\n\t\tid: 1235,\n\t\thovedmal: HovedmalType.SKAFFE_ARBEID,\n\t\tinnsatsgruppe: InnsatsgruppeType.STANDARD_INNSATS,\n\t\topplysninger: [\n\t\t\t'Svarene dine fra da du registrerte deg',\n\t\t\t'Lorem ipsum dolor sit amet, consectetur adipiscing elit'\n\t\t],\n\t\tvedtakFattet: '2019-12-12T12:58:43.716393+02:00',\n\t\tbegrunnelse:\n\t\t\t'sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.' +\n\t\t\t'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.' +\n\t\t\t'Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.' +\n\t\t\t'Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\\n' +\n\t\t\t'Secundum durationem temporis speciem numeri ex sequentibus statim Unitates\\n' +\n\t\t\t'- listepunkt 1\\n' +\n\t\t\t'- listepunkt 2\\n' +\n\t\t\t'- listepunkt 3\\n' +\n\t\t\t'- listepunkt 4\\n' +\n\t\t\t'- listepunkt 5',\n\t\tgjeldende: true,\n\t\tveilederNavn: veileder1.navn,\n\t\tveilederIdent: veileder1.ident,\n\t\toppfolgingsenhetId: enhetId,\n\t\toppfolgingsenhetNavn: enhetNavn,\n\t\tbeslutterIdent: veileder3.ident,\n\t\tbeslutterNavn: veileder3.navn\n\t}\n];\n\nconst vedtakFraArena: ArenaVedtak[] = [\n\t{\n\t\tjournalpostId: '22334455',\n\t\tdokumentInfoId: '66778899',\n\t\tdato: '2018-11-15T12:35:51'\n\t}\n];\n\nconst oyblikksbilder: Oyblikksbilde[] = [\n\t{\n\t\toyeblikksbildeType: OyblikksbildeType.CV_OG_JOBBPROFIL,\n\t\tjson: `{\"sistEndret\":\"2019-01-28T18:36:16.647+01:00\",\"synligForArbeidsgiver\":true,\"sistEndretAvNav\":false,\"sammendrag\":\"Svært liten arbeidserfaring. Vært til sjøs i ungdommen. Har satset på å livnære meg som forfatter. Det har ikke gått så bra økonimsik sett. Selv om jeg er en etablert lyriker. Men jeg har vanskelig for å se at jeg har noen andre muligheter. \",\"arbeidserfaring\":[],\"utdanning\":[],\"annenErfaring\":[],\"forerkort\":[{\"klasse\":\"B\",\"fraDato\":\"1977-01-01\",\"utloperDato\":\"2020-01-01\"}],\"kurs\":[],\"sertifikater\":[],\"sprak\":[], \"jobbprofil\": {\"sistEndret\":\"2019-01-28T18:36:16.666+01:00\",\"onsketYrke\":[{\"tittel\":\"Barne- og ungdomsarbeider\"},{\"tittel\":\"Fritidsklubbassistent\"}],\"onsketArbeidssted\":[{\"stedsnavn\":\"Østfold\"},{\"stedsnavn\":\"Tromsø\"},{\"stedsnavn\":\"Aremark\"}],\"onsketAnsettelsesform\":[{\"tittel\":\"FAST\"},{\"tittel\":\"VIKARIAT\"}],\"onsketArbeidstidsordning\":[{\"tittel\":\"DAGTID\"}],\"heltidDeltid\":{\"heltid\":true,\"deltid\":true},\"kompetanse\":[]}}`\n\t},\n\t{\n\t\toyeblikksbildeType: OyblikksbildeType.REGISTRERINGSINFO,\n\t\tjson: `{\"type\":\"ORDINAER\",\"registrering\":{\"manueltRegistrertAv\":{\"ident\":\"O11111111\",\"enhet\":{\"id\":\"1234\",\"navn\":\"NAV Enhet\"}},\"id\":884,\"opprettetDato\":\"2020-01-16T12:59:46.883561+01:00\",\"besvarelse\":{\"utdanning\":\"VIDEREGAENDE_GRUNNUTDANNING\",\"utdanningBestatt\":\"JA\",\"utdanningGodkjent\":\"JA\",\"helseHinder\":\"NEI\",\"andreForhold\":\"NEI\",\"sisteStilling\":\"INGEN_SVAR\",\"dinSituasjon\":\"DELTIDSJOBB_VIL_MER\",\"fremtidigSituasjon\":null,\"tilbakeIArbeid\":null},\"teksterForBesvarelse\":[{\"sporsmalId\":\"sisteStilling\",\"sporsmal\":\"Hva er din siste jobb?\",\"svar\":\"Salgsmedarbeider i supermarked\"},{\"sporsmalId\":\"utdanning\",\"sporsmal\":\"Hva er din høyeste fullførte utdanning?\",\"svar\":\"Videregående grunnutdanning (1 til 2 år)\"},{\"sporsmalId\":\"utdanningBestatt\",\"sporsmal\":\"Er utdanningen din bestått?\",\"svar\":\"Ja\"},{\"sporsmalId\":\"utdanningGodkjent\",\"sporsmal\":\"Er utdanningen din godkjent i Norge?\",\"svar\":\"Ja\"},{\"sporsmalId\":\"dinSituasjon\",\"sporsmal\":\"Velg den situasjonen som passer deg best\",\"svar\":\"Har deltidsjobb, men vil jobbe mer\"},{\"sporsmalId\":\"helseHinder\",\"sporsmal\":\"Har du helseproblemer som hindrer deg i å søke eller være i jobb?\",\"svar\":\"Nei\"},{\"sporsmalId\":\"andreForhold\",\"sporsmal\":\"Har du andre problemer med å søke eller være i jobb?\",\"svar\":\"Nei\"}],\"sisteStilling\":{\"label\":\"Salgsmedarbeider i supermarked\",\"konseptId\":45518,\"styrk08\":\"5223\"},\"profilering\":{\"jobbetSammenhengendeSeksAvTolvSisteManeder\":true,\"alder\":30,\"innsatsgruppe\":\"STANDARD_INNSATS\"}}}`\n\t},\n\t{\n\t\toyeblikksbildeType: OyblikksbildeType.EGENVURDERING,\n\t\tjson: `{\"besvarelseId\":681,\"sistOppdatert\":\"2020-02-07T12:45:51.342+01:00\",\"svar\":[{\"spmId\":\"kontakt-fra-nav-veileder\",\"besvarelseId\":681,\"svar\":\"Ja\",\"spm\":\"Ønsker du å kontakte veilederen din for å komme videre med jobbsøkingen?\",\"dato\":\"2020-02-07T12:45:25.329+01:00\"},{\"spmId\":\"hvilken-veiledning-trengs\",\"besvarelseId\":681,\"svar\":\"Jeg trenger å bli bedre på å skrive CVer\",\"spm\":\"Hva trenger du hjelp til i jobbsøkingen?\",\"dato\":\"2020-02-07T12:45:51.342+01:00\"}]}`\n\t}\n];\n\nlet mockMeldinger = [...dialogMeldinger, ...systemMeldinger];\n\nlet utkast: Utkast | null = env.isRunningOnGhPages ? null : pabegyntUtkast;\n\nconst fattedeVedtak = historisk;\n\nexport function hentUtkast(): Utkast | null {\n\treturn utkast;\n}\n\nexport function hentMeldinger(): (DialogMelding | SystemMelding)[] {\n\treturn mockMeldinger;\n}\n\nexport function hentFattedeVedtak(): Vedtak[] {\n\treturn fattedeVedtak;\n}\n\nexport function hentTilgangTilBrukersKontor(): TilgangTilBrukersKontor {\n\treturn tilgangTilBrukersKontor;\n}\n\nexport function hentOppfolgingData(): OppfolgingData {\n\treturn oppfolgingData;\n}\n\nexport function hentMalformFraPdl(): MalformData {\n\treturn malformFraPdl;\n}\n\nexport function hentArenaVedtak(): ArenaVedtak[] {\n\treturn vedtakFraArena;\n}\n\nexport function hentOyeblikksbilder(): Oyblikksbilde[] {\n\treturn oyblikksbilder;\n}\n\nexport function hentFeatures(): FeatureToggles {\n\treturn features;\n}\n\nexport function hentInnloggetVeileder(): Veileder {\n\treturn innloggetVeileder;\n}\n\nexport function oppdaterUtkast(delvisUtkast: Partial<Utkast>) {\n\tif (utkast) {\n\t\tutkast = Object.assign({}, utkast, delvisUtkast);\n\t}\n}\n\nexport function leggTilMelding(melding: DialogMelding | SystemMelding) {\n\tmockMeldinger.push(melding);\n}\n\nexport function leggTilFattetVedtak(vedtak: Vedtak) {\n\tfattedeVedtak.push(vedtak);\n}\n\nexport function fjernAlleMockMeldinger() {\n\tmockMeldinger = [];\n}\n\nexport function leggTilMockSystemMelding(systemMeldingType: SystemMeldingType) {\n\tconst nyMelding: SystemMelding = {\n\t\topprettet: new Date().toISOString(),\n\t\tsystemMeldingType,\n\t\ttype: MeldingType.SYSTEM_MELDING,\n\t\tutfortAvIdent: innloggetVeileder.ident,\n\t\tutfortAvNavn: innloggetVeileder.navn\n\t};\n\n\tmockMeldinger.push(nyMelding);\n}\n\nexport function oppdaterVedtakUtkastMockFraSkjema(skjemaData: SkjemaData) {\n\tif (utkast) {\n\t\tutkast.begrunnelse = skjemaData.begrunnelse;\n\t\tutkast.hovedmal = skjemaData.hovedmal;\n\t\tutkast.innsatsgruppe = skjemaData.innsatsgruppe;\n\t\tutkast.opplysninger = skjemaData.opplysninger ? skjemaData.opplysninger : [];\n\t}\n}\n\nexport function byttUtUtkast(nyttUtkast: Utkast | null) {\n\tutkast = nyttUtkast;\n}\n\nexport function updateInnloggetVeilederMock(veileder: Veileder) {\n\tinnloggetVeileder = {\n\t\t...innloggetVeileder,\n\t\tnavn: veileder.navn,\n\t\tident: veileder.ident\n\t};\n}\n","export enum MeldingType {\n\tDIALOG_MELDING = 'DIALOG_MELDING',\n\tSYSTEM_MELDING = 'SYSTEM_MELDING'\n}\nexport enum SystemMeldingType {\n\tUTKAST_OPPRETTET = 'UTKAST_OPPRETTET',\n\tBESLUTTER_PROSESS_STARTET = 'BESLUTTER_PROSESS_STARTET',\n\tBLITT_BESLUTTER = 'BLITT_BESLUTTER',\n\tBESLUTTER_HAR_GODKJENT = 'BESLUTTER_HAR_GODKJENT',\n\tTATT_OVER_SOM_BESLUTTER = 'TATT_OVER_SOM_BESLUTTER',\n\tTATT_OVER_SOM_VEILEDER = 'TATT_OVER_SOM_VEILEDER',\n\tSENDT_TIL_VEILEDER = 'SENDT_TIL_VEILEDER',\n\tSENDT_TIL_BESLUTTER = 'SENDT_TIL_BESLUTTER',\n\tBESLUTTER_PROSESS_AVBRUTT = 'BESLUTTER_PROSESS_AVBRUTT'\n}\n","import axios, { AxiosError, AxiosPromise, AxiosResponse } from 'axios';\nimport { APP_NAME } from '../util/constants';\n\nexport const axiosInstance = axios.create({\n\twithCredentials: true,\n\theaders: { 'Nav-Consumer-Id': APP_NAME }\n});\n\nexport function isAnyLoading(...fetchers: { loading: boolean }[]): boolean {\n\treturn fetchers.some(f => f.loading);\n}\n\nexport function isAnyLoadingOrNotStarted(...fetchers: { data?: any; error?: any; loading: boolean }[]): boolean {\n\treturn fetchers.some(f => f.loading || (!f.error && !f.data));\n}\n\nexport function hasAnyFailed(...fetchers: { error?: AxiosError }[]): boolean {\n\treturn fetchers.some(f => f.error);\n}\n\nexport function ifResponseHasData<T>(callback: (data: T) => void): (res: AxiosResponse<T>) => AxiosPromise<T> {\n\treturn (res: AxiosResponse<T>) => {\n\t\tif (res.status < 300 && res.data) {\n\t\t\tcallback(res.data);\n\t\t}\n\t\treturn Promise.resolve(res);\n\t};\n}\n","import { Veileder } from '../api/veilarbveileder';\n\nexport const fnr = '00123456789';\nexport const enhetId = '0118';\nexport const enhetNavn = 'NAV Testheim';\n\nexport const veileder1: Veileder = {\n\tfornavn: 'Ola',\n\tetternavn: 'Nordmann',\n\tnavn: 'Ola Nordmann',\n\tident: 'O11111111'\n};\n\nexport const veileder2: Veileder = {\n\tfornavn: 'Kari',\n\tetternavn: 'Nordmann',\n\tnavn: 'Kari Nordmann',\n\tident: 'K22222222'\n};\n\nexport const veileder3: Veileder = {\n\tfornavn: 'Per',\n\tetternavn: 'Nordmann',\n\tnavn: 'Per Nordmann',\n\tident: 'P333333333'\n};\n\nexport const veiledere: Veileder[] = [veileder1, veileder2, veileder3];\n","import { AxiosPromise } from 'axios';\nimport { axiosInstance } from './utils';\n\nexport const PRELANSERING_INFO_OM_LOSNING_TOGGLE = 'veilarbvedtaksstottefs.prelansering.info-om-losning';\nexport const STOPPE_VEDTAKSUTSENDING_TOGGLE = 'veilarbvedtaksstottefs.stoppevedtaksutsending';\nexport const SKRU_AV_POLLING_UTKAST = 'veilarbvedtaksstottefs.skru_av_polling_utkast';\nexport const SKRU_AV_POLLING_DIALOG = 'veilarbvedtaksstottefs.skru_av_polling_dialog';\n\nexport const ALL_TOGGLES = [\n\tPRELANSERING_INFO_OM_LOSNING_TOGGLE,\n\tSTOPPE_VEDTAKSUTSENDING_TOGGLE,\n\tSKRU_AV_POLLING_UTKAST,\n\tSKRU_AV_POLLING_DIALOG\n];\n\nexport interface FeatureToggles {\n\t[PRELANSERING_INFO_OM_LOSNING_TOGGLE]: boolean;\n\t[STOPPE_VEDTAKSUTSENDING_TOGGLE]: boolean;\n\t[SKRU_AV_POLLING_UTKAST]: boolean;\n\t[SKRU_AV_POLLING_DIALOG]: boolean;\n}\n\nexport function fetchFeaturesToggles(): AxiosPromise<FeatureToggles> {\n\tconst features = ALL_TOGGLES.map(element => 'feature=' + element).join('&');\n\treturn axiosInstance.get<FeatureToggles>(`/veilarbpersonflatefs/api/feature?${features}`);\n}\n","import { AxiosPromise } from 'axios';\nimport { axiosInstance } from './utils';\n\nexport enum MalformType {\n\tnb = 'nb',\n\tnn = 'nn'\n}\n\nexport interface MalformData {\n\tmalform: MalformType | null;\n}\n\nexport function fetchMalform(fnr: string): AxiosPromise<MalformData> {\n\treturn axiosInstance.get(`/veilarbperson/api/v2/person/malform?fnr=${fnr}`);\n}\n","class Environment {\n\tget isProduction() {\n\t\treturn !this.isDevelopment;\n\t}\n\n\tget isDevelopment() {\n\t\treturn process.env.REACT_APP_DEV === 'true';\n\t}\n\n\tget erITestMiljo() {\n\t\treturn (\n\t\t\twindow.location.hostname.split('.').findIndex(domain => ['app-q1', 'app-q0', 'dev'].includes(domain)) >= 0\n\t\t);\n\t}\n\n\tget isRunningOnGhPages() {\n\t\treturn window.location.hostname === 'navikt.github.io';\n\t}\n}\n\nconst env = new Environment();\n\nexport default env;\n","enum OyblikksbildeType {\n\tCV_OG_JOBBPROFIL = 'CV_OG_JOBBPROFIL',\n\tREGISTRERINGSINFO = 'REGISTRERINGSINFO',\n\tEGENVURDERING = 'EGENVURDERING'\n}\n\nexport default OyblikksbildeType;\n","export const APP_NAME = 'veilarbvedtaksstottefs';\n","import { useState } from 'react';\nimport constate from 'constate';\nimport { hasHashParam } from '../util';\n\nexport enum ViewType {\n\tHOVEDSIDE = 'HOVEDSIDE',\n\tUTKAST = 'UTKAST',\n\tFORHANDSVISNING = 'FORHANDSVISNING',\n\tOYBLIKKSBILDE_VISNING = 'VEDLEGG',\n\tVEDTAK = 'VEDTAK',\n\tVEDTAK_PDF = 'VEDTAK_PDF',\n\tARENA_VEDTAK_PDF = 'ARENA_VEDTAK_PDF'\n}\n\nexport const [ViewStoreProvider, useViewStore] = constate(() => {\n\tconst [view, setView] = useState<ViewType>(() => {\n\t\treturn hasHashParam('visUtkast') ? ViewType.UTKAST : ViewType.HOVEDSIDE;\n\t});\n\n\tconst [viewProps, setViewProps] = useState<any>({});\n\n\tconst changeView = (type: ViewType, props?: {}) => {\n\t\tsetViewProps(props ? props : {});\n\t\tsetView(type);\n\t};\n\n\treturn { view, viewProps, changeView };\n});\n","import React, { CSSProperties } from 'react';\nimport { SkjemaelementFeilmelding } from 'nav-frontend-skjema';\nimport { OrNothing } from './type/ornothing';\nimport { BeslutterProsessStatus, Utkast, Vedtak } from '../api/veilarbvedtaksstotte';\n\nconst emdashCharacterCode = 8212;\nexport const EMDASH = String.fromCharCode(emdashCharacterCode);\n\nexport const makeAbsoluteHeightStyle = (height: number): Partial<CSSProperties> => {\n\treturn { height: height + 'px', minHeight: height + 'px', maxHeight: height + 'px' };\n};\n\nexport const scrollToBottom = (elem: Element | null) => {\n\tif (elem) {\n\t\telem.scrollTop = elem.scrollHeight;\n\t}\n};\n\nexport const lagSkjemaelementFeilmelding = (muligFeil: string | undefined): React.ReactNode => {\n\treturn muligFeil ? <SkjemaelementFeilmelding aria-live=\"assertive\">{muligFeil}</SkjemaelementFeilmelding> : null;\n};\n\nexport const finnGjeldendeVedtak = (vedtakListe: OrNothing<Vedtak[]>): Vedtak | undefined => {\n\treturn vedtakListe ? vedtakListe.find(v => v.gjeldende) : undefined;\n};\n\nexport const hentId = (utkast: Utkast | null): number => {\n\treturn utkast ? utkast.id : -1;\n};\n\nexport const erBeslutterProsessStartet = (beslutterProsessStatus: OrNothing<BeslutterProsessStatus>): boolean => {\n\treturn beslutterProsessStatus != null;\n};\n\nexport const erKlarTilBeslutter = (beslutterProsessStatus: OrNothing<BeslutterProsessStatus>): boolean => {\n\treturn beslutterProsessStatus === BeslutterProsessStatus.KLAR_TIL_BESLUTTER;\n};\n\nexport const erKlarTilVeileder = (beslutterProsessStatus: OrNothing<BeslutterProsessStatus>): boolean => {\n\treturn beslutterProsessStatus === BeslutterProsessStatus.KLAR_TIL_VEILEDER;\n};\n\nexport const erGodkjentAvBeslutter = (beslutterProsessStatus: OrNothing<BeslutterProsessStatus>): boolean => {\n\treturn beslutterProsessStatus === BeslutterProsessStatus.GODKJENT_AV_BESLUTTER;\n};\n\n// If the checkboxes/radios does not swallow enter, then it will propagate to the first button and trigger onClick\nexport const swallowEnterKeyPress = (e: any) => {\n\tif (e.charCode === 13) {\n\t\te.preventDefault();\n\t}\n};\n\nexport const isNothing = (str: OrNothing<string>): boolean => {\n\treturn str == null || str.trim().length === 0;\n};\n\nexport const hasHashParam = (parameterName: string): boolean => {\n\treturn window.location.hash.includes(parameterName);\n};\n","import dayjs from 'dayjs';\n\nexport function formatDayMonthTime(dateStr: string) {\n\treturn dayjs(dateStr).format('DD.MM HH:mm');\n}\n\nexport function formatDateTime(dateStr: string) {\n\treturn dayjs(dateStr).format('DD. MMM YYYY kl. HH:mm');\n}\n\nexport function formatDateStr(dateStr: string) {\n\treturn dayjs(dateStr).format('DD. MMM YYYY');\n}\n\nexport function formatDate(date: Date, format: string = 'DD.MM.YYYY') {\n\treturn dayjs(date).format(format);\n}\n\nexport function formatTime(date: Date) {\n\treturn dayjs(date).format('HH:mm:ss');\n}\n\nexport function daysFromToday(date: Date): number {\n\tconst today = dayjs().startOf('day');\n\treturn today.diff(dayjs(date).startOf('day'), 'day');\n}\n\n// Oldest -> newest\nexport function sortDatesAsc(dateStr1: string, dateStr2: string): number {\n\tconst d1 = dayjs(dateStr1);\n\tconst d2 = dayjs(dateStr2);\n\treturn d1.isBefore(d2) ? -1 : 1;\n}\n\n// Newest -> oldest\nexport function sortDatesDesc(dateStr1: string, dateStr2: string): number {\n\treturn sortDatesAsc(dateStr1, dateStr2) * -1;\n}\n\nexport function lagVedtakDatoTekst(dateStr: string): string {\n\tconst date = dayjs(dateStr).toDate();\n\tconst days = daysFromToday(date);\n\n\tif (days <= 0) {\n\t\treturn 'i dag';\n\t} else if (days < 30) {\n\t\treturn `${days} dager siden`;\n\t}\n\n\treturn formatDate(date);\n}\n","import React from 'react';\nimport { Normaltekst } from 'nav-frontend-typografi';\nimport { HoyreChevron } from 'nav-frontend-chevron';\nimport { lagVedtakDatoTekst } from '../../util/date-utils';\nimport './vedtak-panel.less';\n\nexport type OnVedtakClicked<T> = (vedtak: T, idx: number) => void;\n\ninterface VedtakPanelProps<T> {\n\tname: string;\n\tvedtak: T;\n\tposisjon: number;\n\tonClick: OnVedtakClicked<T>;\n\tdato: string;\n\tikon: string;\n\tchildren: any;\n}\n\nexport function VedtakPanel<T>(props: VedtakPanelProps<T>) {\n\tconst { name, vedtak, posisjon, dato, ikon, children, onClick } = props;\n\tconst elemId = `vedtak-panel-${name}-${posisjon}`;\n\n\treturn (\n\t\t<button aria-describedby={elemId} className=\"vedtak-panel\" onClick={() => onClick(vedtak, posisjon)}>\n\t\t\t<div className=\"vedtak-panel__innhold--wrapper\">\n\t\t\t\t<div className=\"vedtak-panel__innhold\">\n\t\t\t\t\t<img src={ikon} alt=\"\" className=\"vedtak-panel__bilde\" />\n\t\t\t\t\t<div id={elemId}>{children}</div>\n\t\t\t\t</div>\n\t\t\t\t<Normaltekst className=\"vedtak-panel__dato\">{lagVedtakDatoTekst(dato)}</Normaltekst>\n\t\t\t</div>\n\t\t\t<HoyreChevron className=\"vedtak-panel__chevron\" />\n\t\t</button>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/vedtak.4af3759a.svg\";","import { OrNothing } from './type/ornothing';\nimport { InnsatsgruppeType } from '../api/veilarbvedtaksstotte';\n\nexport const getInnsatsgruppeTekst = (innsatsgruppeType: InnsatsgruppeType) => {\n\treturn innsatsgruppeTekster.find(elem => elem.value === innsatsgruppeType) as InnsatsgruppeTekst;\n};\n\nexport const erStandard = (innsatsgruppe: OrNothing<InnsatsgruppeType>): boolean => {\n\treturn innsatsgruppe === InnsatsgruppeType.STANDARD_INNSATS;\n};\n\nexport const erVarigEllerGradertVarig = (innsatsgruppe: OrNothing<InnsatsgruppeType>): boolean => {\n\treturn (\n\t\tinnsatsgruppe === InnsatsgruppeType.VARIG_TILPASSET_INNSATS ||\n\t\tinnsatsgruppe === InnsatsgruppeType.GRADERT_VARIG_TILPASSET_INNSATS\n\t);\n};\n\nexport interface InnsatsgruppeTekst {\n\ttittel: string;\n\tundertekst: string;\n\tvalue: InnsatsgruppeType;\n}\n\nexport const innsatsgruppeTekster: InnsatsgruppeTekst[] = [\n\t{\n\t\ttittel: 'Gode muligheter',\n\t\tundertekst: 'STANDARD INNSATS',\n\t\tvalue: InnsatsgruppeType.STANDARD_INNSATS\n\t},\n\t{\n\t\ttittel: 'Trenger veiledning',\n\t\tundertekst: 'SITUASJONSBESTEMT INNSATS',\n\t\tvalue: InnsatsgruppeType.SITUASJONSBESTEMT_INNSATS\n\t},\n\t{\n\t\ttittel: 'Trenger veiledning, nedsatt arbeidsevne',\n\t\tundertekst: 'SPESIELT TILPASSET INNSATS',\n\t\tvalue: InnsatsgruppeType.SPESIELT_TILPASSET_INNSATS\n\t},\n\t{\n\t\ttittel: 'Jobbe delvis',\n\t\tundertekst: 'DELVIS, VARIG TILPASSET INNSATS',\n\t\tvalue: InnsatsgruppeType.GRADERT_VARIG_TILPASSET_INNSATS\n\t},\n\t{\n\t\ttittel: 'Liten mulighet til å jobbe',\n\t\tundertekst: 'VARIG TILPASSET INNSATS',\n\t\tvalue: InnsatsgruppeType.VARIG_TILPASSET_INNSATS\n\t}\n];\n","interface ShowProps {\n\tif?: any;\n\tchildren?: any;\n}\n\nconst Show = (props: ShowProps) => (props.if ? props.children : null);\n\nexport default Show;\n","import React from 'react';\nimport cls from 'classnames';\nimport { Normaltekst, Undertittel } from 'nav-frontend-typografi';\nimport './vedtak-liste.less';\nimport Show from '../show';\n\ninterface VedtakListeProps<T> {\n\ttittel: string;\n\tingenVedtakTekst: string;\n\tvedtak: T[];\n\tvedtakMapper: (vedtak: T, posisjon: number) => any;\n\tclassName?: string;\n}\n\nexport function VedtakListe<T>(props: VedtakListeProps<T>) {\n\tconst { tittel, ingenVedtakTekst, vedtak, vedtakMapper, className } = props;\n\tconst harVedtak = vedtak.length > 0;\n\treturn (\n\t\t<div className={cls('vedtak-liste', className)}>\n\t\t\t<Undertittel className=\"vedtak-liste__tittel\" tag=\"h1\">\n\t\t\t\t{tittel}\n\t\t\t</Undertittel>\n\t\t\t<Show if={!harVedtak}>\n\t\t\t\t<Normaltekst>{ingenVedtakTekst}</Normaltekst>\n\t\t\t</Show>\n\t\t\t<Show if={harVedtak}>\n\t\t\t\t<ul className=\"vedtak-liste__liste\">\n\t\t\t\t\t{vedtak.map((v, idx) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"vedtak-liste__liste-item\" key={idx}>\n\t\t\t\t\t\t\t\t{vedtakMapper(v, idx)}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</Show>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Normaltekst, Undertittel } from 'nav-frontend-typografi';\n\nexport const BegrunnelseTipsInnhold = () => {\n\treturn (\n\t\t<>\n\t\t\t<Undertittel className=\"blokk-xs\">Begrunnelse</Undertittel>\n\t\t\t<Normaltekst>\n\t\t\t\tBegrunnelse må skrives for alle innsatsgrupper, bortsett fra standard innsats. Når du skal skrive\n\t\t\t\tbegrunnelse og gjøre vurderingen din, er følgende spørsmål nyttige å stille:\n\t\t\t</Normaltekst>\n\t\t\t<ul className=\"tips__liste\">\n\t\t\t\t<li>Hva tenker denne personen selv om mulighetene sine til å være eller komme i jobb?</li>\n\t\t\t\t<li>Hvilke typer arbeid ønsker denne personen seg og hva er realistisk ut fra dagens arbeidsmarked?</li>\n\t\t\t\t<li>Hva slags veiledning trenger denne personen?</li>\n\t\t\t\t<li>Er arbeidsevnen nedsatt, og hvorfor?</li>\n\t\t\t\t<li>\n\t\t\t\t\tTrenger denne personen:\n\t\t\t\t\t<ul className=\"tips__sub-liste\">\n\t\t\t\t\t\t<li>yrkes- og/eller karriereveiledning?</li>\n\t\t\t\t\t\t<li>arbeidsrettede aktiviteter og tiltak?</li>\n\t\t\t\t\t\t<li>behandling eller oppfølging fra helsevesenet?</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li>Hva har dere blitt enige om?</li>\n\t\t\t</ul>\n\t\t</>\n\t);\n};\n","export default __webpack_public_path__ + \"static/media/tips.dd2e2fce.svg\";","import React, { useState } from 'react';\nimport cls from 'classnames';\nimport tipsBilde from './tips.svg';\nimport Popover, { PopoverOrientering } from 'nav-frontend-popover';\nimport './tips-popover.less';\nimport { logMetrikk } from '../../util/logger';\n\ninterface TipsPopoverProps {\n\tid?: string;\n\ttipsInnhold: React.ReactNode;\n\tariaLabel?: string;\n\torientering?: PopoverOrientering;\n\tclassName?: string;\n}\n\n/*\nScroll events blir ikke trigget lokalt fordi height er satt til 100%.\nDette gjør at popover innholdet ikke følger med når man scroller.\nI test/prod skal ikke dette være et problem.\n*/\n\nexport const TipsPopover = (props: TipsPopoverProps) => {\n\tconst [popoverTrigger, setPopoverTrigger] = useState<HTMLButtonElement>();\n\n\tfunction logToggleMetrikk(apnet: boolean) {\n\t\tlogMetrikk('tips-togglet', { id: props.id, apnet });\n\t}\n\n\tfunction togglePopoverOpen(e: React.MouseEvent<HTMLButtonElement>) {\n\t\tconst target = popoverTrigger ? undefined : e.currentTarget;\n\t\tsetPopoverTrigger(target);\n\t\tlogToggleMetrikk(target !== undefined);\n\t}\n\n\tfunction handleOnRequestClose() {\n\t\tsetPopoverTrigger(undefined);\n\t\tlogToggleMetrikk(false);\n\t}\n\n\treturn (\n\t\t<div className={cls('tips-popover', props.className)}>\n\t\t\t<button\n\t\t\t\tclassName=\"tips-popover__trigger\"\n\t\t\t\tonClick={togglePopoverOpen}\n\t\t\t\ttype=\"button\"\n\t\t\t\taria-expanded={popoverTrigger !== undefined}\n\t\t\t\taria-controls={props.id}\n\t\t\t\taria-label={props.ariaLabel}\n\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t>\n\t\t\t\t<img src={tipsBilde} className=\"tips-popover__trigger-img\" alt=\"Info-ikon\" />\n\t\t\t</button>\n\t\t\t<Popover\n\t\t\t\tid={props.id}\n\t\t\t\tautoFokus={false}\n\t\t\t\tavstandTilAnker={16}\n\t\t\t\tankerEl={popoverTrigger}\n\t\t\t\torientering={props.orientering || PopoverOrientering.UnderVenstre}\n\t\t\t\tonRequestClose={handleOnRequestClose}\n\t\t\t>\n\t\t\t\t<div className=\"tips\">{props.tipsInnhold}</div>\n\t\t\t</Popover>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport cls from 'classnames';\nimport { Undertittel } from 'nav-frontend-typografi';\nimport './felt-header.less';\nimport { TipsPopover } from '../../../../component/tips-popover/tips-popover';\nimport Show from '../../../../component/show';\nimport { ExternalLink } from '@navikt/ds-icons';\nimport { logMetrikk } from '../../../../util/logger';\n\ninterface FeltHeaderProps {\n\tid?: string;\n\ttittel: string;\n\ttittelId?: string;\n\tclassName?: string;\n\ttipsId?: string;\n\ttipsInnhold?: React.ReactNode;\n\ttipsAriaLabel?: string;\n\teksternLenke?: string;\n}\n\nfunction FeltHeader(props: FeltHeaderProps) {\n\tconst loggAapnet = () => {\n\t\tlogMetrikk('veileder-aapnet');\n\t};\n\treturn (\n\t\t<div id={props.id} className={cls('felt-header', props.className)}>\n\t\t\t<Undertittel id={props.tittelId} className=\"felt-header__tittel\">\n\t\t\t\t{props.tittel}\n\t\t\t</Undertittel>\n\t\t\t<Show if={props.tipsInnhold}>\n\t\t\t\t<TipsPopover id={props.tipsId} tipsInnhold={props.tipsInnhold} ariaLabel={props.tipsAriaLabel} />\n\t\t\t</Show>\n\t\t\t<Show if={props.eksternLenke}>\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"felt-header__lenke\"\n\t\t\t\t\thref={props.eksternLenke}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\taria-label={props.eksternLenke}\n\t\t\t\t\tonClick={loggAapnet}\n\t\t\t\t>\n\t\t\t\t\tNye retningslinjer for NAV-loven § 14 a <ExternalLink fr={undefined} />\n\t\t\t\t</a>\n\t\t\t</Show>\n\t\t</div>\n\t);\n}\n\nexport default FeltHeader;\n","export enum SkjemaLagringStatus {\n\tINGEN_ENDRING = 'INGEN_ENDRING',\n\tENDRING_IKKE_LAGRET = 'ENDRING_IKKE_LAGRET',\n\tLAGRER = 'LAGRER',\n\tALLE_ENDRINGER_LAGRET = 'ALLE_ENDRINGER_LAGRET',\n\tLAGRING_FEILET = 'LAGRING_FEILET'\n}\n","import { useState } from 'react';\nimport constate from 'constate';\nimport { MeldingType, SystemMeldingType } from '../util/type/melding-type';\nimport { OrNothing } from '../util/type/ornothing';\nimport { Veileder } from '../api/veilarbveileder';\nimport { MalformData } from '../api/veilarbperson';\nimport Oppfolging from '../api/veilarboppfolging';\nimport {\n\tDialogMelding as DialogMeldingData,\n\tSystemMelding as SystemMeldingData\n} from '../api/veilarbvedtaksstotte/meldinger';\nimport { BeslutterProsessStatus, Utkast, Vedtak } from '../api/veilarbvedtaksstotte';\nimport { ArenaVedtak } from '../api/veilarbvedtaksstotte/vedtak';\nimport { FeatureToggles } from '../api/veilarbpersonflatefs';\n\n// Data med placeholder er garantert av data-fetcher.tsx (og prelansering-sjekk.tsx) å være hentet\nconst placeholder = {} as any;\n\nexport const [DataStoreProvider, useDataStore] = constate(() => {\n\tconst [oppfolgingData, setOppfolgingData] = useState<Oppfolging>(placeholder);\n\tconst [malform, setMalform] = useState<MalformData>(placeholder);\n\tconst [features, setFeatures] = useState<FeatureToggles>(placeholder);\n\tconst [innloggetVeileder, setInnloggetVeileder] = useState<Veileder>(placeholder);\n\tconst [utkast, setUtkast] = useState<Utkast | null>(null);\n\tconst [fattedeVedtak, setFattedeVedtak] = useState<Vedtak[]>([]);\n\tconst [arenaVedtak, setArenaVedtak] = useState<ArenaVedtak[]>([]);\n\tconst [meldinger, setMeldinger] = useState<(DialogMeldingData | SystemMeldingData)[]>([]);\n\n\tfunction leggTilSystemMelding(systemMeldingType: SystemMeldingType) {\n\t\tconst systemMeldingData: SystemMeldingData = {\n\t\t\topprettet: new Date().toISOString(),\n\t\t\tsystemMeldingType,\n\t\t\tutfortAvIdent: innloggetVeileder.ident,\n\t\t\tutfortAvNavn: innloggetVeileder.navn,\n\t\t\ttype: MeldingType.SYSTEM_MELDING\n\t\t};\n\n\t\tsetMeldinger(curMeldinger => [...curMeldinger, systemMeldingData]);\n\t}\n\n\tfunction setUtkastBeslutter(beslutterIdent: OrNothing<string>, beslutterNavn: OrNothing<string>) {\n\t\tif (utkast) {\n\t\t\tsetUtkast({ ...utkast, beslutterIdent, beslutterNavn });\n\t\t}\n\t}\n\n\tfunction setUtkastVeileder(veilederIdent: string, veilederNavn: string) {\n\t\tif (utkast) {\n\t\t\tsetUtkast({ ...utkast, veilederIdent, veilederNavn });\n\t\t}\n\t}\n\n\tfunction setBeslutterProsessStatus(beslutterProsessStatus: OrNothing<BeslutterProsessStatus>) {\n\t\tif (utkast) {\n\t\t\tsetUtkast({ ...utkast, beslutterProsessStatus });\n\t\t}\n\t}\n\n\tfunction nullStillBeslutterProsess() {\n\t\tif (utkast) {\n\t\t\tsetUtkast({ ...utkast, beslutterProsessStatus: null, beslutterIdent: null, beslutterNavn: null });\n\t\t}\n\t}\n\n\treturn {\n\t\toppfolgingData,\n\t\tsetOppfolgingData,\n\t\tmalform,\n\t\tsetMalform,\n\t\tfeatures,\n\t\tsetFeatures,\n\t\tinnloggetVeileder,\n\t\tsetInnloggetVeileder,\n\t\tutkast,\n\t\tsetUtkast,\n\t\tfattedeVedtak,\n\t\tsetFattedeVedtak,\n\t\tarenaVedtak,\n\t\tsetArenaVedtak,\n\t\tmeldinger,\n\t\tsetMeldinger,\n\t\tleggTilSystemMelding,\n\t\tsetUtkastBeslutter,\n\t\tsetUtkastVeileder,\n\t\tsetBeslutterProsessStatus,\n\t\tnullStillBeslutterProsess\n\t};\n});\n","import { useState } from 'react';\nimport constate from 'constate';\nimport { OrNothing } from '../util/type/ornothing';\nimport { HovedmalType, InnsatsgruppeType, Utkast, Vedtak } from '../api/veilarbvedtaksstotte';\nimport { SkjemaFeil } from '../util/type/skjema-feil';\nimport { SkjemaLagringStatus } from '../util/type/skjema-lagring-status';\nimport {\n\tmapKilderFraForskjelligMalformTilBokmal,\n\tvaliderBegrunnelseMaxLength,\n\tvaliderSkjema\n} from '../util/skjema-utils';\n\nexport const [SkjemaStoreProvider, useSkjemaStore] = constate(() => {\n\tconst [kilder, setKilder] = useState<string[]>([]);\n\tconst [hovedmal, setHovedmal] = useState<OrNothing<HovedmalType>>();\n\tconst [innsatsgruppe, setInnsatsgruppe] = useState<OrNothing<InnsatsgruppeType>>();\n\tconst [begrunnelse, setBegrunnelse] = useState<OrNothing<string>>('');\n\tconst [sistOppdatert, setSistOppdatert] = useState('');\n\tconst [errors, setErrors] = useState<SkjemaFeil>({});\n\tconst [lagringStatus, setLagringStatus] = useState<SkjemaLagringStatus>(SkjemaLagringStatus.INGEN_ENDRING);\n\tconst [harForsoktAForhandsvise, setHarForsoktAForhandsvise] = useState<boolean>(false);\n\n\tconst valider = (gjeldendeVedtak: OrNothing<Vedtak>): SkjemaFeil => {\n\t\tconst feil = validerSkjema({ opplysninger: kilder, hovedmal, innsatsgruppe, begrunnelse }, gjeldendeVedtak);\n\t\tsetErrors(feil);\n\t\treturn feil;\n\t};\n\n\tconst validerBegrunnelseLengde = () => {\n\t\tconst begrunnelseFeil = validerBegrunnelseMaxLength(begrunnelse);\n\t\tsetErrors(Object.assign({}, errors, begrunnelseFeil));\n\t};\n\n\tconst initSkjema = (utkast: Utkast) => {\n\t\tconst mappetKilder = mapKilderFraForskjelligMalformTilBokmal(utkast.opplysninger);\n\t\tsetHovedmal(utkast.hovedmal);\n\t\tsetKilder(mappetKilder);\n\t\tsetInnsatsgruppe(utkast.innsatsgruppe);\n\t\tsetBegrunnelse(utkast.begrunnelse);\n\t\tsetSistOppdatert(utkast.utkastSistOppdatert);\n\t};\n\n\tconst resetSkjema = () => {\n\t\tsetHovedmal(undefined);\n\t\tsetKilder([]);\n\t\tsetInnsatsgruppe(undefined);\n\t\tsetBegrunnelse(undefined);\n\t\tsetSistOppdatert('');\n\t\tsetErrors({});\n\t};\n\n\treturn {\n\t\tkilder,\n\t\tsetKilder,\n\t\thovedmal,\n\t\tsetHovedmal,\n\t\tinnsatsgruppe,\n\t\tsetInnsatsgruppe,\n\t\tbegrunnelse,\n\t\tsetBegrunnelse,\n\t\tsistOppdatert,\n\t\tsetSistOppdatert,\n\t\terrors,\n\t\tlagringStatus,\n\t\tsetLagringStatus,\n\t\tharForsoktAForhandsvise,\n\t\tsetHarForsoktAForhandsvise,\n\t\tvaliderSkjema: valider,\n\t\tvaliderBegrunnelseLengde,\n\t\tinitSkjema,\n\t\tresetSkjema\n\t};\n});\n","import { erStandard, erVarigEllerGradertVarig } from './innsatsgruppe';\nimport { OrNothing } from './type/ornothing';\nimport { HovedmalType, InnsatsgruppeType, Vedtak } from '../api/veilarbvedtaksstotte';\nimport { MalformData, MalformType } from '../api/veilarbperson';\nimport { Kilde } from '../page/utkast/skjema-section/kilder/kilder';\nimport { SkjemaFeil } from './type/skjema-feil';\nimport { BEGRUNNELSE_MAX_LENGTH } from '../page/utkast/skjema-section/begrunnelse/begrunnelse';\n\nexport interface SkjemaData {\n\topplysninger: string[] | undefined;\n\thovedmal: OrNothing<HovedmalType>;\n\tinnsatsgruppe: OrNothing<InnsatsgruppeType>;\n\tbegrunnelse: OrNothing<string>;\n}\n\nexport const kildelisteBokmal = [\n\t'Svarene dine fra da du registrerte deg',\n\t'CV-en/jobbprofilen din på nav.no',\n\t'Svarene dine om behov for veiledning'\n];\n\nexport const kildelisteNynorsk = [\n\t'Svara dine frå då du registrerte deg',\n\t'CV-en/jobbprofilen din på nav.no',\n\t'Svara dine om behov for rettleiing'\n];\n\nexport function hentMalformFraData(malformData: MalformData | null): MalformType | null {\n\treturn malformData ? malformData.malform : null;\n}\n\nexport function mapKilderFraForskjelligMalformTilBokmal(kildeListe: string[]): string[] {\n\treturn kildeListe.map(kilde => {\n\t\tconst translationPos = kildelisteNynorsk.indexOf(kilde);\n\t\treturn translationPos === -1 ? kilde : kildelisteBokmal[translationPos];\n\t});\n}\n\nexport function mapKilderFraBokmalTilBrukersMalform(\n\tkildeListe: string[] | undefined,\n\tmalformType: MalformType | null\n): string[] {\n\tif (!kildeListe) return [];\n\n\t// Trenger ikke å mappe hvis vi ikke vet malform, ikke støtter oversettelse for malform, eller det allerede er på bokmål\n\tif (!malformType || !Object.values(MalformType).includes(malformType) || malformType === MalformType.nb) {\n\t\treturn kildeListe;\n\t}\n\n\treturn kildeListe.map(kilde => {\n\t\tconst translationPos = kildelisteBokmal.indexOf(kilde);\n\t\treturn translationPos === -1 ? kilde : kildelisteNynorsk[translationPos];\n\t});\n}\n\nexport function mergeMedDefaultKilder(kildeListe: string[]): Kilde[] {\n\tconst kilder = kildelisteBokmal.map(kildeTekst => ({\n\t\tnavn: kildeTekst,\n\t\terValgt: kildeListe.includes(kildeTekst)\n\t}));\n\n\tkildeListe\n\t\t.filter(kildeTekst => !kildelisteBokmal.includes(kildeTekst))\n\t\t.forEach(kildeTekst => kilder.push({ navn: kildeTekst, erValgt: true }));\n\n\treturn kilder;\n}\n\nexport function erDefaultKilde(kilde: string) {\n\treturn kildelisteBokmal.some(defaultKilde => defaultKilde === kilde);\n}\n\nexport function harFeil(skjemaFeil: SkjemaFeil): boolean {\n\treturn Object.keys(skjemaFeil).length > 0;\n}\n\nexport function scrollTilForsteFeil(skjemaFeil: SkjemaFeil): void {\n\tlet forsteFeilNavn;\n\n\tif (skjemaFeil.kilder) {\n\t\tforsteFeilNavn = 'kilder';\n\t} else if (skjemaFeil.begrunnelse) {\n\t\tforsteFeilNavn = 'begrunnelse';\n\t} else if (skjemaFeil.innsatsgruppe) {\n\t\tforsteFeilNavn = 'innsatsgruppe';\n\t} else if (skjemaFeil.hovedmal) {\n\t\tforsteFeilNavn = 'hovedmal';\n\t}\n\n\tif (forsteFeilNavn) {\n\t\tconst tittelElem = document.getElementById(forsteFeilNavn + '-scroll-to');\n\t\tif (tittelElem) {\n\t\t\ttittelElem.scrollIntoView({ block: 'center' });\n\t\t}\n\t}\n}\n\nexport function validerSkjema(skjema: SkjemaData, gjeldendeVedtak: OrNothing<Vedtak>): SkjemaFeil {\n\tconst errors: SkjemaFeil = {};\n\tconst { innsatsgruppe, opplysninger, begrunnelse, hovedmal } = skjema;\n\n\tif (!innsatsgruppe) {\n\t\terrors.innsatsgruppe = 'Mangler innsatsgruppe';\n\t}\n\n\tif (!hovedmal && innsatsgruppe !== InnsatsgruppeType.VARIG_TILPASSET_INNSATS) {\n\t\terrors.hovedmal = 'Mangler hovedmål';\n\t}\n\n\tif (!harSkrevetBegrunnelse(begrunnelse) && maSkriveBegrunnelse(innsatsgruppe, gjeldendeVedtak)) {\n\t\terrors.begrunnelse = 'Mangler begrunnelse';\n\t}\n\n\tconst begrunnelsefeil = validerBegrunnelseMaxLength(begrunnelse);\n\tObject.assign(errors, begrunnelsefeil);\n\n\tif (!opplysninger || opplysninger.length < 1) {\n\t\terrors.kilder = 'Mangler kilder';\n\t}\n\n\treturn errors;\n}\n\nexport function validerBegrunnelseMaxLength(begrunnelse: OrNothing<string>) {\n\tconst errors: SkjemaFeil = {};\n\tif (begrunnelse && begrunnelse.length > BEGRUNNELSE_MAX_LENGTH) {\n\t\terrors.begrunnelse = `Du kan maksimalt skrive ${BEGRUNNELSE_MAX_LENGTH} tegn`;\n\t}\n\treturn errors;\n}\n\nexport function trengerKvalitetssikrer(innsatsgruppe: OrNothing<InnsatsgruppeType>) {\n\treturn erVarigEllerGradertVarig(innsatsgruppe);\n}\n\nexport function harSkrevetBegrunnelse(begrunnelse: OrNothing<string>) {\n\treturn begrunnelse ? begrunnelse.trim().length > 0 : false;\n}\n\n/**\n * Begrunnelse må fylles ut hvis innsatsgruppe ikke er standard.\n * Unntaket for denne reglen er hvis det gjeldende vedtaket er varig/gradert varig.\n */\nexport function maSkriveBegrunnelse(innsatsgruppe: OrNothing<InnsatsgruppeType>, gjeldendeVedtak: OrNothing<Vedtak>) {\n\tconst erStandardInnsatsValgt = erStandard(innsatsgruppe);\n\n\tif (!erStandardInnsatsValgt) {\n\t\treturn true;\n\t}\n\n\tconst erGjeldendeInnsatsVarig = gjeldendeVedtak && erVarigEllerGradertVarig(gjeldendeVedtak.innsatsgruppe);\n\n\treturn erStandardInnsatsValgt && erGjeldendeInnsatsVarig;\n}\n","import { Accordion, BodyShort, Heading, Link } from '@navikt/ds-react';\nimport { ExternalLink } from '@navikt/ds-icons';\n\nfunction lixResultMessage(lix: number): string {\n\t// LIX begrunnelse (hvor kommer grenseverdiene fra?)\n\tif (lix < 0) {\n\t\treturn '';\n\t} else if (lix < 24) {\n\t\treturn 'Veldig enkel å lese';\n\t} else if (lix < 34) {\n\t\treturn 'Enkel å lese';\n\t} else if (lix < 44) {\n\t\treturn 'Middels vanskelig å lese';\n\t} else if (lix < 54) {\n\t\treturn 'Vanskelig å lese';\n\t}\n\treturn 'Veldig vanskelig å lese';\n}\n\nfunction Lix(props: { content: string }) {\n\tconst LETTER_LIMIT = 6;\n\n\t// Get total number of words in text\n\tconst words = props.content.split(/\\s+/);\n\tconst wordCount = words.length;\n\n\t// Count sentences\n\tconst punct = '!;.*?';\n\tlet punctuationCount = 0;\n\tfor (const char of props.content) {\n\t\tif (punct.includes(char)) {\n\t\t\tpunctuationCount++;\n\t\t}\n\t}\n\n\t// Loop through the entire array of words\n\tlet longWordCount = 0;\n\tfor (let i in words) {\n\t\tif (words[i].length > LETTER_LIMIT) {\n\t\t\tlongWordCount++;\n\t\t}\n\t}\n\n\t// Calculate LIX\n\tconst lix = Math.round(wordCount / punctuationCount + (longWordCount * 100) / wordCount);\n\tconsole.log(lix);\n\n\treturn (\n\t\t<>\n\t\t\t{lix >= 34 && lix < 100 && punctuationCount > 1 && (\n\t\t\t\t<Accordion.Item>\n\t\t\t\t\t<Accordion.Header type=\"button\">\n\t\t\t\t\t\tLiks: {lix} - {lixResultMessage(lix)}\n\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t<Accordion.Content>\n\t\t\t\t\t\t<BodyShort>\n\t\t\t\t\t\t\tLiks: {lix}. Teksten kan anses{' '}\n\t\t\t\t\t\t\t<span style={{ textTransform: 'lowercase' }}>{lixResultMessage(lix)}</span> ifølge{' '}\n\t\t\t\t\t\t\t<Link target=\"_blank\" href=\"https://no.wikipedia.org/wiki/Lesbarhetsindeks\">\n\t\t\t\t\t\t\t\tlesbarhetsindeksen Liks\n\t\t\t\t\t\t\t\t<ExternalLink />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t.\n\t\t\t\t\t\t</BodyShort>\n\t\t\t\t\t\t<BodyShort className=\"mt-4\">\n\t\t\t\t\t\t\t<Heading level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\tSkriveråd\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t<ul id=\"skriverad-liste\">\n\t\t\t\t\t\t\t\t<li>Skriv korte og enkle setninger</li>\n\t\t\t\t\t\t\t\t<li>Velg korte og enkle ord</li>\n\t\t\t\t\t\t\t\t<li>Skriv det viktigste først</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</BodyShort>\n\t\t\t\t\t</Accordion.Content>\n\t\t\t\t</Accordion.Item>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default Lix;\n","import { Accordion, BodyShort, Heading, Link } from '@navikt/ds-react';\nimport { ExternalLink } from '@navikt/ds-icons';\nimport { GammelnavskOrdliste } from '../../data';\nimport { Kansellisten } from '../../data';\n\ninterface GammelnavskType {\n\tid: string;\n\tord: string;\n\tgammelnavsk: string;\n\tklart_språk: string;\n}\n\ninterface KansellistenType {\n\tkanselliord: string;\n\talternativ_1: string;\n\talternativ_2: string;\n}\n\nfunction GammelnavskDictionary(props: { content: string }) {\n\tlet gammelnavskResultater: GammelnavskType[] = [];\n\tlet kansellistenResultater: KansellistenType[] = [];\n\n\tif (props.content !== '') {\n\t\tgammelnavskResultater = GammelnavskOrdliste.gammelnavsk_ordliste.filter(gammelnavsk => {\n\t\t\treturn props.content.toLowerCase().match('\\\\b' + gammelnavsk.ord.toLowerCase() + '\\\\b');\n\t\t});\n\t}\n\tif (props.content !== '') {\n\t\tkansellistenResultater = Kansellisten.kansellisten.filter(gammelnavsk => {\n\t\t\treturn props.content.toLowerCase().match('\\\\b' + gammelnavsk.kanselliord.toLowerCase() + '\\\\b');\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{(gammelnavskResultater.length > 0 || kansellistenResultater.length > 0) && (\n\t\t\t\t<Accordion.Item>\n\t\t\t\t\t<Accordion.Header type=\"button\">\n\t\t\t\t\t\t{gammelnavskResultater.length + kansellistenResultater.length} ord som kan byttes ut\n\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t<Accordion.Content>\n\t\t\t\t\t\t<Heading level=\"3\" size=\"xsmall\">\n\t\t\t\t\t\t\tVelg enkle ord\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t<BodyShort className=\"mb-4\">\n\t\t\t\t\t\t\tHer vises ord og uttrykk som mulig sier noe på en vanskeligere måte enn nødvendig. Disse er\n\t\t\t\t\t\t\thentet fra gammelnavsk ordliste og Språkrådets kansellisten.\n\t\t\t\t\t\t</BodyShort>\n\n\t\t\t\t\t\t{gammelnavskResultater.length >= 1 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{gammelnavskResultater.map((gammelnavsk, i) => (\n\t\t\t\t\t\t\t\t\t<Accordion.Item key={'gammelnavsk' + i}>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Header type=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"firstLetter\">\"{gammelnavsk.ord}\"</span>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Content>\n\t\t\t\t\t\t\t\t\t\t\t<Heading level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\t\t\t\t\tGammelnavsk\n\t\t\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t\t\t<BodyShort>\n\t\t\t\t\t\t\t\t\t\t\t\t<em>{gammelnavsk.gammelnavsk}</em>\n\t\t\t\t\t\t\t\t\t\t\t</BodyShort>\n\t\t\t\t\t\t\t\t\t\t\t<Heading className=\"mt-4\" level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\t\t\t\t\tKlart språk\n\t\t\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t\t\t{gammelnavsk.klart_språk}\n\t\t\t\t\t\t\t\t\t\t</Accordion.Content>\n\t\t\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<Accordion.Content className=\"gammelnavsk-kilde\">\n\t\t\t\t\t\t\t\t\t<Heading className=\"mt-4\" level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\t\t\tKilde\n\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref=\"https://navno.sharepoint.com/:b:/r/sites/intranett-kommunikasjon/Delte%20dokumenter/Spr%C3%A5k/gammelnavsk_ordliste_2utgave.pdf?csf=1&web=1&e=2LfhY8\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tGammelnavsk ordliste\n\t\t\t\t\t\t\t\t\t\t<ExternalLink />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Accordion.Content>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{kansellistenResultater.length >= 1 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{kansellistenResultater.map((kanselli, i) => (\n\t\t\t\t\t\t\t\t\t<Accordion.Item key={'kanselli' + i}>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Header type=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"firstLetter\">\"{kanselli.kanselliord}\"</span>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Content>\n\t\t\t\t\t\t\t\t\t\t\t<Heading level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\t\t\t\t\tForslag\n\t\t\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t\t\tSkriv heller: {kanselli.alternativ_1}\n\t\t\t\t\t\t\t\t\t\t</Accordion.Content>\n\t\t\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<Accordion.Content className=\"gammelnavsk-kilde\">\n\t\t\t\t\t\t\t\t\t<Heading className=\"mt-4\" level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\t\t\tKilde\n\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref=\"https://www.sprakradet.no/klarsprak/om-skriving/kansellisten/\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tKansellisten\n\t\t\t\t\t\t\t\t\t\t<ExternalLink />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Accordion.Content>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Accordion.Content>\n\t\t\t\t</Accordion.Item>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default GammelnavskDictionary;\n","import { Accordion, Heading, Link } from '@navikt/ds-react';\nimport { ExternalLink } from '@navikt/ds-icons';\nimport { Nrkordliste } from '../../data';\n\ninterface NrkInterface {\n\tid: string;\n\tord: string;\n\tbruk: string;\n\tbokmål: string;\n\tkilde: string;\n\tlenke: string;\n}\n\nfunction NrkDictionaries(props: { content: string }) {\n\tconst value = props.content;\n\tlet gammelnavsk = Nrkordliste;\n\tlet gammelnavskResultater: NrkInterface[] = [];\n\n\tconst keyword = value;\n\tif (keyword !== '') {\n\t\tconst results = gammelnavsk.nrkordliste.filter(gammelnavsk => {\n\t\t\treturn keyword.toLowerCase().match('\\\\b' + gammelnavsk.ord.toLowerCase() + '\\\\b');\n\t\t});\n\t\tgammelnavskResultater = results;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{gammelnavskResultater?.length > 0 && (\n\t\t\t\t<Accordion.Item>\n\t\t\t\t\t<Accordion.Header type=\"button\">\n\t\t\t\t\t\t{gammelnavskResultater.length === 1 ? (\n\t\t\t\t\t\t\t<>1 mulig støtende ord</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>{gammelnavskResultater.length} mulige støtende ord</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t<Accordion.Content>\n\t\t\t\t\t\t<Heading spacing level=\"3\" size=\"xsmall\">\n\t\t\t\t\t\t\tVær varsom\n\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\tOrd i teksten som kan være støtende, eller som bør brukes med varsomhet:\n\t\t\t\t\t\t<Accordion className=\"gammelnavskAccordion mt-4\">\n\t\t\t\t\t\t\t{gammelnavskResultater.map((gammelnavsk, i) => (\n\t\t\t\t\t\t\t\t<Accordion.Item key={gammelnavsk.id}>\n\t\t\t\t\t\t\t\t\t<Accordion.Header className=\"gammelnavskAccordion\" type=\"button\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"firstLetter\">\"{gammelnavsk.ord}\"</span>\n\t\t\t\t\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t\t\t\t\t<Accordion.Content className=\"gammelnavskAccordionContent\">\n\t\t\t\t\t\t\t\t\t\t<Heading spacing level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\t\t\t\tForklaring\n\t\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t\t<p>{gammelnavsk.bokmål}</p>\n\t\t\t\t\t\t\t\t\t\t{/*                                        {gammelnavsk.bruk = \"2\" &&\n                                            <>\n                                                <p>Vær varsom eller oppmerksom når du bruker dette ordet.</p>\n                                            </>\n                                        }*/}\n\t\t\t\t\t\t\t\t\t\t<Heading spacing level=\"4\" size=\"xsmall\">\n\t\t\t\t\t\t\t\t\t\t\tKilde\n\t\t\t\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t<Link target=\"_blank\" href={gammelnavsk.lenke}>\n\t\t\t\t\t\t\t\t\t\t\t\t{gammelnavsk.kilde}\n\t\t\t\t\t\t\t\t\t\t\t\t<ExternalLink />\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Accordion.Content>\n\t\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</Accordion.Content>\n\t\t\t\t</Accordion.Item>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default NrkDictionaries;\n","import React, { useEffect, useState } from 'react';\nimport cls from 'classnames';\nimport { SkjemaGruppe, Textarea } from 'nav-frontend-skjema';\nimport { BegrunnelseTipsInnhold } from './begrunnelse-tips-innhold';\nimport { Normaltekst } from 'nav-frontend-typografi';\nimport { AlertStripeAdvarsel } from 'nav-frontend-alertstriper';\nimport FeltHeader from '../felt-header/felt-header';\nimport './begrunnelse.less';\nimport '@navikt/ds-css';\nimport { OrNothing } from '../../../../util/type/ornothing';\nimport { MalformData, MalformType } from '../../../../api/veilarbperson';\nimport { useDataStore } from '../../../../store/data-store';\nimport { useSkjemaStore } from '../../../../store/skjema-store';\nimport { logMetrikk } from '../../../../util/logger';\nimport { validerBegrunnelseMaxLength } from '../../../../util/skjema-utils';\nimport { lagSkjemaelementFeilmelding } from '../../../../util';\nimport Show from '../../../../component/show';\nimport { Accordion, Switch } from '@navikt/ds-react';\nimport { Lix, GammelnavskDictionary } from '../../../../spraksjekk-intern/components';\n\nexport const BEGRUNNELSE_ANBEFALT_LENGTH = 4000;\nexport const BEGRUNNELSE_MAX_LENGTH = 10000;\nconst CHAR_DIFF_LIMIT_COPY_PASTE = 30;\n\nfunction malformToTekst(malform: OrNothing<MalformData>): string {\n\tconst malformType = malform ? malform.malform : null;\n\n\tif (malformType === MalformType.nn || malformType === MalformType.nb) {\n\t\treturn `Norsk (${malformType === MalformType.nn ? 'Nynorsk' : 'Bokmål'})`;\n\t} else if (!malformType) {\n\t\treturn 'Ukjent';\n\t}\n\n\treturn malformType;\n}\n\nfunction Begrunnelse() {\n\tconst { malform } = useDataStore();\n\tconst { begrunnelse, setBegrunnelse, errors, innsatsgruppe } = useSkjemaStore();\n\tconst [begrunnelseFeil, setBegrunnelseFeil] = useState(errors.begrunnelse);\n\tconst [visSprakhjelp, setVisSprakhjelp] = useState(false);\n\n\tfunction onBegrunnelseChanged(e: any) {\n\t\tconst newText = e.target.value;\n\t\tconst oldText = begrunnelse || '';\n\t\tconst charDiff = newText.length - oldText.length;\n\n\t\tif (charDiff >= CHAR_DIFF_LIMIT_COPY_PASTE) {\n\t\t\tlogMetrikk('begrunnelse-copy-paste', { tegn: charDiff, innsatsgruppe: innsatsgruppe || '' });\n\t\t}\n\n\t\tif (newText.length <= BEGRUNNELSE_MAX_LENGTH) {\n\t\t\tsetBegrunnelse(newText);\n\t\t} else {\n\t\t\tsetBegrunnelse(newText.substring(0, BEGRUNNELSE_MAX_LENGTH));\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconst feil = validerBegrunnelseMaxLength(begrunnelse);\n\t\tsetBegrunnelseFeil(feil.begrunnelse);\n\t}, [begrunnelse]);\n\n\tuseEffect(() => {\n\t\tsetBegrunnelseFeil(errors.begrunnelse);\n\t}, [errors.begrunnelse]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"begrunnelse-felt\" id=\"begrunnelse-scroll-to\">\n\t\t\t\t<FeltHeader\n\t\t\t\t\ttittel=\"Begrunnelse\"\n\t\t\t\t\ttittelId=\"begrunnelse-tittel\"\n\t\t\t\t\ttipsId=\"begrunnelse-tips\"\n\t\t\t\t\ttipsInnhold={<BegrunnelseTipsInnhold />}\n\t\t\t\t\ttipsAriaLabel=\"Tips for begrunnelse\"\n\t\t\t\t\teksternLenke=\"https://navno.sharepoint.com/sites/fag-og-ytelser-arbeid-arbeidsrettet-brukeroppfolging/SitePages/Oppdaterte-retningslinjer-for.aspx\"\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"begrunnelse\">\n\t\t\t\t\t<SkjemaGruppe\n\t\t\t\t\t\tfeil={lagSkjemaelementFeilmelding(begrunnelseFeil)}\n\t\t\t\t\t\tclassName=\"begrunnelse__container\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\tvalue={begrunnelse || ''}\n\t\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\t\tplaceholder=\"Skriv inn din begrunnelse/arbeidsevnevurdering her\"\n\t\t\t\t\t\t\tmaxLength={BEGRUNNELSE_ANBEFALT_LENGTH}\n\t\t\t\t\t\t\tonChange={onBegrunnelseChanged}\n\t\t\t\t\t\t\taria-labelledby=\"begrunnelse-tittel\"\n\t\t\t\t\t\t\tspellCheck=\"true\"\n\t\t\t\t\t\t\tclassName={cls('begrunnelse__tekstomrade', 'skjemaelement__input textarea--medMeta', {\n\t\t\t\t\t\t\t\t'begrunnelse__tekstomrade--feil': !!begrunnelseFeil\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Normaltekst className=\"begrunnelse__malform\">\n\t\t\t\t\t\t\tBrukers målform: {malformToTekst(malform)}\n\t\t\t\t\t\t</Normaltekst>\n\t\t\t\t\t\t<Show if={begrunnelse && begrunnelse.length > BEGRUNNELSE_ANBEFALT_LENGTH}>\n\t\t\t\t\t\t\t<AlertStripeAdvarsel className=\"begrunnelse-for-langt-varsel\">\n\t\t\t\t\t\t\t\t<span aria-live=\"assertive\">\n\t\t\t\t\t\t\t\t\tBegrunnelsen du har skrevet er veldig lang, og derfor tung å lese for mottaker. Prøv\n\t\t\t\t\t\t\t\t\tå korte den ned.\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</AlertStripeAdvarsel>\n\t\t\t\t\t\t</Show>\n\t\t\t\t\t</SkjemaGruppe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"spraksjekk-felt\">\n\t\t\t\t<Switch\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tposition=\"left\"\n\t\t\t\t\tonChange={() => setVisSprakhjelp(!visSprakhjelp)}\n\t\t\t\t\tchecked={visSprakhjelp}\n\t\t\t\t>\n\t\t\t\t\tSpråkhjelp\n\t\t\t\t</Switch>\n\t\t\t\t<Show if={visSprakhjelp && begrunnelse && begrunnelse.length > 0}>\n\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t{/* <LongParagraphs content={begrunnelse} /> */}\n\t\t\t\t\t\t{/* <LongSentences content={begrunnelse} /> */}\n\t\t\t\t\t\t{/* <LongWords content={begrunnelse} /> */}\n\t\t\t\t\t\t{/* <DuplicateWords content={begrunnelse} /> */}\n\t\t\t\t\t\t<GammelnavskDictionary content={begrunnelse} />\n\t\t\t\t\t\t{/*<NrkDictionaries content={begrunnelse} /> */}\n\t\t\t\t\t\t{/* <AvløserordDictionary content={begrunnelse} /> */}\n\t\t\t\t\t\t{/* <Begrepskatalog content={begrunnelse} /> */}\n\t\t\t\t\t\t{/* <PersonalData content={begrunnelse} /> */}\n\t\t\t\t\t\t<Lix content={begrunnelse} />\n\t\t\t\t\t\t{/* <WordCount content={begrunnelse} /> */}\n\t\t\t\t\t</Accordion>\n\t\t\t\t</Show>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Begrunnelse;\n","import { MalformType } from '../veilarbperson';\nimport { AxiosPromise } from 'axios';\nimport { axiosInstance } from '../utils';\nimport { mapKilderFraBokmalTilBrukersMalform, SkjemaData } from '../../util/skjema-utils';\nimport { VEILARBVEDTAKSSTOTTE_API, BeslutterProsessStatus, Utkast } from './index';\nimport { FrontendEvent } from '../../util/logger';\n\nexport interface BeslutterprosessStatusData {\n\tstatus: BeslutterProsessStatus;\n}\n\nexport function oppdaterVedtakUtkast(vedtakId: number, malform: MalformType | null, skjema: SkjemaData): AxiosPromise {\n\tskjema.opplysninger = mapKilderFraBokmalTilBrukersMalform(skjema.opplysninger, malform);\n\treturn axiosInstance.put(`${VEILARBVEDTAKSSTOTTE_API}/utkast/${vedtakId}`, skjema);\n}\n\nexport function fattVedtak(vedtakId: number): AxiosPromise<Response> {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/utkast/${vedtakId}/fattVedtak`);\n}\n\nexport function slettUtkast(vedtakId: number): AxiosPromise {\n\treturn axiosInstance.delete(`${VEILARBVEDTAKSSTOTTE_API}/utkast/${vedtakId}`);\n}\n\nexport function hentBeslutterprosessStatus(vedtakId: number): AxiosPromise<BeslutterprosessStatusData> {\n\treturn axiosInstance.get(`${VEILARBVEDTAKSSTOTTE_API}/utkast/${vedtakId}/beslutterprosessStatus`);\n}\n\nexport function fetchTaOverUtkast(vedtakId: number): AxiosPromise {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/utkast/${vedtakId}/overta`);\n}\n\nexport function lagNyttUtkast(fnr: string): AxiosPromise {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/utkast`, { fnr });\n}\n\nexport function fetchUtkast(fnr: string): AxiosPromise<Utkast> {\n\treturn axiosInstance.get(`${VEILARBVEDTAKSSTOTTE_API}/utkast?fnr=${fnr}`);\n}\n\nexport function sendEventTilVeilarbvedtaksstotte(event: FrontendEvent) {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/logger/event`, event);\n}\n","import { APP_NAME } from './constants';\nimport { sendEventTilVeilarbvedtaksstotte } from '../api/veilarbvedtaksstotte/utkast';\n\nexport interface FrontendEvent {\n\tname: string;\n\tfields?: {};\n\ttags?: {};\n}\n\nexport const logMetrikk = (metrikkNavn: string, fields?: {}, tags?: {}): void => {\n\tif (process.env.REACT_APP_DEV === 'true') {\n\t\t// tslint:disable-next-line:no-console\n\t\tconsole.log('Event', metrikkNavn, 'Fields:', fields, 'Tags:', tags);\n\t} else {\n\t\tsendEventTilVeilarbvedtaksstotte({ name: `${APP_NAME}.metrikker.${metrikkNavn}`, fields, tags });\n\t}\n};\n","import React, { useMemo } from 'react';\nimport { Element, Undertekst } from 'nav-frontend-typografi';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport { sortDatesDesc } from '../../util/date-utils';\nimport { OnVedtakClicked, VedtakPanel } from '../vedtak-panel/vedtak-panel';\nimport vedtakBilde from './vedtak.svg';\nimport { getInnsatsgruppeTekst } from '../../util/innsatsgruppe';\nimport { VedtakListe } from '../vedtak-liste/vedtak-liste';\nimport './tidligere-vedtak-liste.less';\nimport { logMetrikk } from '../../util/logger';\nimport { Vedtak } from '../../api/veilarbvedtaksstotte';\n\nfunction mapVedtakTilPanel(vedtak: Vedtak, onClick: OnVedtakClicked<Vedtak>, posisjon: number) {\n\tconst innsatsgruppeTekst = getInnsatsgruppeTekst(vedtak.innsatsgruppe);\n\treturn (\n\t\t<VedtakPanel<Vedtak>\n\t\t\tname=\"tidligere-vedtak\"\n\t\t\tonClick={onClick}\n\t\t\tvedtak={vedtak}\n\t\t\tdato={vedtak.vedtakFattet}\n\t\t\tposisjon={posisjon}\n\t\t\tikon={vedtakBilde}\n\t\t>\n\t\t\t<Element className=\"tidligere-vedtak-panel__innsats--tittel\">{innsatsgruppeTekst.tittel}</Element>\n\t\t\t<Undertekst className=\"tidligere-vedtak-panel__innsats--undertekst\">\n\t\t\t\t{innsatsgruppeTekst.undertekst}\n\t\t\t</Undertekst>\n\t\t</VedtakPanel>\n\t);\n}\n\nexport function TidligereVedtakListe({ vedtakListe }: { vedtakListe: Vedtak[] }) {\n\tconst { changeView } = useViewStore();\n\n\tconst tidligereVedtak = useMemo(() => {\n\t\treturn [...vedtakListe].sort((v1, v2) => sortDatesDesc(v1.vedtakFattet, v2.vedtakFattet));\n\t}, [vedtakListe]);\n\n\tfunction handleTidligereVedtakClicked(vedtakData: Vedtak, idx: number) {\n\t\tchangeView(ViewType.VEDTAK, { vedtakId: (vedtakData as Vedtak).id });\n\t\tlogMetrikk('vis-tidligere-vedtak', { index: idx });\n\t}\n\n\treturn (\n\t\t<VedtakListe<Vedtak>\n\t\t\ttittel=\"Tidligere oppfølgingsvedtak i Modia\"\n\t\t\tingenVedtakTekst=\"Ingen tidligere oppfølgingsvedtak\"\n\t\t\tvedtak={tidligereVedtak}\n\t\t\tvedtakMapper={(vedtak, posisjon) => {\n\t\t\t\tconst onClick = (v: Vedtak, idx: number) => handleTidligereVedtakClicked(vedtak, idx);\n\t\t\t\treturn mapVedtakTilPanel(vedtak, onClick, posisjon);\n\t\t\t}}\n\t\t/>\n\t);\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport { Element, Normaltekst } from 'nav-frontend-typografi';\nimport { OrNothing } from '../../util/type/ornothing';\nimport './label.less';\n\nexport enum LabelType {\n\tSMALL = 'SMALL',\n\tMEDIUM = 'MEDIUM'\n}\n\ninterface LabelProps {\n\ttitleText: string;\n\tvalueText: OrNothing<string>;\n\tclassName?: string;\n\ttitleTextClassName?: string;\n\tlabelType?: LabelType;\n}\n\nexport const Label = ({\n\ttitleText,\n\tvalueText,\n\tclassName,\n\ttitleTextClassName,\n\tlabelType = LabelType.MEDIUM\n}: LabelProps) => {\n\tconst labelTypeClass = labelType === LabelType.SMALL ? 'label--small' : undefined;\n\treturn (\n\t\t<div className={cls('label', className)}>\n\t\t\t<Element className={cls('label__title-text', labelTypeClass, titleTextClassName)} tag=\"span\">\n\t\t\t\t{titleText}:\n\t\t\t</Element>\n\t\t\t<Normaltekst tag=\"span\" className={labelTypeClass}>\n\t\t\t\t{valueText}\n\t\t\t</Normaltekst>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport { formatDateStr, formatDateTime } from '../../util/date-utils';\nimport { Label, LabelType } from '../label/label';\n\ntype FormatType = 'short' | 'long';\n\ninterface DatoProps {\n\tsistOppdatert: string;\n\ttext: string;\n\tformatType: FormatType;\n\tclassName?: string;\n}\n\nexport function DatoLabel(props: DatoProps) {\n\tconst { formatType, sistOppdatert, text } = props;\n\tconst dateStr = formatType === 'short' ? formatDateStr(sistOppdatert) : formatDateTime(sistOppdatert);\n\n\treturn <Label titleText={text} valueText={dateStr} labelType={LabelType.SMALL} />;\n}\n","export default __webpack_public_path__ + \"static/media/utkast.d25da1bc.svg\";","export default __webpack_public_path__ + \"static/media/utkast-til-beslutter.7928a93a.svg\";","import React from 'react';\nimport cls from 'classnames';\nimport './hovedside-panel.less';\n\nexport function HovedsidePanel(props: { children: React.ReactNode; className?: string }) {\n\treturn <section className={cls('hovedside-panel', props.className)}>{props.children}</section>;\n}\n","import { OrNothing } from './type/ornothing';\nimport { Veileder } from '../api/veilarbveileder';\nimport { Utkast } from '../api/veilarbvedtaksstotte';\n\nexport enum VeilederTilgang {\n\tBESLUTTER = 'BESLUTTER',\n\tANSVARLIG_VEILEDER = 'ANSVARLIG_VEILEDER',\n\tIKKE_ANSVARLIG_VEILEDER = 'IKKE_ANSVARLIG_VEILEDER'\n}\n\nexport function kanEndreUtkast(tilgang: VeilederTilgang): boolean {\n\treturn tilgang === VeilederTilgang.ANSVARLIG_VEILEDER;\n}\n\nexport function erAnsvarligVeileder(tilgang: VeilederTilgang): boolean {\n\treturn tilgang === VeilederTilgang.ANSVARLIG_VEILEDER;\n}\n\nexport function erIkkeAnsvarligVeileder(tilgang: VeilederTilgang): boolean {\n\treturn tilgang === VeilederTilgang.IKKE_ANSVARLIG_VEILEDER;\n}\n\nexport function erBeslutter(tilgang: VeilederTilgang): boolean {\n\treturn tilgang === VeilederTilgang.BESLUTTER;\n}\n\nexport function finnVeilederTilgang(innloggetVeileder: Veileder, vedtak: OrNothing<Utkast>): VeilederTilgang {\n\tconst innloggetIdent = innloggetVeileder.ident;\n\n\tif (!vedtak) {\n\t\treturn VeilederTilgang.IKKE_ANSVARLIG_VEILEDER;\n\t} else if (vedtak.veilederIdent === innloggetIdent) {\n\t\treturn VeilederTilgang.ANSVARLIG_VEILEDER;\n\t} else if (vedtak.beslutterIdent === innloggetIdent) {\n\t\treturn VeilederTilgang.BESLUTTER;\n\t}\n\n\treturn VeilederTilgang.IKKE_ANSVARLIG_VEILEDER;\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport { HovedsidePanel } from '../hovedside-panel/hovedside-panel';\nimport { Undertittel } from 'nav-frontend-typografi';\nimport './vedtaksstotte-panel.less';\n\ninterface VedtaksstottePanelProps {\n\ttittel: string;\n\tundertittel: string;\n\timgSrc: string;\n\ttekstKomponent: React.ReactNode;\n\tknappKomponent?: React.ReactNode;\n\tpanelKlasse?: string;\n\tundertittelClassName?: string;\n}\n\nexport function VedtaksstottePanel(props: VedtaksstottePanelProps) {\n\tconst { tittel, undertittel, imgSrc, tekstKomponent, knappKomponent, panelKlasse, undertittelClassName } = props;\n\treturn (\n\t\t<HovedsidePanel className={cls('vedtakstottepanel', panelKlasse)}>\n\t\t\t<div className=\"vedtakstottepanel__tittel\">\n\t\t\t\t<Undertittel tag=\"h1\">{tittel}</Undertittel>\n\t\t\t</div>\n\t\t\t<div className=\"vedtakstottepanel__content\">\n\t\t\t\t<img src={imgSrc} className=\"vedtakstottepanel__ikon\" alt=\"\" />\n\t\t\t\t<div>\n\t\t\t\t\t<Undertittel className={cls('vedtakstottepanel__undertittel', undertittelClassName)}>\n\t\t\t\t\t\t{undertittel}\n\t\t\t\t\t</Undertittel>\n\t\t\t\t\t<div className=\"vedtakstottepanel__tekst\">{tekstKomponent}</div>\n\t\t\t\t\t{knappKomponent}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</HovedsidePanel>\n\t);\n}\n","import React from 'react';\nimport { Undertekst } from 'nav-frontend-typografi';\n\ninterface BeslutterProps {\n\tbeslutterNavn: string;\n\tclassName?: string;\n}\n\nexport function KvalitetssikrerLabel({ beslutterNavn, className }: BeslutterProps) {\n\treturn (\n\t\t<div className={className} style={{ display: 'flex' }}>\n\t\t\t<Undertekst className=\"label\">Kvalitetssikrer: </Undertekst>\n\t\t\t<Undertekst>{beslutterNavn}</Undertekst>\n\t\t</div>\n\t);\n}\n","import { useState } from 'react';\nimport constate from 'constate';\nimport {\n\terAnsvarligVeileder,\n\terBeslutter,\n\terIkkeAnsvarligVeileder,\n\tkanEndreUtkast,\n\tVeilederTilgang\n} from '../util/tilgang';\n\nexport const [TilgangStoreProvider, useTilgangStore] = constate(() => {\n\tconst [veilederTilgang, setVeilederTilgang] = useState<VeilederTilgang>(VeilederTilgang.IKKE_ANSVARLIG_VEILEDER);\n\n\treturn {\n\t\tkanEndreUtkast: kanEndreUtkast(veilederTilgang),\n\t\terBeslutter: erBeslutter(veilederTilgang),\n\t\terAnsvarligVeileder: erAnsvarligVeileder(veilederTilgang),\n\t\terIkkeAnsvarligVeileder: erIkkeAnsvarligVeileder(veilederTilgang),\n\t\tveilederTilgang,\n\t\tsetVeilederTilgang\n\t};\n});\n","import React from 'react';\nimport { OrNothing } from '../../../util/type/ornothing';\nimport { DatoLabel } from '../dato-label';\nimport { Hovedknapp } from 'nav-frontend-knapper';\nimport utkastIkon from './utkast.svg';\nimport utkastTilBeslutterIkon from './utkast-til-beslutter.svg';\nimport { VedtaksstottePanel } from '../vedtaksstotte/vedtaksstotte-panel';\nimport { useViewStore, ViewType } from '../../../store/view-store';\nimport { KvalitetssikrerLabel } from '../kvalitetssikrer-label';\nimport Show from '../../show';\nimport { useTilgangStore } from '../../../store/tilgang-store';\nimport './utkast-panel.less';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport {\n\terBeslutterProsessStartet,\n\terGodkjentAvBeslutter,\n\terKlarTilBeslutter,\n\terKlarTilVeileder,\n\tisNothing\n} from '../../../util';\nimport { Label, LabelType } from '../../label/label';\nimport { Utkast } from '../../../api/veilarbvedtaksstotte';\n\nexport function UtkastPanel(props: { utkast: OrNothing<Utkast> }) {\n\tconst { changeView } = useViewStore();\n\tconst { kanEndreUtkast } = useTilgangStore();\n\tconst { sistOppdatert } = useSkjemaStore();\n\n\tif (!props.utkast) {\n\t\treturn null;\n\t}\n\n\tconst { veilederNavn, beslutterNavn, beslutterProsessStatus } = props.utkast;\n\n\tconst lagUtkastUnderTittle = () => {\n\t\tif (erGodkjentAvBeslutter(beslutterProsessStatus)) {\n\t\t\treturn 'Klar for utsendelse';\n\t\t} else if (erBeslutterProsessStartet(beslutterProsessStatus) && isNothing(beslutterNavn)) {\n\t\t\treturn 'Utkast trenger kvalitetssikrer';\n\t\t} else if (erKlarTilBeslutter(beslutterProsessStatus)) {\n\t\t\treturn 'Trenger tilbakemelding fra kvalitetssikrer';\n\t\t} else if (erKlarTilVeileder(beslutterProsessStatus)) {\n\t\t\treturn 'Trenger respons fra veileder';\n\t\t} else {\n\t\t\treturn 'Utkast';\n\t\t}\n\t};\n\n\treturn (\n\t\t<VedtaksstottePanel\n\t\t\ttittel=\"Utkast til oppfølgingsvedtak\"\n\t\t\tundertittel={lagUtkastUnderTittle()}\n\t\t\timgSrc={beslutterNavn ? utkastTilBeslutterIkon : utkastIkon}\n\t\t\tpanelKlasse=\"utkast-panel\"\n\t\t\tknappKomponent={\n\t\t\t\t<Hovedknapp onClick={() => changeView(ViewType.UTKAST)}>\n\t\t\t\t\t{kanEndreUtkast ? 'Fortsett' : 'Åpne'}\n\t\t\t\t</Hovedknapp>\n\t\t\t}\n\t\t\ttekstKomponent={\n\t\t\t\t<>\n\t\t\t\t\t<Show if={beslutterNavn}>\n\t\t\t\t\t\t<KvalitetssikrerLabel\n\t\t\t\t\t\t\tclassName=\"utkast-panel__beslutter\"\n\t\t\t\t\t\t\tbeslutterNavn={beslutterNavn as string}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Show>\n\t\t\t\t\t<DatoLabel\n\t\t\t\t\t\tclassName=\"utkast-panel__dato\"\n\t\t\t\t\t\tsistOppdatert={sistOppdatert || props.utkast.utkastSistOppdatert}\n\t\t\t\t\t\tformatType=\"long\"\n\t\t\t\t\t\ttext=\"Sist endret\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Label titleText=\"Ansvarlig\" valueText={veilederNavn} labelType={LabelType.SMALL} />\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n","import React from 'react';\nimport { Undertekst } from 'nav-frontend-typografi';\n\ninterface VeilederProps {\n\tveilederNavn: string;\n\ttext: string;\n\tclassName?: string;\n}\n\nexport function Veileder({ veilederNavn, text, className }: VeilederProps) {\n\treturn (\n\t\t<div className={className} style={{ display: 'flex' }}>\n\t\t\t<Undertekst className=\"label\">{text}: </Undertekst>\n\t\t\t<Undertekst>{veilederNavn}</Undertekst>\n\t\t</div>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/fullfort.27542b31.svg\";","import React from 'react';\nimport { DatoLabel } from '../dato-label';\nimport { Knapp } from 'nav-frontend-knapper';\nimport { Veileder } from '../veileder';\nimport { VedtaksstottePanel } from '../vedtaksstotte/vedtaksstotte-panel';\nimport { useViewStore, ViewType } from '../../../store/view-store';\nimport { getInnsatsgruppeTekst } from '../../../util/innsatsgruppe';\nimport fullfortVedtakIcon from './fullfort.svg';\nimport './gjeldende-vedtak-panel.less';\nimport { logMetrikk } from '../../../util/logger';\nimport { Vedtak } from '../../../api/veilarbvedtaksstotte';\n\nexport function GjeldendeVedtakPanel(props: { gjeldendeVedtak: Vedtak }) {\n\tconst { changeView } = useViewStore();\n\tconst { id, innsatsgruppe, veilederNavn, vedtakFattet } = props.gjeldendeVedtak;\n\tconst innsatsgruppeData = getInnsatsgruppeTekst(innsatsgruppe);\n\n\tconst handleVisVedtakClicked = () => {\n\t\tchangeView(ViewType.VEDTAK, { vedtakId: id });\n\t\tlogMetrikk('vis-gjeldende-vedtak');\n\t};\n\n\treturn (\n\t\t<VedtaksstottePanel\n\t\t\ttittel=\"Gjeldende oppfølgingsvedtak\"\n\t\t\tundertittel={innsatsgruppeData.tittel}\n\t\t\timgSrc={fullfortVedtakIcon}\n\t\t\tpanelKlasse=\"gjeldende-vedtak-panel\"\n\t\t\tundertittelClassName=\"gjeldende-vedtak-panel__undertittel\"\n\t\t\ttekstKomponent={\n\t\t\t\t<>\n\t\t\t\t\t<p className=\"typo-undertekst gjeldende-vedtak-panel__innsatsgruppe\">\n\t\t\t\t\t\t{innsatsgruppeData.undertekst}\n\t\t\t\t\t</p>\n\t\t\t\t\t<DatoLabel\n\t\t\t\t\t\tclassName=\"gjeldende-vedtak-panel__dato\"\n\t\t\t\t\t\tsistOppdatert={vedtakFattet}\n\t\t\t\t\t\tformatType=\"short\"\n\t\t\t\t\t\ttext=\"Dato\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Veileder text=\"Fattet av\" veilederNavn={veilederNavn} />\n\t\t\t\t</>\n\t\t\t}\n\t\t\tknappKomponent={<Knapp onClick={handleVisVedtakClicked}>Vis vedtak</Knapp>}\n\t\t/>\n\t);\n}\n","import { useState } from 'react';\nimport constate from 'constate';\n\nexport enum ModalType {\n\tINGEN = 'INGEN',\n\tBEKREFT_SEND_VEDTAK = 'BEKREFT_SEND_VEDTAK',\n\tLASTER = 'LASTER_DATA',\n\tBEKREFT_SLETT_UTKAST = 'BEKREFT_SLETT_UTKAST',\n\tBEKREFT_TA_OVER_UTKAST = 'BEKREFT_TA_OVER_UTKAST',\n\tBEKREFT_AVBRYT_BESLUTTER_PROSESS = 'BEKREFT_AVBRYT_BESLUTTER_PROSESS',\n\tBEKREFT_SEND_TIL_GODKJENNING = 'BEKREFT_SEND_TIL_GODKJENNING',\n\tFEIL_VED_OPPRETTING_AV_UTKAST = 'FEIL_VED_OPPRETTING_AV_UTKAST',\n\tFEIL_UTSENDING_STOPPET = 'FEIL_UTSENDING_STOPPET',\n\tFEIL_VED_FORHANDSVISNING = 'FEIL_VED_FORHANDSVISNING',\n\tFEIL_VED_SENDING = 'FEIL_VED_SENDING',\n\tFEIL_VED_SLETTING = 'FEIL_VED_SLETTING',\n\tFEIL_VED_OVERTAKELSE = 'FEIL_VED_OVERTAKELSE',\n\tFEIL_VED_VISNING = 'FEIL_VED_VISNING',\n\tFEIL_VED_LAGRING = 'FEIL_VED_LAGRING',\n\tFEIL_VED_BLI_BESLUTTER = 'FEIL_VED_BLI_BESLUTTER',\n\tFEIL_VED_START_BESLUTTER_PROSESS = 'FEIL_VED_START_BESLUTTER_PROSESS',\n\tFEIL_VED_AVBRYT_BESLUTTER_PROSESS = 'FEIL_VED_AVBRYT_BESLUTTER_PROSESS',\n\tFEIL_VED_UTSENDING_AV_DIALOG_MELDING = 'FEIL_VED_UTSENDING_AV_DIALOG_MELDING',\n\tFEIL_VED_OPPDATER_BESLUTTER_PROSESS_STATUS = 'FEIL_VED_OPPDATER_BESLUTTER_PROSESS_STATUS',\n\tFEIL_VED_GODKJENT_AV_BESLUTTER = 'FEIL_VED_GODKJENT_AV_BESLUTTER',\n\tFEIL_VED_VALIDERING_AV_UTKAST = 'FEIL_VED_VALIDERING_AV_UTKAST'\n}\n\nexport const [ModalStoreProvider, useModalStore] = constate(() => {\n\tconst [modalType, setModalType] = useState<ModalType>(ModalType.INGEN);\n\tconst [modalProps, setModalProps] = useState<any>({});\n\n\tconst showModal = (type: ModalType, props: object = {}) => {\n\t\tsetModalProps(props);\n\t\tsetModalType(type);\n\t};\n\n\tconst hideModal = () => {\n\t\tsetModalType(ModalType.INGEN);\n\t};\n\n\treturn { modalType, modalProps, showModal, hideModal };\n});\n","export default __webpack_public_path__ + \"static/media/nytt-vedtak.5d5ce8d7.svg\";","import { useState } from 'react';\nimport constate from 'constate';\n\nexport const [AppStoreProvider, useAppStore] = constate((initalValues: { fnr: string; enhetId?: string }) => {\n\tconst [fnr, setFnr] = useState(initalValues.fnr);\n\tconst [enhetId, setEnhetId] = useState(initalValues.enhetId);\n\treturn { fnr, setFnr, enhetId, setEnhetId };\n});\n","import React, { useState } from 'react';\nimport { Undertittel } from 'nav-frontend-typografi';\nimport { OrNothing } from '../../../util/type/ornothing';\nimport nyttVedtakBilde from './nytt-vedtak.svg';\nimport { useViewStore, ViewType } from '../../../store/view-store';\nimport { useAppStore } from '../../../store/app-store';\nimport { ModalType, useModalStore } from '../../../store/modal-store';\nimport { HovedsidePanel } from '../hovedside-panel/hovedside-panel';\nimport { useDataStore } from '../../../store/data-store';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport { VeilederTilgang } from '../../../util/tilgang';\nimport { useTilgangStore } from '../../../store/tilgang-store';\nimport { logMetrikk } from '../../../util/logger';\nimport { Hovedknapp } from 'nav-frontend-knapper';\nimport { Checkbox } from 'nav-frontend-skjema';\nimport './nytt-vedtak-panel.less';\nimport { Utkast, Vedtak } from '../../../api/veilarbvedtaksstotte';\nimport { fetchUtkast, lagNyttUtkast, oppdaterVedtakUtkast } from '../../../api/veilarbvedtaksstotte/utkast';\n\nexport function NyttVedtakPanel(props: { utkast: OrNothing<Utkast> }) {\n\tconst { fnr } = useAppStore();\n\tconst { showModal, hideModal } = useModalStore();\n\tconst { oppfolgingData, fattedeVedtak, setMeldinger, setUtkast } = useDataStore();\n\tconst { setVeilederTilgang } = useTilgangStore();\n\tconst { changeView } = useViewStore();\n\tconst { initSkjema } = useSkjemaStore();\n\n\tconst [kopierSisteVedtak, setKopierSisteVedtak] = useState(false);\n\n\tconst { utkast } = props;\n\n\tconst sisteVedtak: Vedtak | undefined = fattedeVedtak.sort((fv1, fv2) => fv2.id - fv1.id)[0];\n\n\tfunction lagNyttVedtakUtkastOgRedirectTilUtkast() {\n\t\tshowModal(ModalType.LASTER);\n\t\tlagNyttUtkast(fnr)\n\t\t\t.then(() => fetchUtkast(fnr)) // TODO: Kunne egentlig droppet fetchUtkast() hvis man returnerte det opprettede utkastet\n\t\t\t.then(async fetchResponse => {\n\t\t\t\tif (!fetchResponse.data) {\n\t\t\t\t\tthrow Error('Fant ikke utkast');\n\t\t\t\t}\n\n\t\t\t\tconst nyttUtkast = fetchResponse.data;\n\n\t\t\t\tif (kopierSisteVedtak && sisteVedtak) {\n\t\t\t\t\tconst skjema = {\n\t\t\t\t\t\topplysninger: sisteVedtak.opplysninger,\n\t\t\t\t\t\tbegrunnelse: sisteVedtak.begrunnelse,\n\t\t\t\t\t\thovedmal: null,\n\t\t\t\t\t\tinnsatsgruppe: null\n\t\t\t\t\t};\n\n\t\t\t\t\tnyttUtkast.opplysninger = sisteVedtak.opplysninger;\n\t\t\t\t\tnyttUtkast.begrunnelse = sisteVedtak.begrunnelse;\n\n\t\t\t\t\tawait oppdaterVedtakUtkast(nyttUtkast.id, null, skjema);\n\t\t\t\t}\n\n\t\t\t\tsetUtkast(nyttUtkast);\n\t\t\t\tinitSkjema(nyttUtkast);\n\n\t\t\t\tsetVeilederTilgang(VeilederTilgang.ANSVARLIG_VEILEDER);\n\t\t\t\tsetMeldinger([]); // Rydd opp hvis det ligger gamle meldinger mellomlagret\n\n\t\t\t\thideModal();\n\t\t\t\tchangeView(ViewType.UTKAST);\n\n\t\t\t\tlogMetrikk('lag-nytt-vedtak', { kopierteFraSisteVedtak: kopierSisteVedtak });\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tshowModal(ModalType.FEIL_VED_OPPRETTING_AV_UTKAST);\n\t\t\t});\n\t}\n\n\tif (utkast || !oppfolgingData.underOppfolging) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<HovedsidePanel className=\"vedtakstottepanel nytt-vedtak-panel\">\n\t\t\t<div className=\"vedtakstottepanel__tittel\">\n\t\t\t\t<Undertittel tag=\"h1\">Opprett nytt oppfølgingsvedtak</Undertittel>\n\t\t\t</div>\n\t\t\t<div className=\"vedtakstottepanel__content\">\n\t\t\t\t<img src={nyttVedtakBilde} className=\"vedtakstottepanel__ikon\" alt=\"\" />\n\t\t\t\t<div>\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tdisabled={!sisteVedtak}\n\t\t\t\t\t\tclassName=\"blokk-m\"\n\t\t\t\t\t\tlabel=\"Kopier kilder og begrunnelse fra siste vedtak\"\n\t\t\t\t\t\tchecked={kopierSisteVedtak}\n\t\t\t\t\t\tonChange={e => setKopierSisteVedtak(e.target.checked)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Hovedknapp onClick={lagNyttVedtakUtkastOgRedirectTilUtkast}>Opprett vedtak</Hovedknapp>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</HovedsidePanel>\n\t);\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport './page.less';\n\ninterface PageProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n\tcontentClassName?: string;\n}\n\nconst Page = (props: PageProps) => {\n\treturn (\n\t\t<div className={cls('page', props.className)}>\n\t\t\t<div className={cls('page__content', props.contentClassName)}>{props.children}</div>\n\t\t</div>\n\t);\n};\n\nexport default Page;\n","export default __webpack_public_path__ + \"static/media/ingen-vedtak.4acf94ec.svg\";","import React from 'react';\nimport { Undertittel } from 'nav-frontend-typografi';\nimport { HovedsidePanel } from '../hovedside-panel/hovedside-panel';\nimport ingenVedtakBilde from './ingen-vedtak.svg';\nimport './ingen-tidligere-vedtak-panel.less';\n\nexport function IngenTidligereVedtakPanel() {\n\treturn (\n\t\t<HovedsidePanel className=\"ingen-tidligere-vedtak-panel\">\n\t\t\t<img src={ingenVedtakBilde} alt=\"\" className=\"ingen-tidligere-vedtak-panel__bilde\" />\n\t\t\t<Undertittel tag=\"h1\" className=\"ingen-tidligere-vedtak-panel__tittel\">\n\t\t\t\tIngen tidligere vedtak\n\t\t\t</Undertittel>\n\t\t</HovedsidePanel>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/ingen_gjeldende_vedtak.69f7655f.svg\";","import React from 'react';\nimport { Normaltekst, Undertittel } from 'nav-frontend-typografi';\nimport { HovedsidePanel } from '../hovedside-panel/hovedside-panel';\nimport ingenGjeldendeVedtakBilde from './ingen_gjeldende_vedtak.svg';\nimport './ingen-gjeldende-vedtak-panel.less';\n\nexport function IngenGjeldendeVedtakPanel() {\n\treturn (\n\t\t<HovedsidePanel className=\"ingen-gjeldende-vedtak-panel\">\n\t\t\t<img src={ingenGjeldendeVedtakBilde} alt=\"\" className=\"ingen-gjeldende-vedtak-panel__bilde\" />\n\t\t\t<Undertittel tag=\"h1\" className=\"ingen-gjeldende-vedtak-panel__tittel\">\n\t\t\t\tIngen gjeldende oppfølgingsvedtak\n\t\t\t</Undertittel>\n\t\t\t<Normaltekst>Denne brukeren er ikke under oppfølging.</Normaltekst>\n\t\t</HovedsidePanel>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/pdf.49362d2c.svg\";","import React, { useMemo } from 'react';\nimport { Element } from 'nav-frontend-typografi';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport { sortDatesDesc } from '../../util/date-utils';\nimport { OnVedtakClicked, VedtakPanel } from '../vedtak-panel/vedtak-panel';\nimport vedtakBilde from './pdf.svg';\nimport { VedtakListe } from '../vedtak-liste/vedtak-liste';\nimport './vedtak-fra-arena-liste.less';\nimport { logMetrikk } from '../../util/logger';\nimport { ArenaVedtak } from '../../api/veilarbvedtaksstotte/vedtak';\n\nfunction mapArenaVedtakTilPanel(vedtak: ArenaVedtak, onClick: OnVedtakClicked<ArenaVedtak>, posisjon: number) {\n\treturn (\n\t\t<VedtakPanel<ArenaVedtak>\n\t\t\tname=\"arena-vedtak\"\n\t\t\tonClick={onClick}\n\t\t\tvedtak={vedtak}\n\t\t\tdato={vedtak.dato}\n\t\t\tposisjon={posisjon}\n\t\t\tikon={vedtakBilde}\n\t\t>\n\t\t\t<Element className=\"arena-vedtak-panel__tittel\">Vedtaksbrev - 14a</Element>\n\t\t</VedtakPanel>\n\t);\n}\n\nexport function VedtakFraArenaListe({ vedtakListe }: { vedtakListe: ArenaVedtak[] }) {\n\tconst { changeView } = useViewStore();\n\n\tconst arenaVedtak = useMemo(() => {\n\t\treturn [...vedtakListe].sort((v1, v2) => sortDatesDesc(v1.dato, v2.dato));\n\t}, [vedtakListe]);\n\n\tfunction handleTidligereVedtakClicked(vedtakData: ArenaVedtak, idx: number) {\n\t\tchangeView(ViewType.ARENA_VEDTAK_PDF, {\n\t\t\tjournalpostId: vedtakData.journalpostId,\n\t\t\tdokumentInfoId: vedtakData.dokumentInfoId\n\t\t});\n\t\tlogMetrikk('vis-arena-vedtak', { index: idx });\n\t}\n\n\treturn (\n\t\t<VedtakListe<ArenaVedtak>\n\t\t\ttittel=\"Utsendte oppfølgingsvedtak fra Arena\"\n\t\t\tingenVedtakTekst=\"Ingen utsendte oppfølgingsvedtak\"\n\t\t\tvedtak={arenaVedtak}\n\t\t\tclassName=\"arena-vedtak-panel\"\n\t\t\tvedtakMapper={(vedtak, posisjon) => {\n\t\t\t\tconst onClick = (v: ArenaVedtak, idx: number) => handleTidligereVedtakClicked(vedtak, idx);\n\t\t\t\treturn mapArenaVedtakTilPanel(vedtak, onClick, posisjon);\n\t\t\t}}\n\t\t/>\n\t);\n}\n","import React from 'react';\nimport { TidligereVedtakListe } from '../../component/tidligere-vedtak-liste/tidligere-vedtak-liste';\nimport { UtkastPanel } from '../../component/panel/utkast/utkast-panel';\nimport { GjeldendeVedtakPanel } from '../../component/panel/gjeldende-vedtak/gjeldende-vedtak-panel';\nimport { NyttVedtakPanel } from '../../component/panel/nytt-vedtak/nytt-vedtak-panel';\nimport Page from '../../component/page/page';\nimport { IngenTidligereVedtakPanel } from '../../component/panel/ingen-tidligere-vedtak/ingen-tidligere-vedtak-panel';\nimport { IngenGjeldendeVedtakPanel } from '../../component/panel/ingen-gjeldende-vedtak/ingen-gjeldende-vedtak';\nimport Show from '../../component/show';\nimport { VedtakFraArenaListe } from '../../component/vedtak-fra-arena-liste/vedtak-fra-arena-liste';\nimport './hovedside.less';\nimport { useDataStore } from '../../store/data-store';\nimport { Vedtak } from '../../api/veilarbvedtaksstotte';\n\nexport function Hovedside() {\n\tconst { fattedeVedtak, utkast, arenaVedtak, oppfolgingData } = useDataStore();\n\n\tconst underOppfolging = oppfolgingData.underOppfolging;\n\tconst vedtakFraArena = arenaVedtak || [];\n\n\tconst tidligereVedtak = fattedeVedtak.filter(v => !v.gjeldende);\n\tconst gjeldendeVedtak = fattedeVedtak.find(v => v.gjeldende);\n\n\tconst harTidligereVedtak = vedtakFraArena.length > 0 || tidligereVedtak.length > 0;\n\n\treturn (\n\t\t<Page>\n\t\t\t<div className=\"hovedside\">\n\t\t\t\t<div className=\"hovedside__vedtak-paneler\">\n\t\t\t\t\t<Show if={!underOppfolging}>\n\t\t\t\t\t\t<IngenGjeldendeVedtakPanel />\n\t\t\t\t\t</Show>\n\t\t\t\t\t<Show if={underOppfolging}>\n\t\t\t\t\t\t<UtkastPanel utkast={utkast} />\n\t\t\t\t\t\t<Show if={gjeldendeVedtak != null}>\n\t\t\t\t\t\t\t<GjeldendeVedtakPanel gjeldendeVedtak={gjeldendeVedtak as Vedtak} />\n\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t<NyttVedtakPanel utkast={utkast} />\n\t\t\t\t\t</Show>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"hovedside__tidligere-vedtak-panel\">\n\t\t\t\t\t<Show if={!harTidligereVedtak}>\n\t\t\t\t\t\t<IngenTidligereVedtakPanel />\n\t\t\t\t\t</Show>\n\t\t\t\t\t<Show if={harTidligereVedtak}>\n\t\t\t\t\t\t<TidligereVedtakListe vedtakListe={tidligereVedtak} />\n\t\t\t\t\t\t<VedtakFraArenaListe vedtakListe={vedtakFraArena} />\n\t\t\t\t\t</Show>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Page>\n\t);\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport './footer.less';\n\ninterface FooterProps {\n\tclassName?: string;\n\tchildren?: React.ReactNode;\n}\n\nfunction Footer(props: FooterProps) {\n\treturn <footer className={cls('vedtaksstotte-footer', props.className)}>{props.children}</footer>;\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/gjeldende-vedtak.9fc92b97.svg\";","export default __webpack_public_path__ + \"static/media/tidligere-vedtak.e35785a1.svg\";","import React from 'react';\nimport { Systemtittel } from 'nav-frontend-typografi';\nimport gjeldendeVedtakBilde from './gjeldende-vedtak.svg';\nimport tidligereVedtakBilde from './tidligere-vedtak.svg';\nimport './skjema-visning-header.less';\n\ninterface SkjemaVisningHeaderProps {\n\terGjeldende: boolean;\n}\n\nexport function SkjemaVisningHeader(props: SkjemaVisningHeaderProps) {\n\tconst tittelTekst = props.erGjeldende ? 'Gjeldende vedtak' : 'Tidligere vedtak';\n\n\tconst vedtakBilde = props.erGjeldende ? gjeldendeVedtakBilde : tidligereVedtakBilde;\n\n\treturn (\n\t\t<div className=\"skjema-visning-header\">\n\t\t\t<img src={vedtakBilde} alt=\"\" className=\"skjema-visning-header__bilde\" />\n\t\t\t<div className=\"skjema-visning-header__vedtak\">\n\t\t\t\t<span className=\"skjema-visning-header__seperator\" />\n\t\t\t\t<Systemtittel tag=\"h1\" className=\"skjema-visning-header__tittel\">\n\t\t\t\t\t{tittelTekst}\n\t\t\t\t</Systemtittel>\n\t\t\t\t<span className=\"skjema-visning-header__seperator\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { OrNothing } from './type/ornothing';\nimport { EMDASH } from './index';\nimport { HovedmalType } from '../api/veilarbvedtaksstotte';\n\nexport const getHovedmalNavn = (hovedmal: OrNothing<HovedmalType>) => {\n\tconst hovedmalobjekt = alleHovedmal.find(h => h.value === hovedmal);\n\treturn (hovedmalobjekt && hovedmalobjekt.label) || EMDASH;\n};\n\nexport const alleHovedmal = [\n\t{\n\t\tlabel: 'Skaffe arbeid',\n\t\tvalue: HovedmalType.SKAFFE_ARBEID\n\t},\n\t{\n\t\tlabel: 'Beholde arbeid',\n\t\tvalue: HovedmalType.BEHOLDE_ARBEID\n\t}\n];\n","import React from 'react';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport { SkjemaVisningHeader } from './header/skjema-visning-header';\nimport { Label } from '../label/label';\nimport { formatDateStr } from '../../util/date-utils';\nimport Show from '../show';\nimport { Element, Normaltekst } from 'nav-frontend-typografi';\nimport { getInnsatsgruppeTekst } from '../../util/innsatsgruppe';\nimport './skjema-visning.less';\nimport { getHovedmalNavn } from '../../util/hovedmal';\nimport Tekstomrade from 'nav-frontend-tekstomrade';\nimport { Vedtak } from '../../api/veilarbvedtaksstotte';\n\nexport function SkjemaVisning(props: { fattetVedtak: Vedtak }) {\n\tconst { changeView } = useViewStore();\n\tconst {\n\t\tid,\n\t\thovedmal,\n\t\topplysninger,\n\t\tinnsatsgruppe,\n\t\tbegrunnelse,\n\t\tbeslutterNavn,\n\t\tgjeldende,\n\t\tveilederNavn,\n\t\toppfolgingsenhetNavn,\n\t\toppfolgingsenhetId,\n\t\tvedtakFattet\n\t} = props.fattetVedtak;\n\n\tconst innsatsgruppeTekst = getInnsatsgruppeTekst(innsatsgruppe);\n\tconst fattetAv = `${veilederNavn}, ${oppfolgingsenhetId} ${oppfolgingsenhetNavn}`;\n\n\treturn (\n\t\t<div className=\"skjema-visning\">\n\t\t\t<SkjemaVisningHeader erGjeldende={gjeldende} />\n\n\t\t\t<div className=\"skjema-visning__info\">\n\t\t\t\t<Label\n\t\t\t\t\ttitleTextClassName=\"label__title-text--gap-lg\"\n\t\t\t\t\tclassName=\"blokk-xxs\"\n\t\t\t\t\ttitleText=\"Dato\"\n\t\t\t\t\tvalueText={formatDateStr(vedtakFattet)}\n\t\t\t\t/>\n\t\t\t\t<Show if={beslutterNavn}>\n\t\t\t\t\t<Label\n\t\t\t\t\t\ttitleTextClassName=\"label__title-text--gap-lg\"\n\t\t\t\t\t\tclassName=\"blokk-xxs\"\n\t\t\t\t\t\ttitleText=\"Kvalitetssikrer\"\n\t\t\t\t\t\tvalueText={beslutterNavn}\n\t\t\t\t\t/>\n\t\t\t\t</Show>\n\t\t\t\t<Label titleTextClassName=\"label__title-text--gap-lg\" titleText=\"Fattet av\" valueText={fattetAv} />\n\t\t\t</div>\n\n\t\t\t<div className=\"skjema-visning__felter\">\n\t\t\t\t<div className=\"blokk-m\">\n\t\t\t\t\t<Element>{innsatsgruppeTekst.tittel}</Element>\n\t\t\t\t\t<Normaltekst className=\"text--grey\">{innsatsgruppeTekst.undertekst}</Normaltekst>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<Element>Hovedmål</Element>\n\t\t\t\t\t<Normaltekst className=\"text--grey\">{getHovedmalNavn(hovedmal)}</Normaltekst>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Element tag=\"span\" className=\"skjema-visning__label blokk-xxs\">\n\t\t\t\tBegrunnelse\n\t\t\t</Element>\n\t\t\t<Tekstomrade className=\"skjema-visning__begrunnelse\">{begrunnelse ? begrunnelse : ''}</Tekstomrade>\n\n\t\t\t<Element tag=\"span\" className=\"skjema-visning__label blokk-xxs\">\n\t\t\t\tKilder\n\t\t\t</Element>\n\t\t\t<ul className=\"skjema-visning__kilder\">\n\t\t\t\t{opplysninger.map((o, idx) => (\n\t\t\t\t\t<li key={idx}>{o}</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\n\t\t\t<button\n\t\t\t\tclassName=\"skjema-visning__oyblikksbilde-lenke\"\n\t\t\t\tonClick={() => changeView(ViewType.OYBLIKKSBILDE_VISNING, { vedtakId: id })}\n\t\t\t>\n\t\t\t\tBrukerinformasjon på vedtakstidspunktet\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport Page from '../../component/page/page';\nimport Footer from '../../component/footer/footer';\nimport { Hovedknapp } from 'nav-frontend-knapper';\nimport { AlertStripeFeil } from 'nav-frontend-alertstriper';\nimport { SkjemaVisning } from '../../component/skjema-visning/skjema-visning';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport { useDataStore } from '../../store/data-store';\nimport './vedtakskjema-visning-side.less';\nimport { Vedtak } from '../../api/veilarbvedtaksstotte';\nimport { Tilbakeknapp } from 'nav-frontend-ikonknapper';\n\nexport function VedtakskjemaVisningSide(props: { vedtakId: number }) {\n\tconst { fattedeVedtak } = useDataStore();\n\tconst { changeView } = useViewStore();\n\tconst vistVedtak = fattedeVedtak.find((v: Vedtak) => v.id === props.vedtakId);\n\n\tif (!vistVedtak) {\n\t\treturn <AlertStripeFeil>Fant ikke vedtak å fremvise</AlertStripeFeil>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Page className=\"vedtakskjema-visning page--white\">\n\t\t\t\t<SkjemaVisning fattetVedtak={vistVedtak} />\n\t\t\t</Page>\n\t\t\t<Footer>\n\t\t\t\t<div className=\"vedtakskjema-visning__aksjoner\">\n\t\t\t\t\t<Tilbakeknapp htmlType=\"button\" onClick={() => changeView(ViewType.HOVEDSIDE)} />\n\n\t\t\t\t\t<Hovedknapp\n\t\t\t\t\t\tmini={true}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tchangeView(ViewType.VEDTAK_PDF, {\n\t\t\t\t\t\t\t\tvedtakId: vistVedtak.id\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tVis vedtaksbrev\n\t\t\t\t\t</Hovedknapp>\n\t\t\t\t</div>\n\t\t\t</Footer>\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport { Document, Page } from 'react-pdf/dist/esm/entry.webpack';\nimport { Undertittel } from 'nav-frontend-typografi';\nimport NavFrontendSpinner from 'nav-frontend-spinner';\nimport './pdf-viewer.less';\n\ninterface PdfViewerProps {\n\turl: string;\n\ttitle: string;\n\tonStatusUpdate: (pdfStatus: PDFStatus) => void;\n}\n\ninterface PdfViewerState {\n\tnumPages: number;\n}\n\nexport enum PDFStatus {\n\tNOT_STARTED = 'NOT_STARTED',\n\tLOADING = 'LOADING',\n\tSUCCESS = 'SUCCESS',\n\tERROR = 'ERROR'\n}\n\nconst PdfError = () => <div className=\"pdfvisning__feedback-container\" />;\n\nconst PdfSpinner = () => (\n\t<div className=\"pdfvisning__feedback-container pdfvisning__spinner\">\n\t\t<NavFrontendSpinner type=\"XL\" />\n\t</div>\n);\n\nfunction Pages(props: { numPages: number }) {\n\treturn (\n\t\t<>\n\t\t\t{Array(props.numPages)\n\t\t\t\t.fill(0)\n\t\t\t\t.map((elem, index) => (\n\t\t\t\t\t<Page key={index} pageNumber={index + 1} width={800} />\n\t\t\t\t))}\n\t\t</>\n\t);\n}\n\nclass PdfViewer extends React.Component<PdfViewerProps, PdfViewerState> {\n\t// Create this.file once to prevent rerender bug in react-pdf when object is created each render\n\tprivate readonly file: { url: string };\n\n\tconstructor(props: PdfViewerProps) {\n\t\tsuper(props);\n\t\tthis.state = { numPages: 0 };\n\t\tthis.props.onStatusUpdate(PDFStatus.LOADING);\n\t\tthis.file = { url: this.props.url };\n\n\t\t// Scroll to the top of the screen so that the user sees the spinner\n\t\twindow.scrollTo({ top: 0 });\n\t}\n\n\tshouldComponentUpdate(nextProps: PdfViewerProps, nextState: PdfViewerState) {\n\t\treturn !(this.props.url === nextProps.url && this.state.numPages === nextState.numPages);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"pdfvisning\">\n\t\t\t\t<div aria-live=\"polite\" className=\"pdfvisning__header\">\n\t\t\t\t\t<Undertittel tag=\"h1\">{this.props.title}</Undertittel>\n\t\t\t\t</div>\n\t\t\t\t<Document\n\t\t\t\t\tclassName=\"pdfvisning__document\"\n\t\t\t\t\tfile={this.file}\n\t\t\t\t\terror={<PdfError />}\n\t\t\t\t\tloading={<PdfSpinner />}\n\t\t\t\t\tonLoadError={() => this.props.onStatusUpdate(PDFStatus.ERROR)}\n\t\t\t\t\tonLoadSuccess={(object: { numPages: number }) => {\n\t\t\t\t\t\tthis.props.onStatusUpdate(PDFStatus.SUCCESS);\n\t\t\t\t\t\tthis.setState({ numPages: object.numPages });\n\t\t\t\t\t\t// Sometimes after the PDF is loaded the page is centered, scroll back to the top\n\t\t\t\t\t\twindow.scrollTo({ top: 0 });\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Pages numPages={this.state.numPages} />\n\t\t\t\t</Document>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default PdfViewer;\n","export enum VarselType {\n\tVEDTAK_SENT_SUKSESS = 'VEDTAK_SENT_SUKSESS',\n\tTATT_OVER_SOM_VEILEDER = 'TATT_OVER_SOM_VEILEDER',\n\tTATT_OVER_SOM_BESLUTTER = 'TATT_OVER_SOM_BESLUTTER',\n\tUTKAST_OPPDATERT = 'UTKAST_OPPDATERT',\n\tBESLUTTERPROSESS_TIL_VEILEDER = 'BESLUTTERPROSESS_TIL_VEILEDER',\n\tBESLUTTERPROSESS_TIL_BESLUTTER = 'BESLUTTERPROSESS_TIL_BESLUTTER',\n\tBESLUTTERPROSESS_GODKJENT = 'BESLUTTERPROSESS_GODKJENT'\n}\n","import { useState } from 'react';\nimport constate from 'constate';\nimport { VarselType } from '../component/varsel/varsel-type';\n\nexport const [VarselStoreProvider, useVarselStore] = constate(() => {\n\tconst [varselType, setVarselType] = useState<VarselType | null>(null);\n\n\tconst showVarsel = (type: VarselType) => {\n\t\tsetVarselType(type);\n\t};\n\n\tconst hideVarsel = () => {\n\t\tsetVarselType(null);\n\t};\n\n\treturn { varselType, showVarsel, hideVarsel };\n});\n","import { AxiosPromise } from 'axios';\nimport { axiosInstance } from '../utils';\nimport { Oyblikksbilde } from '../../util/type/oyblikksbilde';\nimport { Vedtak, VEILARBVEDTAKSSTOTTE_API } from './index';\n\nexport interface ArenaVedtak {\n\tjournalpostId: string;\n\tdokumentInfoId: string;\n\tdato: string;\n}\n\nexport function hentFattedeVedtak(fnr: string): AxiosPromise<Vedtak[]> {\n\treturn axiosInstance.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/fattet?fnr=${fnr}`);\n}\n\nexport function hentArenaVedtak(fnr: string): AxiosPromise<ArenaVedtak[]> {\n\treturn axiosInstance.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/arena?fnr=${fnr}`);\n}\n\nexport function hentOyblikksbilde(vedtakId: number): AxiosPromise<Oyblikksbilde[]> {\n\treturn axiosInstance.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/${vedtakId}/oyeblikksbilde`);\n}\n\nexport function lagHentVedtakPdfUrl(vedtakId: number): string {\n\treturn `${VEILARBVEDTAKSSTOTTE_API}/vedtak/${vedtakId}/pdf`;\n}\n\nexport function lagHentArenaVedtakPdfUrl(dokumentInfoId: string, journalpostId: string): string {\n\treturn `${VEILARBVEDTAKSSTOTTE_API}/vedtak/arena/pdf?dokumentInfoId=${dokumentInfoId}&journalpostId=${journalpostId}`;\n}\n\nexport function lagHentForhandsvisningUrl(vedtakId: number): string {\n\treturn `${VEILARBVEDTAKSSTOTTE_API}/utkast/${vedtakId}/pdf`;\n}\n","import React, { useEffect, useState } from 'react';\nimport { Hovedknapp } from 'nav-frontend-knapper';\nimport PdfViewer, { PDFStatus } from '../../component/pdf-viewer/pdf-viewer';\nimport Footer from '../../component/footer/footer';\nimport { trengerKvalitetssikrer } from '../../util/skjema-utils';\nimport { useAppStore } from '../../store/app-store';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport { ModalType, useModalStore } from '../../store/modal-store';\nimport { useSkjemaStore } from '../../store/skjema-store';\nimport { erGodkjentAvBeslutter } from '../../util';\nimport Show from '../../component/show';\nimport { useTilgangStore } from '../../store/tilgang-store';\nimport { useDataStore } from '../../store/data-store';\nimport './forhandsvisning.less';\nimport { useVarselStore } from '../../store/varsel-store';\nimport { VarselType } from '../../component/varsel/varsel-type';\nimport { logMetrikk } from '../../util/logger';\nimport { Utkast } from '../../api/veilarbvedtaksstotte';\nimport { STOPPE_VEDTAKSUTSENDING_TOGGLE } from '../../api/veilarbpersonflatefs';\nimport { hentFattedeVedtak, lagHentForhandsvisningUrl } from '../../api/veilarbvedtaksstotte/vedtak';\nimport { fattVedtak } from '../../api/veilarbvedtaksstotte/utkast';\nimport { Tilbakeknapp } from 'nav-frontend-ikonknapper';\nimport AlertStripe from 'nav-frontend-alertstriper';\n\nexport function Forhandsvisning() {\n\tconst { fnr } = useAppStore();\n\tconst { changeView } = useViewStore();\n\tconst { utkast, setUtkast, features, setFattedeVedtak, oppfolgingData } = useDataStore();\n\tconst { showModal, hideModal } = useModalStore();\n\tconst { showVarsel } = useVarselStore();\n\tconst { innsatsgruppe, resetSkjema } = useSkjemaStore();\n\tconst { kanEndreUtkast } = useTilgangStore();\n\tconst [pdfStatus, setPdfStatus] = useState<PDFStatus>(PDFStatus.NOT_STARTED);\n\tconst { id: utkastId, beslutterProsessStatus } = utkast as Utkast;\n\n\tconst stoppeUtsendingFeatureToggle = features[STOPPE_VEDTAKSUTSENDING_TOGGLE];\n\tconst url = lagHentForhandsvisningUrl(utkastId);\n\n\tconst erUtkastKlartTilUtsending = trengerKvalitetssikrer(innsatsgruppe)\n\t\t? erGodkjentAvBeslutter(beslutterProsessStatus)\n\t\t: true;\n\n\tconst visSendKnapp = kanEndreUtkast && erUtkastKlartTilUtsending && !oppfolgingData.inaktivIArena;\n\n\tconst visKvalitetssikringInfo =\n\t\t!visSendKnapp &&\n\t\ttrengerKvalitetssikrer(innsatsgruppe) &&\n\t\t!erGodkjentAvBeslutter(utkast?.beslutterProsessStatus);\n\n\tconst tilbakeTilSkjema = () => {\n\t\tchangeView(ViewType.UTKAST);\n\t\tlogMetrikk('tilbake-fra-forhandsvisning');\n\t};\n\n\tuseEffect(() => {\n\t\tif (pdfStatus === PDFStatus.ERROR) {\n\t\t\tshowModal(ModalType.FEIL_VED_FORHANDSVISNING);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [pdfStatus]);\n\n\tconst sendVedtak = () => {\n\t\tshowModal(ModalType.LASTER);\n\n\t\tfattVedtak(utkastId)\n\t\t\t.catch(err => {\n\t\t\t\tshowModal(ModalType.FEIL_VED_SENDING);\n\t\t\t\tlogMetrikk('feil-ved-sending', err);\n\t\t\t\tthrow err;\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn (\n\t\t\t\t\thentFattedeVedtak(fnr)\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\t\t\tsetFattedeVedtak(response.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// Feiler ikke selv om fattede vedtak ikke oppdateres\n\t\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\t\tresetSkjema();\n\t\t\t\t\t\t\thideModal();\n\t\t\t\t\t\t\tchangeView(ViewType.HOVEDSIDE);\n\t\t\t\t\t\t\tshowVarsel(VarselType.VEDTAK_SENT_SUKSESS);\n\t\t\t\t\t\t\tsetUtkast(null);\n\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t};\n\n\tconst handleOnSendClicked = () => {\n\t\tif (stoppeUtsendingFeatureToggle) {\n\t\t\tshowModal(ModalType.FEIL_UTSENDING_STOPPET);\n\t\t\treturn;\n\t\t}\n\n\t\tshowModal(ModalType.BEKREFT_SEND_VEDTAK, { onSendVedtakBekreftet: sendVedtak });\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<PdfViewer url={url} title=\"Forhåndsvisning av vedtaksbrevet\" onStatusUpdate={setPdfStatus} />\n\t\t\t<Footer className=\"forhandsvisning__footer\">\n\t\t\t\t<div className=\"forhandsvisning__aksjoner\">\n\t\t\t\t\t<Tilbakeknapp htmlType=\"button\" onClick={tilbakeTilSkjema} />\n\n\t\t\t\t\t<Show if={visSendKnapp}>\n\t\t\t\t\t\t<Hovedknapp\n\t\t\t\t\t\t\tdisabled={pdfStatus !== PDFStatus.SUCCESS}\n\t\t\t\t\t\t\tmini={true}\n\t\t\t\t\t\t\tonClick={handleOnSendClicked}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend til bruker\n\t\t\t\t\t\t</Hovedknapp>\n\t\t\t\t\t</Show>\n\t\t\t\t\t<Show if={visKvalitetssikringInfo}>\n\t\t\t\t\t\t<AlertStripe className=\"forhandsvisning__utsending-varsel\" type=\"info\" form=\"inline\">\n\t\t\t\t\t\t\t<span aria-live=\"polite\">Kvalitetssikring må gjennomføres før brev kan sendes</span>\n\t\t\t\t\t\t</AlertStripe>\n\t\t\t\t\t</Show>\n\t\t\t\t\t<Show if={oppfolgingData.inaktivIArena}>\n\t\t\t\t\t\t<AlertStripe className=\"forhandsvisning__utsending-varsel\" type=\"info\" form=\"inline\">\n\t\t\t\t\t\t\t<span aria-live=\"polite\">Kan ikke fatte vedtak fordi brukeren er inaktiv i Arena</span>\n\t\t\t\t\t\t</AlertStripe>\n\t\t\t\t\t</Show>\n\t\t\t\t</div>\n\t\t\t</Footer>\n\t\t</>\n\t);\n}\n","import React from 'react';\nimport './json-viewer.less';\n\ninterface JsonViewerProps {\n\tjson: string | object | null;\n\tclassName?: string;\n}\n\nexport default function JsonViewer(props: JsonViewerProps) {\n\tconst obj = props.json ? (typeof props.json === 'string' ? JSON.parse(props.json) : props.json) : null;\n\n\treturn <div className={props.className}>{objToReact(obj)}</div>;\n}\n\nfunction objToReact(obj: {} | null) {\n\tif (obj == null || typeof obj !== 'object') {\n\t\treturn <p>Ingen data</p>;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{Object.entries(obj).map(([key, value], idx) => {\n\t\t\t\tif (isType(value, 'string', 'boolean', 'number')) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={idx} className=\"json-key-wrapper\">\n\t\t\t\t\t\t\t<span className=\"json-key\">{prettifyKey(key)}: </span>\n\t\t\t\t\t\t\t<span>{scalarToString(value as any)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={idx} className=\"json-array-wrapper\">\n\t\t\t\t\t\t\t<JsonKey keyText={key} />\n\t\t\t\t\t\t\t{value.length > 0 ? (\n\t\t\t\t\t\t\t\t<ul className=\"json-array\">\n\t\t\t\t\t\t\t\t\t{value.map((arrVal, index) => (\n\t\t\t\t\t\t\t\t\t\t<li key={index}>{objToReact(arrVal)}</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<p className=\"json-array-empty\">Ingen oppføringer</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else if (isType(value, 'object')) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={key}>\n\t\t\t\t\t\t\t<JsonKey keyText={key} />\n\t\t\t\t\t\t\t<div className=\"json-obj\">{objToReact(value as object)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t})}\n\t\t</>\n\t);\n}\n\nfunction JsonKey({ keyText }: { keyText: string }) {\n\treturn <h3 className=\"json-key\">{prettifyKey(keyText)}</h3>;\n}\n\nfunction isType(val: any, ...types: string[]): boolean {\n\tconst type = typeof val;\n\treturn types.findIndex(t => t === type) >= 0;\n}\n\nfunction scalarToString(scalar: number | boolean | string) {\n\tif (isType(scalar, 'boolean')) {\n\t\treturn scalar ? 'Ja' : 'Nei';\n\t}\n\n\treturn scalar.toString();\n}\n\nfunction prettifyKey(key: string): string {\n\tlet str = key.replace(/([A-Z])/g, ' $1').toLowerCase();\n\n\tif (str.charAt(0) === str.charAt(0).toLowerCase()) {\n\t\tstr = str.charAt(0).toUpperCase() + str.substr(1);\n\t}\n\n\treturn str;\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport './card.less';\n\ninterface CardProps {\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nconst Card: React.FunctionComponent<CardProps> = (props: CardProps) => {\n\treturn <section className={cls('card', props.className)}>{props.children}</section>;\n};\n\nexport default Card;\n","import React from 'react';\nimport NavFrontendSpinner from 'nav-frontend-spinner';\nimport './spinner.less';\n\nfunction Spinner() {\n\treturn (\n\t\t<div className=\"vedtaksstotte-spinner\">\n\t\t\t<NavFrontendSpinner type=\"XL\" />\n\t\t</div>\n\t);\n}\n\nexport default Spinner;\n","import dayjs from 'dayjs';\n\nexport function fiksRegistreringsinfoJson(json: string | null): object | null {\n\tif (json == null) {\n\t\treturn null;\n\t}\n\n\tconst regInfo = JSON.parse(json);\n\n\tdelete regInfo.type;\n\n\tconst sisteStilling = regInfo.registrering && regInfo.registrering.sisteStilling;\n\n\tif (sisteStilling && sisteStilling.label) {\n\t\tregInfo.registrering.sisteStilling = {\n\t\t\tstilling: sisteStilling.label\n\t\t};\n\t}\n\n\tremoveNullValues(regInfo);\n\tformatDates(regInfo);\n\ttranslateKeysToNorwegian(regInfo);\n\tsorterSporsmalOgSvar(regInfo);\n\n\treturn regInfo;\n}\n\nexport function fiksCvOgJobbprofil(json: string | null): object | null {\n\tif (json == null) {\n\t\treturn null;\n\t}\n\n\tconst cvOgJobbprofil = JSON.parse(json);\n\n\tremoveNullValues(cvOgJobbprofil);\n\tformatDates(cvOgJobbprofil);\n\ttranslateKeysToNorwegian(cvOgJobbprofil);\n\n\treturn cvOgJobbprofil;\n}\n\nexport function fiksEgenvurderingJson(json: string | null): object | null {\n\tif (json == null) {\n\t\treturn null;\n\t}\n\n\tconst egenvurdering = JSON.parse(json);\n\n\tremoveNullValues(egenvurdering);\n\tcleanEgenvurderingSporsmal(egenvurdering);\n\tformatDates(egenvurdering);\n\ttranslateKeysToNorwegian(egenvurdering);\n\tsorterSporsmalOgSvar(egenvurdering);\n\n\treturn egenvurdering;\n}\n\nfunction sorterSporsmalOgSvar(obj: any): void {\n\tdeepForEach(obj, (parent, key, value) => {\n\t\tif (typeof value === 'object' && value.svar != null && value.spørsmål != null) {\n\t\t\t// Dette fjerner også alle verdier bortsett fra 'spørsmål' og 'svar'\n\t\t\tparent[key] = { spørsmål: value.spørsmål, svar: value.svar };\n\t\t}\n\t});\n}\n\nfunction formatDates(obj: any): void {\n\tconst yearMonthDayRegex = new RegExp('^\\\\d{4}-\\\\d{2}-\\\\d{2}$');\n\tconst yearMonthRegex = new RegExp('^\\\\d{4}-\\\\d{2}$');\n\n\t// regex for uønskede konverteringer som dayjs anser som gyldige datoer\n\tconst invalidDatesRegex = new RegExp('^\\\\d{4}$');\n\n\tdeepForEach(obj, (parent, key, value) => {\n\t\tif (typeof value === 'string') {\n\t\t\tif (value.match(yearMonthDayRegex)) {\n\t\t\t\tparent[key] = dayjs(value).format('DD. MMMM YYYY');\n\t\t\t} else if (value.match(yearMonthRegex)) {\n\t\t\t\tparent[key] = dayjs(value).format('MMMM YYYY');\n\t\t\t} else if (!value.match(invalidDatesRegex) && dayjs(value).isValid()) {\n\t\t\t\tparent[key] = dayjs(value).format('DD. MMM YYYY kl. HH:mm');\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction cleanEgenvurderingSporsmal(obj: any) {\n\tdeepForEach(obj, (parent, key) => {\n\t\tif (key === 'spmId' || key === 'besvarelseId' || key === 'dato') {\n\t\t\tdelete parent[key];\n\t\t} else if (key === 'spm') {\n\t\t\tparent.sporsmal = parent[key];\n\t\t\tdelete parent[key];\n\t\t}\n\t});\n}\n\nfunction translateKeysToNorwegian(obj: any) {\n\tconst dictionary = {\n\t\tforerkort: 'førerkort',\n\t\tsprak: 'språk',\n\t\tonsket: 'ønsket',\n\t\tsporsmal: 'spørsmål',\n\t\tManeder: 'Måneder',\n\t\tutloper: 'utløper'\n\t};\n\n\tdeepForEach(obj, (parent, key, value) => {\n\t\tObject.keys(dictionary).forEach(dictKey => {\n\t\t\t// @ts-ignore\n\t\t\tconst dictValue = dictionary[dictKey];\n\n\t\t\tif (key.includes(dictKey)) {\n\t\t\t\tconst newKey = key.replace(dictKey, dictValue);\n\n\t\t\t\ttranslateKeysToNorwegian(value);\n\n\t\t\t\tparent[newKey] = value;\n\t\t\t\tdelete parent[key];\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction removeNullValues(obj: any) {\n\tdeepForEach(obj, (parent, key, value) => {\n\t\tif (value == null) {\n\t\t\tdelete parent[key];\n\t\t}\n\t});\n}\n\nfunction deepForEach(data: any, fn: (parent: any, key: any, value: any) => void): void {\n\tif (typeof data !== 'object' || data == null) {\n\t\treturn data;\n\t}\n\n\tObject.keys(data).forEach(key => {\n\t\tfn(data, key, data[key]);\n\n\t\tif (typeof data[key] === 'object') {\n\t\t\tdeepForEach(data[key], fn);\n\t\t}\n\t});\n}\n","import { AxiosError, AxiosPromise } from 'axios';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\ntype ActionFunction0<R> = () => R;\ntype ActionFunction1<T1, R> = (t1: T1) => R;\ntype ActionFunction2<T1, T2, R> = (t1: T1, t2: T2) => R;\ntype ActionFunction3<T1, T2, T3, R> = (t1: T1, t2: T2, t3: T3) => R;\ntype ActionFunction4<T1, T2, T3, T4, R> = (t1: T1, t2: T2, t3: T3, t4: T4) => R;\n\ninterface FetchState<D> {\n\tloading: boolean;\n\tdata?: D;\n\terror?: AxiosError;\n}\n\ninterface UseAxiosFetcher<D = any, F = () => AxiosPromise<D>> extends FetchState<D> {\n\tfetch: F;\n}\n\nexport function useAxiosFetcher<R>(\n\tfetcher: () => AxiosPromise<R>\n): UseAxiosFetcher<R, ActionFunction0<AxiosPromise<R>>>;\nexport function useAxiosFetcher<T1, R>(\n\tfetcher: (t1: T1) => AxiosPromise<R>\n): UseAxiosFetcher<R, ActionFunction1<T1, AxiosPromise<R>>>;\nexport function useAxiosFetcher<T1, T2, R>(\n\tfetcher: (t1: T1, t2: T2) => AxiosPromise<R>\n): UseAxiosFetcher<R, ActionFunction2<T1, T2, AxiosPromise<R>>>;\nexport function useAxiosFetcher<T1, T2, T3, R>(\n\tfetcher: (t1: T1, t2: T2, t3: T3) => AxiosPromise<R>\n): UseAxiosFetcher<R, ActionFunction3<T1, T2, T3, AxiosPromise<R>>>;\nexport function useAxiosFetcher<T1, T2, T3, T4, R>(\n\tfetcher: (t1: T1, t2: T2, t3: T3, t4: T4) => AxiosPromise<R>\n): UseAxiosFetcher<R, ActionFunction4<T1, T2, T3, T4, AxiosPromise<R>>>;\n\nexport function useAxiosFetcher<R>(fetcher: (...args: any[]) => AxiosPromise<R>): UseAxiosFetcher<R> {\n\tconst [fetchState, setFetchState] = useState<FetchState<R>>({ loading: false });\n\tconst isMounted = useRef<boolean>(true);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst axiosFetch = useCallback(\n\t\t(...args: any[]): AxiosPromise<R> => {\n\t\t\tsetFetchState({ loading: true });\n\t\t\treturn fetcher(...args)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (isMounted.current) {\n\t\t\t\t\t\tsetFetchState({ loading: false, data: res.data, error: undefined });\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tif (isMounted.current) {\n\t\t\t\t\t\tsetFetchState({ loading: false, data: undefined, error: err });\n\t\t\t\t\t}\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\t\t},\n\t\t[fetcher]\n\t);\n\n\treturn useMemo(() => ({ ...fetchState, fetch: axiosFetch }), [fetchState, axiosFetch]);\n}\n","import React, { useEffect } from 'react';\nimport { AlertStripeFeil } from 'nav-frontend-alertstriper';\nimport JsonViewer from '../../component/json-viewer/json-viewer';\nimport { Oyblikksbilde } from '../../util/type/oyblikksbilde';\nimport Card from '../../component/card/card';\nimport { OrNothing } from '../../util/type/ornothing';\nimport { Innholdstittel, Systemtittel } from 'nav-frontend-typografi';\nimport Page from '../../component/page/page';\nimport OyblikksbildeType from '../../util/type/oyblikksbilde-type';\nimport Footer from '../../component/footer/footer';\nimport { Hovedknapp } from 'nav-frontend-knapper';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport Spinner from '../../component/spinner/spinner';\nimport './oyblikksbilde-visning.less';\nimport { fiksCvOgJobbprofil, fiksEgenvurderingJson, fiksRegistreringsinfoJson } from './oyblikksbilde-fikser';\nimport { logMetrikk } from '../../util/logger';\nimport { useAxiosFetcher } from '../../util/use-axios-fetcher';\nimport { hentOyblikksbilde } from '../../api/veilarbvedtaksstotte/vedtak';\n\nfunction finnOyblikksbilde(\n\toyblikksbildeType: OyblikksbildeType,\n\toyblikksbilder: OrNothing<Oyblikksbilde[]>\n): string | null {\n\tconst oyblikksbilde = oyblikksbilder ? oyblikksbilder.find(o => o.oyeblikksbildeType === oyblikksbildeType) : null;\n\treturn oyblikksbilde ? oyblikksbilde.json : null;\n}\n\nexport function OyblikksbildeVisning(props: { vedtakId: number }) {\n\tconst oyeblikksbildeFetcher = useAxiosFetcher(hentOyblikksbilde);\n\n\tuseEffect(() => {\n\t\toyeblikksbildeFetcher.fetch(props.vedtakId);\n\n\t\tlogMetrikk('vis-oyblikksbilde');\n\t\t// eslint-disable-next-line\n\t}, [props.vedtakId]);\n\n\tif (oyeblikksbildeFetcher.loading) {\n\t\treturn <Spinner />;\n\t} else if (oyeblikksbildeFetcher.error) {\n\t\treturn <AlertStripeFeil className=\"vedtaksstotte-alert\">Noe gikk galt, prøv igjen</AlertStripeFeil>;\n\t}\n\n\treturn <Oyeblikksbilde vedtakId={props.vedtakId} oyeblikksbilde={oyeblikksbildeFetcher.data} />;\n}\n\nfunction Oyeblikksbilde(props: { vedtakId: number; oyeblikksbilde: OrNothing<Oyblikksbilde[]> }) {\n\tconst { changeView } = useViewStore();\n\n\tconst cvOgJobbprofileJson = fiksCvOgJobbprofil(\n\t\tfinnOyblikksbilde(OyblikksbildeType.CV_OG_JOBBPROFIL, props.oyeblikksbilde)\n\t);\n\n\tconst registreringsinfoJson = fiksRegistreringsinfoJson(\n\t\tfinnOyblikksbilde(OyblikksbildeType.REGISTRERINGSINFO, props.oyeblikksbilde)\n\t);\n\n\tconst egenvurderingJson = fiksEgenvurderingJson(\n\t\tfinnOyblikksbilde(OyblikksbildeType.EGENVURDERING, props.oyeblikksbilde)\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<Page className=\"oyblikksbilde-visning page--grey\">\n\t\t\t\t<section className=\"vedlegg\">\n\t\t\t\t\t<Innholdstittel className=\"vedlegg__tittel\">Brukerinformasjon på vedtakstidspunktet</Innholdstittel>\n\t\t\t\t\t<VedleggCard tittel=\"CV og Jobbprofil\" json={cvOgJobbprofileJson} />\n\t\t\t\t\t<VedleggCard tittel=\"Registrering\" json={registreringsinfoJson} />\n\t\t\t\t\t<VedleggCard tittel=\"Egenvurdering\" json={egenvurderingJson} />\n\t\t\t\t</section>\n\t\t\t</Page>\n\t\t\t<Footer className=\"oyblikksbilde-visning__footer\">\n\t\t\t\t<div className=\"oyblikksbilde-visning__aksjoner\">\n\t\t\t\t\t<Hovedknapp mini={true} onClick={() => changeView(ViewType.VEDTAK, { vedtakId: props.vedtakId })}>\n\t\t\t\t\t\tTilbake til vedtak\n\t\t\t\t\t</Hovedknapp>\n\t\t\t\t</div>\n\t\t\t</Footer>\n\t\t</>\n\t);\n}\n\nfunction VedleggCard({ tittel, json }: { tittel: string; json: string | object | null }) {\n\treturn (\n\t\t<Card className=\"vedlegg-card\">\n\t\t\t<Systemtittel tag=\"h2\" className=\"vedlegg-card__header\">\n\t\t\t\t{tittel}\n\t\t\t</Systemtittel>\n\t\t\t<JsonViewer json={json} className=\"oyblikksbilde-visning__json-visning\" />\n\t\t</Card>\n\t);\n}\n","var _style, _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    x: 0,\n    y: 0,\n    viewBox: \"0 0 22 24\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", null, \".st0{fill:#0067c5}\")), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M15.9 4c-.5-2.3-2.5-4-4.9-4S6.6 1.7 6.1 4H0v2h2v14c0 2.2 1.8 4 4 4h10c2.2 0 4-1.8 4-4V6h2V4h-6.1zm-7.7-.2C8.7 2.7 9.8 2 11 2h.4c1.1.2 2 .8 2.4 1.8l.1.2H8.2v-.2zM18 20c-.1 1.2-.9 2-2 2H5.9c-1.1-.1-1.9-.9-1.9-2V6h14v14z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M7 9h2v10H7zM13 9h2v10h-2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDelete);\nexport default __webpack_public_path__ + \"static/media/delete.0a6896a8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from 'react';\nimport PdfViewer, { PDFStatus } from '../../component/pdf-viewer/pdf-viewer';\nimport Footer from '../../component/footer/footer';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport { ModalType, useModalStore } from '../../store/modal-store';\nimport './vedtaksbrev-visning.less';\nimport { logMetrikk } from '../../util/logger';\nimport { lagHentArenaVedtakPdfUrl, lagHentVedtakPdfUrl } from '../../api/veilarbvedtaksstotte/vedtak';\nimport { Tilbakeknapp } from 'nav-frontend-ikonknapper';\n\ninterface VedtaksbrevVisningProps {\n\tvedtakId: number;\n}\n\nexport function VedtaksbrevVisning(props: VedtaksbrevVisningProps) {\n\tconst { changeView } = useViewStore();\n\n\tconst vedtaksbrevUrl = lagHentVedtakPdfUrl(props.vedtakId);\n\n\treturn (\n\t\t<GenericVedtaksbrevVisning\n\t\t\tvedtaksbrevUrl={vedtaksbrevUrl}\n\t\t\ttilbakeTekst=\"Tilbake  til vedtak\"\n\t\t\thandleOnTilbakeClicked={() => changeView(ViewType.VEDTAK, { vedtakId: props.vedtakId })}\n\t\t/>\n\t);\n}\n\ninterface ArenaVedtaksbrevVisningProps {\n\tdokumentInfoId: string;\n\tjournalpostId: string;\n}\n\nexport function ArenaVedtaksbrevVisning(props: ArenaVedtaksbrevVisningProps) {\n\tconst { changeView } = useViewStore();\n\n\tconst vedtaksbrevUrl = lagHentArenaVedtakPdfUrl(props.dokumentInfoId, props.journalpostId);\n\n\treturn (\n\t\t<GenericVedtaksbrevVisning\n\t\t\tvedtaksbrevUrl={vedtaksbrevUrl}\n\t\t\ttilbakeTekst=\"Tilbake til hovedside\"\n\t\t\thandleOnTilbakeClicked={() => changeView(ViewType.HOVEDSIDE)}\n\t\t/>\n\t);\n}\n\ninterface GenericVedtaksbrevVisningProps {\n\tvedtaksbrevUrl: string;\n\ttilbakeTekst: string;\n\thandleOnTilbakeClicked: () => void;\n}\n\nfunction GenericVedtaksbrevVisning(props: GenericVedtaksbrevVisningProps) {\n\tconst { showModal } = useModalStore();\n\tconst [pdfStatus, setPdfStatus] = useState<PDFStatus>(PDFStatus.NOT_STARTED);\n\n\tuseEffect(() => logMetrikk('vis-vedtaksbrev'), []);\n\n\tuseEffect(() => {\n\t\tif (pdfStatus === PDFStatus.ERROR) {\n\t\t\tshowModal(ModalType.FEIL_VED_VISNING);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [pdfStatus]);\n\n\treturn (\n\t\t<>\n\t\t\t<PdfViewer url={props.vedtaksbrevUrl} title=\"Visning av vedtaksbrev\" onStatusUpdate={setPdfStatus} />\n\t\t\t<Footer>\n\t\t\t\t<div className=\"vedtaksbrev-visning__aksjoner\">\n\t\t\t\t\t<Tilbakeknapp htmlType=\"button\" onClick={props.handleOnTilbakeClicked} />\n\t\t\t\t</div>\n\t\t\t</Footer>\n\t\t</>\n\t);\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTaover(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.518 10.889a.4.4 0 01.565 0l2 2a.4.4 0 01.001.565l-5.2 5.2a.38.38 0 01-.157.092l-.016.01-2.8.8a.404.404 0 01-.393-.102.4.4 0 01-.102-.392l.8-2.8c.002-.006.007-.01.009-.015a.377.377 0 01.093-.158zm-4.72 6.246l-.416 1.455 1.455-.416-1.04-1.039zm3.402-3.797l-3.034 3.034 1.434 1.434 3.034-3.034-1.434-1.434zM8.24.428c1.218 0 2.735.38 3.002 1.447.214.863-.11 1.703-.324 2.202.296.205.481.593.481 1.066 0 .293-.076.572-.213.786a.967.967 0 01-.397.357c-.094 1.399-.803 2.059-1.19 2.317v1.485c.5.185 1.265.509 2.01.825.716.304 1.393.59 1.661.679l-.25.76c-.3-.1-.96-.378-1.723-.702-.843-.358-1.801-.764-2.219-.897a.4.4 0 01-.278-.381v-2c0-.162.098-.308.248-.37.034-.015.952-.441.952-2.03 0-.22.18-.4.4-.4.137 0 .2-.255.2-.428s-.063-.429-.2-.429a.4.4 0 01-.4-.4c0-.13.05-.246.142-.458.17-.395.488-1.129.324-1.789-.119-.478-1.075-.84-2.225-.84-1.15 0-2.107.362-2.225.84a.398.398 0 01-.467.296c-.16-.031-.44-.068-.548.049-.249.267.024 1.238.114 1.557.056.203.085.304.085.402a.402.402 0 01-.246.37c-.073.19-.073.67 0 .861a.4.4 0 01.246.369c0 1.589.918 2.014.957 2.033a.406.406 0 01.243.367v2c0 .16-.096.306-.245.368-.623.263-1.319.498-1.992.724-1.23.415-2.762.931-2.929 1.434-.259.777-.37 2.05-.412 2.702H8.8v.8H.4a.393.393 0 01-.287-.123.396.396 0 01-.113-.292c.003-.088.082-2.156.475-3.34.292-.881 1.748-1.371 3.433-1.94.57-.19 1.158-.389 1.692-.602v-1.5c-.394-.263-1.12-.941-1.194-2.392-.196-.193-.306-.553-.306-1.039 0-.252.034-.492.095-.677a.952.952 0 01.154-.294l-.004-.015-.033-.118c-.172-.621-.417-1.64.1-2.2.228-.245.555-.357.963-.332C5.846.727 7.158.429 8.238.429zm8.56 11.31l-1.034 1.034 1.434 1.434 1.034-1.034-1.434-1.434z\",\n    fill: \"#0067C5\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTaover);\nexport default __webpack_public_path__ + \"static/media/taover.b7d17c45.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { Flatknapp, Knapp } from 'nav-frontend-knapper';\nimport { Tilbakeknapp } from 'nav-frontend-ikonknapper';\nimport { ReactComponent as SlettIkon } from './delete.svg';\nimport NavFrontendSpinner from 'nav-frontend-spinner';\nimport { ReactComponent as TaOverIkon } from './taover.svg';\nimport { useTilgangStore } from '../../../store/tilgang-store';\nimport { harFeil, hentMalformFraData, scrollTilForsteFeil, SkjemaData } from '../../../util/skjema-utils';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport { useViewStore, ViewType } from '../../../store/view-store';\nimport { useDataStore } from '../../../store/data-store';\nimport { ModalType, useModalStore } from '../../../store/modal-store';\nimport { Utkast } from '../../../api/veilarbvedtaksstotte';\nimport { erKlarTilVeileder, finnGjeldendeVedtak } from '../../../util';\nimport { oppdaterVedtakUtkast } from '../../../api/veilarbvedtaksstotte/utkast';\nimport Show from '../../../component/show';\n\ninterface UtkastAksjonerProps {\n\tvedtakskjema: SkjemaData;\n}\n\nfunction UtkastInnhold(props: UtkastAksjonerProps) {\n\tconst { erAnsvarligVeileder } = useTilgangStore();\n\tconst { malform, fattedeVedtak, utkast } = useDataStore();\n\tconst { changeView } = useViewStore();\n\tconst { showModal } = useModalStore();\n\tconst { validerSkjema, setHarForsoktAForhandsvise } = useSkjemaStore();\n\tconst { id: utkastId, beslutterProsessStatus } = utkast as Utkast;\n\n\tconst [laster, setLaster] = useState(false);\n\n\tconst gjeldendeVedtak = finnGjeldendeVedtak(fattedeVedtak);\n\n\tconst visKlarTilBeslutter = erKlarTilVeileder(beslutterProsessStatus);\n\tconst erForhandsvisHovedknapp = !visKlarTilBeslutter;\n\n\tfunction sendDataTilBackend() {\n\t\t// Vi oppdaterer ikke lagringStatus her fordi det blir rart at dette trigges på en \"urelatert\" handling\n\t\treturn oppdaterVedtakUtkast(utkastId, hentMalformFraData(malform), props.vedtakskjema).catch(() => {\n\t\t\tsetLaster(false);\n\t\t\tshowModal(ModalType.FEIL_VED_LAGRING);\n\t\t});\n\t}\n\n\tfunction handleOnForhandsvisClicked() {\n\t\tconst skjemaFeil = validerSkjema(gjeldendeVedtak);\n\n\t\tif (harFeil(skjemaFeil)) {\n\t\t\tscrollTilForsteFeil(skjemaFeil);\n\t\t\tsetHarForsoktAForhandsvise(true);\n\t\t\treturn;\n\t\t}\n\n\t\tif (erAnsvarligVeileder) {\n\t\t\tsetLaster(true);\n\t\t\tsendDataTilBackend()\n\t\t\t\t.then(() => changeView(ViewType.FORHANDSVISNING))\n\t\t\t\t.catch();\n\t\t} else {\n\t\t\tchangeView(ViewType.FORHANDSVISNING);\n\t\t}\n\t}\n\n\tfunction handleOnTilbakeClicked() {\n\t\tif (erAnsvarligVeileder) {\n\t\t\tsetLaster(true);\n\t\t\tsendDataTilBackend()\n\t\t\t\t.then(() => changeView(ViewType.HOVEDSIDE))\n\t\t\t\t.catch();\n\t\t} else {\n\t\t\tchangeView(ViewType.HOVEDSIDE);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"utkast-footer__utkast-innhold\">\n\t\t\t<Tilbakeknapp htmlType=\"button\" onClick={handleOnTilbakeClicked} disabled={laster} />\n\n\t\t\t<div className=\"utkast-footer--innhold-sidestilt\">\n\t\t\t\t<Show if={laster}>\n\t\t\t\t\t<NavFrontendSpinner className=\"utkast-footer__spinner\" type=\"XS\" />\n\t\t\t\t</Show>\n\n\t\t\t\t<Show if={erAnsvarligVeileder}>\n\t\t\t\t\t<Flatknapp\n\t\t\t\t\t\tmini={true}\n\t\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\t\tonClick={() => showModal(ModalType.BEKREFT_SLETT_UTKAST)}\n\t\t\t\t\t\tdisabled={laster}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SlettIkon className=\"utkast_footer__knapp-ikon\" focusable={false} />\n\t\t\t\t\t\tSlett\n\t\t\t\t\t</Flatknapp>\n\t\t\t\t</Show>\n\n\t\t\t\t<Show if={!erAnsvarligVeileder}>\n\t\t\t\t\t<Flatknapp\n\t\t\t\t\t\tmini={true}\n\t\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\t\tonClick={() => showModal(ModalType.BEKREFT_TA_OVER_UTKAST)}\n\t\t\t\t\t\tdisabled={laster}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TaOverIkon className=\"utkast_footer__knapp-ikon\" focusable={false} />\n\t\t\t\t\t\tTa over\n\t\t\t\t\t</Flatknapp>\n\t\t\t\t</Show>\n\n\t\t\t\t<Knapp\n\t\t\t\t\tclassName=\"utkast-footer__forhandsvis-knapp\"\n\t\t\t\t\ttype={erForhandsvisHovedknapp ? 'hoved' : 'standard'}\n\t\t\t\t\tdisabled={laster}\n\t\t\t\t\tmini={true}\n\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\tonClick={handleOnForhandsvisClicked}\n\t\t\t\t>\n\t\t\t\t\tForhåndsvis\n\t\t\t\t</Knapp>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default UtkastInnhold;\n","import React from 'react';\nimport AlertStripe, { AlertStripeType } from 'nav-frontend-alertstriper';\nimport { BeslutterProsessStatus, InnsatsgruppeType, Utkast } from '../../../api/veilarbvedtaksstotte';\nimport { OrNothing } from '../../../util/type/ornothing';\nimport { VeilederTilgang } from '../../../util/tilgang';\nimport { trengerKvalitetssikrer } from '../../../util/skjema-utils';\n\ninterface UtkastStatusMeldingProps {\n\tutkast: Utkast;\n\tskjemaInnsatsgruppe: OrNothing<InnsatsgruppeType>;\n\tveilederTilgang: VeilederTilgang;\n\tminified?: boolean;\n}\n\nfunction utledStatusVerdier(props: UtkastStatusMeldingProps): { type: AlertStripeType; tekst: string } | null {\n\tconst { utkast, skjemaInnsatsgruppe, veilederTilgang } = props;\n\n\tif (!utkast.beslutterProsessStatus && trengerKvalitetssikrer(skjemaInnsatsgruppe)) {\n\t\tconst type = veilederTilgang === VeilederTilgang.ANSVARLIG_VEILEDER ? 'advarsel' : 'info';\n\n\t\treturn { type, tekst: 'Trenger kvalitetssikring' };\n\t}\n\n\tif (utkast.beslutterProsessStatus && !utkast.beslutterIdent) {\n\t\tif (\n\t\t\tveilederTilgang === VeilederTilgang.ANSVARLIG_VEILEDER ||\n\t\t\tveilederTilgang === VeilederTilgang.IKKE_ANSVARLIG_VEILEDER\n\t\t) {\n\t\t\treturn { type: 'info', tekst: 'Venter på tilbakemelding' };\n\t\t}\n\n\t\treturn { type: 'advarsel', tekst: 'Trenger kvalitetssikring' };\n\t}\n\n\tif (utkast.beslutterProsessStatus === BeslutterProsessStatus.KLAR_TIL_BESLUTTER) {\n\t\tif (\n\t\t\tveilederTilgang === VeilederTilgang.ANSVARLIG_VEILEDER ||\n\t\t\tveilederTilgang === VeilederTilgang.IKKE_ANSVARLIG_VEILEDER\n\t\t) {\n\t\t\treturn { type: 'info', tekst: 'Venter på tilbakemelding' };\n\t\t}\n\n\t\treturn { type: 'advarsel', tekst: 'Gi tilbakemelding' };\n\t}\n\n\tif (utkast.beslutterProsessStatus === BeslutterProsessStatus.KLAR_TIL_VEILEDER) {\n\t\tif (\n\t\t\tveilederTilgang === VeilederTilgang.BESLUTTER ||\n\t\t\tveilederTilgang === VeilederTilgang.IKKE_ANSVARLIG_VEILEDER\n\t\t) {\n\t\t\treturn { type: 'info', tekst: 'Venter på veileder' };\n\t\t}\n\n\t\treturn { type: 'advarsel', tekst: 'Vurder tilbakemelding' };\n\t}\n\n\tif (utkast.beslutterProsessStatus === BeslutterProsessStatus.GODKJENT_AV_BESLUTTER) {\n\t\treturn { type: 'suksess', tekst: 'Klar til utsendelse' };\n\t}\n\n\treturn null;\n}\n\nexport function UtkastStatusMelding(props: UtkastStatusMeldingProps) {\n\tconst alertStripeVerdier = utledStatusVerdier(props);\n\n\tif (!alertStripeVerdier) {\n\t\treturn null;\n\t}\n\n\tconst ariaLive = ['advarsel', 'feil'].includes(alertStripeVerdier.type) ? 'assertive' : 'polite';\n\n\tconst ariaLabel = props.minified ? alertStripeVerdier.tekst : undefined;\n\n\treturn (\n\t\t<AlertStripe type={alertStripeVerdier.type} form=\"inline\">\n\t\t\t<span aria-live={ariaLive} aria-label={ariaLabel}>\n\t\t\t\t{props.minified ? '' : alertStripeVerdier.tekst}\n\t\t\t</span>\n\t\t</AlertStripe>\n\t);\n}\n","import { AxiosPromise } from 'axios';\nimport { axiosInstance } from '../utils';\nimport { VEILARBVEDTAKSSTOTTE_API } from './index';\n\nexport function fetchStartBeslutterProsess(vedtakId: number): AxiosPromise {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/start?vedtakId=${vedtakId}`);\n}\n\nexport function avbrytBeslutterProsess(vedtakId: number): AxiosPromise {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/avbryt?vedtakId=${vedtakId}`);\n}\n\nexport function bliBeslutter(vedtakId: number): AxiosPromise {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/bliBeslutter?vedtakId=${vedtakId}`);\n}\n\nexport function godkjennVedtak(vedtakId: number): AxiosPromise {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/godkjenn?vedtakId=${vedtakId}`);\n}\n\nexport function oppdaterBeslutterProsessStatus(vedtakId: number): AxiosPromise {\n\treturn axiosInstance.put(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/status?vedtakId=${vedtakId}`);\n}\n","import constate from 'constate';\nimport { useState } from 'react';\n\nexport const [DialogSectionProvider, useDialogSection] = constate(() => {\n\tconst [sectionHeight, setSectionHeight] = useState<number | undefined>();\n\tconst [showSection, setShowSection] = useState<boolean | null>(null);\n\tconst [harLastetMeldinger, setHarLastetMeldinger] = useState(false);\n\tconst [harNyeMeldinger, setHarNyeMeldinger] = useState(false);\n\n\treturn {\n\t\tsectionHeight,\n\t\tsetSectionHeight,\n\t\tshowSection,\n\t\tsetShowSection,\n\t\tharLastetMeldinger,\n\t\tsetHarLastetMeldinger,\n\t\tharNyeMeldinger,\n\t\tsetHarNyeMeldinger\n\t};\n});\n","import React, { useState } from 'react';\nimport { Flatknapp, Hovedknapp } from 'nav-frontend-knapper';\nimport { UtkastStatusMelding } from './utkast-status-melding';\nimport { hentMalformFraData, SkjemaData, trengerKvalitetssikrer } from '../../../util/skjema-utils';\nimport { useTilgangStore } from '../../../store/tilgang-store';\nimport { useDataStore } from '../../../store/data-store';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport { ModalType, useModalStore } from '../../../store/modal-store';\nimport { BeslutterProsessStatus, Utkast } from '../../../api/veilarbvedtaksstotte';\nimport {\n\terBeslutterProsessStartet,\n\terGodkjentAvBeslutter,\n\terKlarTilBeslutter,\n\terKlarTilVeileder,\n\tisNothing\n} from '../../../util';\nimport { oppdaterVedtakUtkast } from '../../../api/veilarbvedtaksstotte/utkast';\nimport { SystemMeldingType } from '../../../util/type/melding-type';\nimport {\n\tbliBeslutter,\n\tgodkjennVedtak,\n\tfetchStartBeslutterProsess,\n\toppdaterBeslutterProsessStatus\n} from '../../../api/veilarbvedtaksstotte/beslutter';\nimport { VeilederTilgang } from '../../../util/tilgang';\nimport Show from '../../../component/show';\nimport { useDialogSection } from '../../../store/dialog-section-store';\n\ninterface DialogFooterInnholdProps {\n\tvedtakskjema: SkjemaData;\n}\n\nexport function DialogInnhold(props: DialogFooterInnholdProps) {\n\tconst { erBeslutter, erAnsvarligVeileder, erIkkeAnsvarligVeileder, veilederTilgang, setVeilederTilgang } =\n\t\tuseTilgangStore();\n\tconst { malform, utkast, leggTilSystemMelding, innloggetVeileder, setUtkastBeslutter, setBeslutterProsessStatus } =\n\t\tuseDataStore();\n\tconst { showSection } = useDialogSection();\n\tconst { hideModal, showModal } = useModalStore();\n\tconst { innsatsgruppe } = useSkjemaStore();\n\tconst { id: utkastId, beslutterNavn, beslutterProsessStatus } = utkast as Utkast;\n\n\tconst [laster, setLaster] = useState(false);\n\n\tconst visStartBeslutterProsess =\n\t\terAnsvarligVeileder &&\n\t\ttrengerKvalitetssikrer(innsatsgruppe) &&\n\t\tisNothing(beslutterNavn) &&\n\t\t!erBeslutterProsessStartet(beslutterProsessStatus);\n\n\tconst visSendTilBeslutter = erAnsvarligVeileder && erKlarTilVeileder(beslutterProsessStatus);\n\n\tconst visSendTilVeileder =\n\t\terBeslutter && erBeslutterProsessStartet(beslutterProsessStatus) && erKlarTilBeslutter(beslutterProsessStatus);\n\n\tconst visGodkjennUtkast =\n\t\terBeslutter &&\n\t\terBeslutterProsessStartet(beslutterProsessStatus) &&\n\t\t!erGodkjentAvBeslutter(beslutterProsessStatus);\n\n\tconst visBliBeslutter =\n\t\terIkkeAnsvarligVeileder && isNothing(beslutterNavn) && erKlarTilBeslutter(beslutterProsessStatus);\n\n\tfunction sendDataTilBackend() {\n\t\t// Vi oppdaterer ikke lagringStatus her fordi det blir rart at dette trigges på en \"urelatert\" handling\n\t\treturn oppdaterVedtakUtkast(utkastId, hentMalformFraData(malform), props.vedtakskjema).catch(() => {\n\t\t\tsetLaster(false);\n\t\t\tshowModal(ModalType.FEIL_VED_LAGRING);\n\t\t});\n\t}\n\n\tfunction handleGodkjennVedtak() {\n\t\tsetLaster(true);\n\t\tgodkjennVedtak(utkastId)\n\t\t\t.then(() => {\n\t\t\t\tleggTilSystemMelding(SystemMeldingType.BESLUTTER_HAR_GODKJENT);\n\t\t\t\tsetBeslutterProsessStatus(BeslutterProsessStatus.GODKJENT_AV_BESLUTTER);\n\t\t\t\thideModal();\n\t\t\t})\n\t\t\t.catch(() => showModal(ModalType.FEIL_VED_GODKJENT_AV_BESLUTTER))\n\t\t\t.finally(() => setLaster(false));\n\t}\n\n\tfunction handleOnStartBeslutterProsessClicked() {\n\t\tsetLaster(true);\n\t\tsendDataTilBackend().then(() => {\n\t\t\tfetchStartBeslutterProsess(utkastId)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetBeslutterProsessStatus(BeslutterProsessStatus.KLAR_TIL_BESLUTTER);\n\t\t\t\t\tleggTilSystemMelding(SystemMeldingType.BESLUTTER_PROSESS_STARTET);\n\t\t\t\t})\n\t\t\t\t.catch(() => showModal(ModalType.FEIL_VED_START_BESLUTTER_PROSESS))\n\t\t\t\t.finally(() => setLaster(false));\n\t\t});\n\t}\n\n\tfunction handleOnBliBeslutterClicked() {\n\t\tsetLaster(true);\n\t\tbliBeslutter(utkastId)\n\t\t\t.then(() => {\n\t\t\t\tsetUtkastBeslutter(innloggetVeileder.ident, innloggetVeileder.navn);\n\t\t\t\tsetVeilederTilgang(VeilederTilgang.BESLUTTER);\n\t\t\t\tleggTilSystemMelding(SystemMeldingType.BLITT_BESLUTTER);\n\t\t\t})\n\t\t\t.catch(() => showModal(ModalType.FEIL_VED_BLI_BESLUTTER))\n\t\t\t.finally(() => setLaster(false));\n\t}\n\n\tfunction handleOnSendTilClicked() {\n\t\tsetLaster(true);\n\t\toppdaterBeslutterProsessStatus(utkastId)\n\t\t\t.then(() => {\n\t\t\t\tconst status = erAnsvarligVeileder\n\t\t\t\t\t? BeslutterProsessStatus.KLAR_TIL_BESLUTTER\n\t\t\t\t\t: BeslutterProsessStatus.KLAR_TIL_VEILEDER;\n\n\t\t\t\tsetBeslutterProsessStatus(status);\n\t\t\t})\n\t\t\t.catch(() => showModal(ModalType.FEIL_VED_OPPDATER_BESLUTTER_PROSESS_STATUS))\n\t\t\t.finally(() => setLaster(false));\n\t}\n\n\treturn (\n\t\t<div className=\"utkast-footer__dialog-innhold\">\n\t\t\t<div>\n\t\t\t\t<UtkastStatusMelding\n\t\t\t\t\tutkast={utkast!}\n\t\t\t\t\tveilederTilgang={veilederTilgang}\n\t\t\t\t\tskjemaInnsatsgruppe={innsatsgruppe}\n\t\t\t\t\tminified={!showSection}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<Show if={showSection}>\n\t\t\t\t<div className=\"utkast-footer--innhold-sidestilt\">\n\t\t\t\t\t<Show if={visStartBeslutterProsess}>\n\t\t\t\t\t\t<Hovedknapp\n\t\t\t\t\t\t\tdisabled={laster}\n\t\t\t\t\t\t\tmini={true}\n\t\t\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\t\t\tonClick={handleOnStartBeslutterProsessClicked}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart kvalitetssikring\n\t\t\t\t\t\t</Hovedknapp>\n\t\t\t\t\t</Show>\n\n\t\t\t\t\t<Show if={visBliBeslutter}>\n\t\t\t\t\t\t<Hovedknapp\n\t\t\t\t\t\t\tmini={true}\n\t\t\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\t\t\tonClick={handleOnBliBeslutterClicked}\n\t\t\t\t\t\t\tdisabled={laster}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tBli kvalitetssikrer\n\t\t\t\t\t\t</Hovedknapp>\n\t\t\t\t\t</Show>\n\n\t\t\t\t\t<Show if={visSendTilVeileder}>\n\t\t\t\t\t\t<Hovedknapp mini={true} htmlType=\"button\" onClick={handleOnSendTilClicked} disabled={laster}>\n\t\t\t\t\t\t\tSend til veileder\n\t\t\t\t\t\t</Hovedknapp>\n\t\t\t\t\t</Show>\n\n\t\t\t\t\t<Show if={visSendTilBeslutter}>\n\t\t\t\t\t\t<Hovedknapp mini={true} htmlType=\"button\" onClick={handleOnSendTilClicked} disabled={laster}>\n\t\t\t\t\t\t\tSend til kvalitetssikrer\n\t\t\t\t\t\t</Hovedknapp>\n\t\t\t\t\t</Show>\n\n\t\t\t\t\t<Show if={visGodkjennUtkast}>\n\t\t\t\t\t\t<Flatknapp\n\t\t\t\t\t\t\tclassName=\"utkast-footer__godkjenn-knapp\"\n\t\t\t\t\t\t\tmini={true}\n\t\t\t\t\t\t\thtmlType=\"button\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tshowModal(ModalType.BEKREFT_SEND_TIL_GODKJENNING, {\n\t\t\t\t\t\t\t\t\tonGodkjennVedtakBekreftet: handleGodkjennVedtak\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={laster}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tGodkjenn\n\t\t\t\t\t\t</Flatknapp>\n\t\t\t\t\t</Show>\n\t\t\t\t</div>\n\t\t\t</Show>\n\t\t</div>\n\t);\n}\n","import { DependencyList, useCallback, useEffect, useRef } from 'react';\n\nexport function useIsAfterFirstRender(): boolean {\n\tconst hasRenderedOnce = useRef(false);\n\n\tuseEffect(() => {\n\t\tif (!hasRenderedOnce.current) {\n\t\t\thasRenderedOnce.current = true;\n\t\t}\n\t});\n\n\treturn hasRenderedOnce.current;\n}\n\nexport function useEventListener(name: string, listener: EventListener, deps?: DependencyList) {\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tconst callback: any = useCallback(listener, deps ? deps : []);\n\tuseEffect(() => {\n\t\twindow.addEventListener(name, callback);\n\t\treturn () => window.removeEventListener(name, callback);\n\t}, [callback, name]);\n}\n","import React, { useState } from 'react';\nimport cls from 'classnames';\nimport UtkastInnhold from './utkast-innhold';\nimport { DialogInnhold } from './dialog-innhold';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport Footer from '../../../component/footer/footer';\nimport './utkast-footer.less';\nimport { useDialogSection } from '../../../store/dialog-section-store';\nimport { useEventListener } from '../../../util/hooks';\n\nfunction calculateScrollBarWidth(): number {\n\treturn document.body.offsetWidth - document.body.clientWidth;\n}\n\nfunction checkIsMaxWidthOrLess(isShowingDialog: boolean | null): boolean {\n\t// Super hacky, burde gjøre en refaktorering av utkast-siden så man slipper mest mulig styling med JS\n\tconst dialogMaxWidth = document.body.clientWidth <= 1620 ? 1300 : 1920;\n\tconst maxWidth = isShowingDialog ? dialogMaxWidth : 1200;\n\treturn document.body.clientWidth <= maxWidth;\n}\n\nexport function UtkastFooter() {\n\tconst { showSection } = useDialogSection();\n\tconst { kilder, hovedmal, innsatsgruppe, begrunnelse } = useSkjemaStore();\n\n\tconst [isMaxWidthOrLess, setIsMaxWidthOrLess] = useState(checkIsMaxWidthOrLess(showSection));\n\tconst [scrollBarWidth, setScrollBarWidth] = useState(calculateScrollBarWidth());\n\n\tconst footerInnholdClassName = showSection\n\t\t? 'utkast-footer__innhold--dialog'\n\t\t: 'utkast-footer__innhold--dialog-minified';\n\n\tconst vedtakskjema = { opplysninger: kilder, begrunnelse, innsatsgruppe, hovedmal };\n\n\tconst footerStyle = isMaxWidthOrLess ? { marginRight: `${scrollBarWidth}px` } : undefined;\n\n\tuseEventListener('scroll', () => setScrollBarWidth(calculateScrollBarWidth()), [showSection]);\n\tuseEventListener('resize', () => setIsMaxWidthOrLess(checkIsMaxWidthOrLess(showSection)), [showSection]);\n\n\treturn (\n\t\t<Footer className=\"utkast-footer\">\n\t\t\t<div style={footerStyle} className={cls('utkast-footer__innhold', footerInnholdClassName)}>\n\t\t\t\t<UtkastInnhold vedtakskjema={vedtakskjema} />\n\t\t\t\t<DialogInnhold vedtakskjema={vedtakskjema} />\n\t\t\t</div>\n\t\t</Footer>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/utkast.7c2dfe38.svg\";","import React from 'react';\nimport { Systemtittel } from 'nav-frontend-typografi';\nimport utkastBilde from './utkast.svg';\nimport { SkjemaLagringStatus } from '../../../../util/type/skjema-lagring-status';\nimport { formatDateTime } from '../../../../util/date-utils';\nimport { Label, LabelType } from '../../../../component/label/label';\nimport './skjema-header.less';\n\ninterface SkjemaHeaderProps {\n\tveilederNavn: string;\n\tsistOppdatert: string;\n\tskjemaLagringStatus: SkjemaLagringStatus;\n}\n\nfunction utledLagreTekst(status: SkjemaLagringStatus, sistOppdatert: string): string {\n\tswitch (status) {\n\t\tcase SkjemaLagringStatus.LAGRER:\n\t\tcase SkjemaLagringStatus.ENDRING_IKKE_LAGRET:\n\t\t\treturn 'Lagrer...';\n\t\tcase SkjemaLagringStatus.ALLE_ENDRINGER_LAGRET:\n\t\tcase SkjemaLagringStatus.INGEN_ENDRING:\n\t\t\treturn formatDateTime(sistOppdatert);\n\t\tcase SkjemaLagringStatus.LAGRING_FEILET:\n\t\t\treturn 'Lagring feilet';\n\t}\n\n\treturn '';\n}\n\nfunction SkjemaHeader(props: SkjemaHeaderProps) {\n\tconst sistEndretTekst = utledLagreTekst(props.skjemaLagringStatus, props.sistOppdatert);\n\n\treturn (\n\t\t<header className=\"skjema-header\">\n\t\t\t<img src={utkastBilde} alt=\"Vedtak ikon\" className=\"skjema-header__ikon\" />\n\t\t\t<div className=\"skjema-header__innhold\">\n\t\t\t\t<Systemtittel tag=\"h1\" className=\"skjema-header__tittel\">\n\t\t\t\t\tUtkast\n\t\t\t\t</Systemtittel>\n\t\t\t\t<div className=\"skjema-header__info\">\n\t\t\t\t\t<Label titleText=\"Ansvarlig\" valueText={props.veilederNavn} labelType={LabelType.SMALL} />\n\t\t\t\t\t<div className=\"seperator\" />\n\t\t\t\t\t<Label\n\t\t\t\t\t\tclassName=\"skjema-header__dato\"\n\t\t\t\t\t\tvalueText={sistEndretTekst}\n\t\t\t\t\t\ttitleText=\"Sist endret\"\n\t\t\t\t\t\tlabelType={LabelType.SMALL}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n\nexport default SkjemaHeader;\n","import React from 'react';\nimport { Normaltekst, Undertittel } from 'nav-frontend-typografi';\n\nexport const DialogTipsInnhold = () => {\n\treturn (\n\t\t<>\n\t\t\t<Undertittel className=\"blokk-xs\">Kvalitetssikring</Undertittel>\n\t\t\t<Normaltekst className=\"blokk-xxs\">\n\t\t\t\tNår du vurderer at bruker har liten mulighet til å jobbe eller bare kan jobbe delvis, skal vurderingen\n\t\t\t\tdin kvalitetssikres. Hensikten er at du får tilbakemeldinger på skjønnsvurderingene du har gjort og at\n\t\t\t\tkonklusjonen blir riktig.\n\t\t\t</Normaltekst>\n\n\t\t\t<Normaltekst>\n\t\t\t\tDialogen kan gjøres tilgjengelig i behandling av klager og innsynsbegjæringer. Når vedtaket er fattet\n\t\t\t\tvil ikke dialogen være synlig i løsningen.\n\t\t\t</Normaltekst>\n\t\t</>\n\t);\n};\n","export default __webpack_public_path__ + \"static/media/lukk-dialog.2208a972.svg\";","export default __webpack_public_path__ + \"static/media/apne-dialog.4f1c7416.svg\";","import React from 'react';\nimport cls from 'classnames';\nimport { useDialogSection } from '../../../store/dialog-section-store';\nimport lukkDialogBilde from './lukk-dialog.svg';\nimport apneDialogBilde from './apne-dialog.svg';\n\ninterface DialogToggleBtnProps {\n\tclassName?: string;\n}\n\nexport function DialogToggleBtn(props: DialogToggleBtnProps) {\n\tconst { showSection, setShowSection } = useDialogSection();\n\n\tlet bilde;\n\tlet bildeAlt;\n\n\tif (showSection) {\n\t\tbilde = lukkDialogBilde;\n\t\tbildeAlt = 'Lukk dialog seksjon';\n\t} else {\n\t\tbilde = apneDialogBilde;\n\t\tbildeAlt = 'Åpne dialog seksjon';\n\t}\n\n\tfunction onClickToggleDialogSection() {\n\t\tsetShowSection(prevShow => !prevShow);\n\t}\n\n\treturn (\n\t\t<button onClick={onClickToggleDialogSection} className={cls('dialog-section__toggle_btn', props.className)}>\n\t\t\t<img src={bilde} alt={bildeAlt} />\n\t\t</button>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/til-oversikt.8e853e4b.svg\";","import React from 'react';\nimport { Undertittel } from 'nav-frontend-typografi';\nimport { DialogTipsInnhold } from './dialog-tips-innhold';\nimport { PopoverOrientering } from 'nav-frontend-popover';\nimport './dialog-section.less';\nimport { OrNothing } from '../../../util/type/ornothing';\nimport { TipsPopover } from '../../../component/tips-popover/tips-popover';\nimport Show from '../../../component/show';\nimport { Label, LabelType } from '../../../component/label/label';\nimport { DialogToggleBtn } from '../dialog-section-minified/dialog-toggle-btn';\nimport Lenke from 'nav-frontend-lenker';\nimport tilOversiktBilde from './til-oversikt.svg';\nimport { useTilgangStore } from '../../../store/tilgang-store';\nimport env from '../../../util/environment';\n\ninterface DialogPanelHeaderProps {\n\tbeslutterNavn?: OrNothing<string>;\n}\n\nfunction utledOversiktUrl(): string {\n\tif (env.isRunningOnGhPages || env.isDevelopment) {\n\t\treturn 'https://navikt.github.io/beslutteroversikt';\n\t} else if (env.erITestMiljo) {\n\t\treturn 'https://app-q1.adeo.no/beslutteroversikt';\n\t} else {\n\t\treturn 'https://app.adeo.no/beslutteroversikt';\n\t}\n}\n\nexport function DialogSectionHeader(props: DialogPanelHeaderProps) {\n\tconst { erBeslutter } = useTilgangStore();\n\n\treturn (\n\t\t<header className=\"dialog-section-header\">\n\t\t\t<div className=\"dialog-section-header__toggle-btn-wrapper\">\n\t\t\t\t<DialogToggleBtn />\n\t\t\t</div>\n\n\t\t\t<div className=\"dialog-section-header__innhold\">\n\t\t\t\t<Undertittel className=\"dialog-section-header__tittel\">Kvalitetssikring</Undertittel>\n\t\t\t\t<TipsPopover\n\t\t\t\t\tid=\"dialog-tips\"\n\t\t\t\t\tclassName=\"dialog-section-header__tips\"\n\t\t\t\t\ttipsInnhold={<DialogTipsInnhold />}\n\t\t\t\t\tariaLabel=\"Tips for kvalitetssikring\"\n\t\t\t\t\torientering={PopoverOrientering.UnderHoyre}\n\t\t\t\t/>\n\t\t\t\t<Show if={props.beslutterNavn}>\n\t\t\t\t\t<Label titleText=\"Ansvarlig\" valueText={props.beslutterNavn} labelType={LabelType.SMALL} />\n\t\t\t\t</Show>\n\n\t\t\t\t<Show if={erBeslutter}>\n\t\t\t\t\t<Lenke\n\t\t\t\t\t\ttitle=\"Til kvalitetssikring oversikt for 14a\"\n\t\t\t\t\t\thref={utledOversiktUrl()}\n\t\t\t\t\t\tclassName=\"dialog-section-header__oversikt-lenke\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src={tilOversiktBilde} alt=\"Til kvalitetssikring oversikt for 14a\" />\n\t\t\t\t\t</Lenke>\n\t\t\t\t</Show>\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n","import { AxiosPromise } from 'axios';\nimport { axiosInstance } from '../utils';\nimport { MeldingType, SystemMeldingType } from '../../util/type/melding-type';\nimport { VEILARBVEDTAKSSTOTTE_API } from './index';\n\nexport interface Melding {\n\topprettet: string;\n\ttype: MeldingType;\n}\n\nexport interface DialogMelding extends Melding {\n\tmelding: string;\n\topprettetAvIdent: string;\n\topprettetAvNavn: string;\n}\n\nexport interface SystemMelding extends Melding {\n\tutfortAvIdent: string;\n\tutfortAvNavn: string;\n\tsystemMeldingType: SystemMeldingType;\n}\n\nexport function sendDialog(vedtakId: number, melding: string): AxiosPromise {\n\treturn axiosInstance.post(`${VEILARBVEDTAKSSTOTTE_API}/meldinger?vedtakId=${vedtakId}`, { melding });\n}\n\nexport function hentMeldinger(vedtakId: number): AxiosPromise<(DialogMelding | SystemMelding)[]> {\n\treturn axiosInstance.get(`${VEILARBVEDTAKSSTOTTE_API}/meldinger?vedtakId=${vedtakId}`);\n}\n","import DOMPurify from 'dompurify';\n\nconst urlRegex = new RegExp(\n\t/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,\n\t'gi'\n);\n\nexport function purfiyUnsafeHtml(dirtyHtml: string): string {\n\treturn DOMPurify.sanitize(dirtyHtml, { ALLOWED_TAGS: ['a', 'br'], ALLOWED_ATTR: ['target', 'href'] });\n}\n\nexport function replaceNewLineWithBr(tekst: string): string {\n\treturn tekst.replace(/\\n/g, '</br>');\n}\n\nexport function replaceTextUrlsWithTags(dialogTekst: string): string {\n\tlet tekst = dialogTekst;\n\n\twhile (true) {\n\t\tconst urlMatch = urlRegex.exec(dialogTekst);\n\n\t\tif (!urlMatch) break;\n\n\t\tconst matchedUrl = urlMatch[0];\n\t\tconst isInternalUrl = matchedUrl.includes('.adeo.no/'); // This could be made more robust if the need arises\n\t\tconst target = isInternalUrl ? '' : 'target=\"_blank\"';\n\n\t\tconst urlTag = `<a ${target} href=\"${matchedUrl}\">${matchedUrl}</a>`;\n\t\ttekst = tekst.replace(matchedUrl, urlTag);\n\t}\n\n\treturn tekst;\n}\n","import React from 'react';\nimport cls from 'classnames';\nimport { Element, Undertekst } from 'nav-frontend-typografi';\nimport './dialog-melding.less';\nimport { formatDayMonthTime } from '../../../../../util/date-utils';\nimport { purfiyUnsafeHtml, replaceNewLineWithBr, replaceTextUrlsWithTags } from '../../../../../util/html-utils';\nimport Show from '../../../../../component/show';\n\ninterface DialogMeldingProps {\n\ttekst: string;\n\tdato: string;\n\tskrevetAvNavn: string;\n\tskrevetAvMeg: boolean;\n}\n\nconst DialogMeldingBar = (props: { className: string }) => {\n\treturn <div className={cls('dialog-melding-bar', props.className)} />;\n};\n\nfunction formatAndCleanMessage(message: string): string {\n\tlet formattedMessage = message;\n\n\tformattedMessage = replaceTextUrlsWithTags(formattedMessage);\n\tformattedMessage = replaceNewLineWithBr(formattedMessage);\n\n\treturn purfiyUnsafeHtml(formattedMessage);\n}\n\nexport const DialogMelding = (props: DialogMeldingProps) => {\n\tconst { tekst, dato, skrevetAvNavn, skrevetAvMeg } = props;\n\n\tconst meldingClasses = {\n\t\t'dialog-melding--fra-meg': skrevetAvMeg,\n\t\t'dialog-melding--til-meg': !skrevetAvMeg\n\t};\n\n\tconst meldingBarClasses = {\n\t\t'dialog-melding-bar--fra-meg': skrevetAvMeg,\n\t\t'dialog-melding-bar--til-meg': !skrevetAvMeg\n\t};\n\n\treturn (\n\t\t<div className={cls('dialog-melding', meldingClasses)}>\n\t\t\t<div className=\"dialog-melding__metadata\">\n\t\t\t\t<Show if={!skrevetAvMeg}>\n\t\t\t\t\t<Element className=\"dialog-melding__metadata-navn\">{skrevetAvNavn}</Element>\n\t\t\t\t</Show>\n\t\t\t\t<Undertekst className=\"dialog-melding__metadata-dato\">{`${formatDayMonthTime(dato)}`}</Undertekst>\n\t\t\t</div>\n\t\t\t<div className=\"dialog-melding__tekst-wrapper\">\n\t\t\t\t<DialogMeldingBar className={cls(meldingBarClasses)} />\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"typo-normal dialog-melding__tekst\"\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: formatAndCleanMessage(tekst) }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport { Normaltekst } from 'nav-frontend-typografi';\nimport { SystemMeldingType } from '../../../../../util/type/melding-type';\nimport './system-melding.less';\n\ninterface SystemMeldingProps {\n\tsystemMeldingType: SystemMeldingType;\n\tutfortAvNavn: string;\n}\n\nfunction lagSystemMelding(type: SystemMeldingType, utfortAvNavn: string) {\n\tswitch (type) {\n\t\tcase SystemMeldingType.BESLUTTER_PROSESS_STARTET:\n\t\t\treturn 'Kvalitetssikring startet';\n\t\tcase SystemMeldingType.BESLUTTER_PROSESS_AVBRUTT:\n\t\t\treturn 'Kvalitetssikring avbrutt';\n\t\tcase SystemMeldingType.BLITT_BESLUTTER:\n\t\t\treturn (\n\t\t\t\t<span>\n\t\t\t\t\t<strong>{utfortAvNavn}</strong> er kvalitetssikrer\n\t\t\t\t</span>\n\t\t\t);\n\t\tcase SystemMeldingType.TATT_OVER_SOM_BESLUTTER:\n\t\t\treturn (\n\t\t\t\t<span>\n\t\t\t\t\t<strong>{utfortAvNavn}</strong> er ny kvalitetssikrer\n\t\t\t\t</span>\n\t\t\t);\n\t\tcase SystemMeldingType.TATT_OVER_SOM_VEILEDER:\n\t\t\treturn (\n\t\t\t\t<span>\n\t\t\t\t\t<strong>{utfortAvNavn}</strong> er ny ansvarlig veileder\n\t\t\t\t</span>\n\t\t\t);\n\t\tcase SystemMeldingType.BESLUTTER_HAR_GODKJENT:\n\t\t\treturn (\n\t\t\t\t<span>\n\t\t\t\t\tKvalitetsikret av <strong>{utfortAvNavn}</strong>\n\t\t\t\t</span>\n\t\t\t);\n\t\tcase SystemMeldingType.UTKAST_OPPRETTET:\n\t\t\treturn (\n\t\t\t\t<span>\n\t\t\t\t\t<strong>{utfortAvNavn}</strong> opprettet utkast\n\t\t\t\t</span>\n\t\t\t);\n\t\tcase SystemMeldingType.SENDT_TIL_VEILEDER:\n\t\t\treturn 'Trenger respons fra veileder';\n\t\tcase SystemMeldingType.SENDT_TIL_BESLUTTER:\n\t\t\treturn 'Trenger tilbakemelding fra kvalitetssikrer';\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\nexport const SystemMelding = (props: SystemMeldingProps) => {\n\tconst { systemMeldingType, utfortAvNavn } = props;\n\treturn (\n\t\t<div className=\"system-melding\">\n\t\t\t<span className=\"system-melding__seperator\" />\n\t\t\t<Normaltekst className=\"system-melding__tekst\">\n\t\t\t\t{lagSystemMelding(systemMeldingType, utfortAvNavn)}\n\t\t\t</Normaltekst>\n\t\t\t<span className=\"system-melding__seperator\" />\n\t\t</div>\n\t);\n};\n","import React, { useState } from 'react';\nimport cls from 'classnames';\nimport { DialogMelding } from './dialog-melding/dialog-melding';\nimport { SystemMelding } from './system-melding/system-melding';\nimport './melding-liste.less';\nimport {\n\tDialogMelding as DialogMeldingData,\n\tSystemMelding as SystemMeldingData\n} from '../../../../api/veilarbvedtaksstotte/meldinger';\nimport { MeldingType } from '../../../../util/type/melding-type';\nimport dayjs from 'dayjs';\n\ninterface MeldingListeProps {\n\tmeldinger: (DialogMeldingData | SystemMeldingData)[];\n\tinnloggetVeilederIdent: string;\n}\n\nfunction mapTilDialogMeldingView(\n\tmelding: DialogMeldingData,\n\tkey: number,\n\tisNewAfter: Date,\n\tinnloggetVeilederIdent: string\n) {\n\tconst skrevetAvMeg = melding.opprettetAvIdent === innloggetVeilederIdent;\n\tconst ariaLive = dayjs(melding.opprettet).isAfter(isNewAfter) ? 'polite' : undefined;\n\n\tconst wrapperClasses = {\n\t\t'melding-wrapper--til-meg': !skrevetAvMeg,\n\t\t'melding-wrapper--fra-meg': skrevetAvMeg\n\t};\n\n\treturn (\n\t\t<div aria-live={ariaLive} className={cls('melding-wrapper', wrapperClasses)} key={key}>\n\t\t\t<DialogMelding\n\t\t\t\tdato={melding.opprettet}\n\t\t\t\ttekst={melding.melding}\n\t\t\t\tskrevetAvNavn={melding.opprettetAvNavn as string}\n\t\t\t\tskrevetAvMeg={skrevetAvMeg}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nfunction mapTilSystemMeldingView(melding: SystemMeldingData, key: number, isNewAfter: Date) {\n\tconst ariaLive = dayjs(melding.opprettet).isAfter(isNewAfter) ? 'polite' : undefined;\n\n\treturn (\n\t\t<div aria-live={ariaLive} className=\"melding-wrapper melding-wrapper--system\" key={key}>\n\t\t\t<SystemMelding systemMeldingType={melding.systemMeldingType} utfortAvNavn={melding.utfortAvNavn} />\n\t\t</div>\n\t);\n}\n\nexport const MeldingListe = (props: MeldingListeProps) => {\n\t// Brukes for å legge på aria-live for opplesing av nye meldinger\n\tconst [mountTime] = useState(() => new Date());\n\n\tconst { innloggetVeilederIdent, meldinger } = props;\n\n\treturn (\n\t\t<div className=\"melding-liste\">\n\t\t\t{meldinger.map((melding, idx) => {\n\t\t\t\treturn melding.type === MeldingType.DIALOG_MELDING\n\t\t\t\t\t? mapTilDialogMeldingView(melding as DialogMeldingData, idx, mountTime, innloggetVeilederIdent)\n\t\t\t\t\t: mapTilSystemMeldingView(melding as SystemMeldingData, idx, mountTime);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n","import React, { ChangeEvent, useEffect, useMemo, useRef, useState } from 'react';\nimport { Textarea } from 'nav-frontend-skjema';\nimport { Hovedknapp } from 'nav-frontend-knapper';\nimport './dialog-section.less';\nimport { hentMeldinger, sendDialog } from '../../../api/veilarbvedtaksstotte/meldinger';\nimport { ModalType, useModalStore } from '../../../store/modal-store';\nimport { useDataStore } from '../../../store/data-store';\nimport { sortDatesAsc } from '../../../util/date-utils';\nimport { hentId, makeAbsoluteHeightStyle, scrollToBottom } from '../../../util';\nimport { MeldingListe } from './melding-liste/melding-liste';\nimport Spinner from '../../../component/spinner/spinner';\nimport { useDialogSection } from '../../../store/dialog-section-store';\n\nlet midlertidigMelding = '';\n\nconst MESSAGE_MAX_LENGTH = 1000;\nconst DIALOG_SECTION_HEADER_HEIGHT = 64;\nexport const MEDLINGER_ID = 'veilarbvedtaksstottefs-melding-liste';\n\nexport function DialogSection() {\n\tconst { sectionHeight, harLastetMeldinger } = useDialogSection();\n\tconst { showModal } = useModalStore();\n\tconst { meldinger, setMeldinger, innloggetVeileder, utkast } = useDataStore();\n\n\tconst [melding, setMelding] = useState(midlertidigMelding);\n\tconst [senderMelding, setSenderMelding] = useState(false);\n\tconst skrivefeltRef = useRef<HTMLInputElement | null>(null);\n\n\tconst innholdStyle = sectionHeight\n\t\t? makeAbsoluteHeightStyle(sectionHeight - DIALOG_SECTION_HEADER_HEIGHT)\n\t\t: undefined;\n\n\tconst kanSendeMelding = !senderMelding && melding.trim().length > 0 && melding.length <= MESSAGE_MAX_LENGTH;\n\n\tconst sorterteMeldinger = useMemo(() => {\n\t\treturn [...meldinger].sort((d1, d2) => sortDatesAsc(d1.opprettet, d2.opprettet));\n\t}, [meldinger]);\n\n\tuseEffect(() => {\n\t\tconst meldingListeElem = document.getElementById(MEDLINGER_ID);\n\t\tscrollToBottom(meldingListeElem);\n\t}, [meldinger]);\n\n\tfunction oppdaterMelding(tekst: string) {\n\t\tsetMelding(tekst);\n\t\tmidlertidigMelding = tekst;\n\t}\n\n\tfunction sendMelding() {\n\t\tsetSenderMelding(true);\n\n\t\tsendDialog(hentId(utkast), melding)\n\t\t\t.then(() => hentMeldinger(hentId(utkast)))\n\t\t\t.then(response => {\n\t\t\t\tif (response.data) {\n\t\t\t\t\tsetMeldinger(response.data);\n\n\t\t\t\t\tconst meldingListeElem = document.getElementById(MEDLINGER_ID);\n\t\t\t\t\tscrollToBottom(meldingListeElem);\n\t\t\t\t}\n\t\t\t\toppdaterMelding('');\n\t\t\t\tif (skrivefeltRef.current) {\n\t\t\t\t\tskrivefeltRef.current.focus();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tshowModal(ModalType.FEIL_VED_UTSENDING_AV_DIALOG_MELDING);\n\t\t\t})\n\t\t\t.finally(() => setSenderMelding(false));\n\t}\n\n\tfunction handleOnMeldingChanged(e: ChangeEvent<HTMLTextAreaElement>) {\n\t\tif (!senderMelding) {\n\t\t\toppdaterMelding(e.target.value);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div style={innholdStyle} className=\"dialog-section-innhold\">\n\t\t\t<div className=\"dialog-section-innhold__meldinger\" id={MEDLINGER_ID}>\n\t\t\t\t{harLastetMeldinger ? (\n\t\t\t\t\t<MeldingListe meldinger={sorterteMeldinger} innloggetVeilederIdent={innloggetVeileder.ident} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"dialog-section-innhold__spinner\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Textarea\n\t\t\t\t\tonChange={handleOnMeldingChanged}\n\t\t\t\t\tvalue={melding}\n\t\t\t\t\tmaxLength={MESSAGE_MAX_LENGTH}\n\t\t\t\t\tautoCorrect=\"on\"\n\t\t\t\t\tclassName=\"dialog-section-innhold__skrivefelt skjemaelement__input textarea--medMeta\"\n\t\t\t\t\taria-label=\"Skrivefelt for å sende melding til beslutter/ansvarlig veileder\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"dialog-section-innhold__send\">\n\t\t\t\t\t<Hovedknapp\n\t\t\t\t\t\tonClick={sendMelding}\n\t\t\t\t\t\tspinner={senderMelding}\n\t\t\t\t\t\tdisabled={!kanSendeMelding || senderMelding}\n\t\t\t\t\t\tclassName=\"dialog-section-innhold__send-knapp\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSend\n\t\t\t\t\t</Hovedknapp>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Checkbox } from 'nav-frontend-skjema';\nimport { Kilde } from '../kilder';\nimport './vis-kilde.less';\nimport { erDefaultKilde } from '../../../../../util/skjema-utils';\nimport { swallowEnterKeyPress } from '../../../../../util';\n\ninterface VisKildeProps {\n\tkilde: Kilde;\n\thandleKilde: () => void;\n\tonChange: (opplysning: Kilde) => void;\n\terSistEndretIndeks: boolean;\n}\n\nexport function VisKilde(props: VisKildeProps) {\n\tconst { navn, erValgt } = props.kilde;\n\tconst kanRedigeres = !erDefaultKilde(navn);\n\n\treturn (\n\t\t<div className=\"vis-kilde\">\n\t\t\t<Checkbox\n\t\t\t\tchecked={erValgt}\n\t\t\t\tlabel={navn}\n\t\t\t\tvalue={navn}\n\t\t\t\tonKeyPress={swallowEnterKeyPress}\n\t\t\t\tonChange={(e: any) => props.onChange({ navn, erValgt: e.target.checked })}\n\t\t\t/>\n\t\t\t{kanRedigeres && (\n\t\t\t\t<button\n\t\t\t\t\taria-label={'Rediger ' + navn}\n\t\t\t\t\tclassName=\"vis-kilde__rediger-knapp\"\n\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\tif (document.activeElement === e.currentTarget) {\n\t\t\t\t\t\t\tprops.handleKilde();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"vis-kilde__rediger-ikon\" />\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React, { useState } from 'react';\nimport { Textarea } from 'nav-frontend-skjema';\nimport { Hovedknapp, Knapp } from 'nav-frontend-knapper';\nimport { Kilde } from '../kilder';\nimport './rediger-kilde.less';\n\ninterface RedigerKildeProps {\n\tkilde: Kilde;\n\tnegativeBtn: 'CANCEL' | 'DELETE';\n\tonTekstSubmit: (kilde: Kilde) => void;\n\tonTekstDeleteOrCancel: () => void;\n}\n\nconst KILDE_MAX_LENGTH = 150;\n\nexport function RedigerKilde(props: RedigerKildeProps) {\n\tconst { kilde, negativeBtn, onTekstSubmit, onTekstDeleteOrCancel } = props;\n\tconst [tekst, setTekst] = useState(kilde.navn);\n\n\tfunction onSubmit() {\n\t\tonTekstSubmit({ navn: tekst, erValgt: true });\n\t}\n\n\treturn (\n\t\t<div className=\"rediger-kilde\">\n\t\t\t<Textarea\n\t\t\t\tlabel=\"\"\n\t\t\t\tvalue={tekst}\n\t\t\t\tplaceholder=\"Legg til kilde og dato\"\n\t\t\t\tmaxLength={KILDE_MAX_LENGTH}\n\t\t\t\tonChange={(e: any) => {\n\t\t\t\t\tlet nyKilde = e.target.value;\n\t\t\t\t\tif (nyKilde.length > KILDE_MAX_LENGTH) {\n\t\t\t\t\t\tnyKilde = nyKilde.substr(0, KILDE_MAX_LENGTH);\n\t\t\t\t\t}\n\t\t\t\t\tsetTekst(nyKilde);\n\t\t\t\t}}\n\t\t\t\tautoFocus={true}\n\t\t\t/>\n\t\t\t<div className=\"rediger-kilde__aksjoner\">\n\t\t\t\t<Hovedknapp mini={true} htmlType=\"button\" onClick={onSubmit}>\n\t\t\t\t\tLagre\n\t\t\t\t</Hovedknapp>\n\t\t\t\t<Knapp mini={true} htmlType=\"button\" onClick={onTekstDeleteOrCancel}>\n\t\t\t\t\t{negativeBtn === 'CANCEL' ? 'Avbryt' : 'Slett'}\n\t\t\t\t</Knapp>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import * as React from 'react';\nimport { Normaltekst } from 'nav-frontend-typografi';\nimport './legg-til-kilde.less';\n\ninterface LeggTilKildeProps {\n\tleggTilKilde: () => void;\n}\n\nexport function LeggTilKilde(props: LeggTilKildeProps) {\n\treturn (\n\t\t<button className=\"legg-til-kilde\" onClick={props.leggTilKilde} aria-describedby=\"legg-til-kilde-tekst\">\n\t\t\t<div className=\"legg-til-kilde__ikon\" />\n\t\t\t<Normaltekst id=\"legg-til-kilde-tekst\" tag=\"span\" className=\"legg-til-kilde__tekst\">\n\t\t\t\tLegg til andre kilder\n\t\t\t</Normaltekst>\n\t\t</button>\n\t);\n}\n","import React from 'react';\nimport { Normaltekst, Undertittel } from 'nav-frontend-typografi';\n\nexport const KilderTipsInnhold = () => {\n\treturn (\n\t\t<>\n\t\t\t<Undertittel className=\"blokk-xs\">Kilder</Undertittel>\n\t\t\t<Normaltekst>For andre kilder kan du for eksempel skrive:</Normaltekst>\n\t\t\t<ul className=\"tips__liste\">\n\t\t\t\t<li>\n\t\t\t\t\tReferat fra møte med veilederen din\n\t\t\t\t\t<br />\n\t\t\t\t\t1. januar 20xx\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\tDialogmeldinger i aktivitetsplanen fra\n\t\t\t\t\t<br />\n\t\t\t\t\t1. til 20. februar 20xx\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\tSluttrapporten fra Tiltaksarrangør AS\n\t\t\t\t\t<br />\n\t\t\t\t\t1. september 20xx\n\t\t\t\t</li>\n\t\t\t\t<li>Legeerklæringen 1. november 20xx</li>\n\t\t\t</ul>\n\t\t</>\n\t);\n};\n","import React, { useEffect, useState } from 'react';\nimport { VisKilde } from './vis-kilde/vis-kilde';\nimport { RedigerKilde } from './rediger-kilde/rediger-kilde';\nimport { LeggTilKilde } from './legg-til-kilde/legg-til-kilde';\nimport { SkjemaGruppe } from 'nav-frontend-skjema';\nimport { KilderTipsInnhold } from './kilder-tips-innhold';\nimport FeltHeader from '../felt-header/felt-header';\nimport './kilder.less';\nimport { useSkjemaStore } from '../../../../store/skjema-store';\nimport { mergeMedDefaultKilder } from '../../../../util/skjema-utils';\nimport { useIsAfterFirstRender } from '../../../../util/hooks';\nimport { lagSkjemaelementFeilmelding } from '../../../../util';\n\nexport interface Kilde {\n\tnavn: string;\n\terValgt: boolean;\n}\n\nfunction Kilder() {\n\tconst { kilder: skjemaKilder, setKilder: setSkjemaKilder, errors } = useSkjemaStore();\n\tconst [kilder, setKilder] = useState<Kilde[]>(mergeMedDefaultKilder(skjemaKilder));\n\tconst [redigeringModusIndeks, setRedigeringModusIndeks] = useState<number>(-1);\n\tconst [visLeggTilNyKilde, setVisLeggTilNyKilde] = useState<boolean>(true);\n\tconst [sistEndretIndeks, setSistEndretIndeks] = useState<number>(-1);\n\tconst isAfterFirstRender = useIsAfterFirstRender();\n\n\tfunction nullstilState() {\n\t\tsetRedigeringModusIndeks(-1);\n\t\tsetSistEndretIndeks(-1);\n\t}\n\n\tfunction handleKildeChanged(index: number, kilde: Kilde) {\n\t\tif (!kilde.navn.trim()) return;\n\n\t\tsetSistEndretIndeks(index);\n\n\t\tsetKilder(prevState => {\n\t\t\tconst kilderKopi = [...prevState];\n\n\t\t\tif (index === kilder.length) {\n\t\t\t\tkilderKopi.push(kilde);\n\t\t\t\treturn kilderKopi;\n\t\t\t}\n\n\t\t\tkilderKopi[index] = kilde;\n\t\t\treturn kilderKopi;\n\t\t});\n\t}\n\n\tfunction handleKildeDeleted(index: number) {\n\t\tsetKilder(prevState => [...prevState].filter((o, idx) => idx !== index));\n\t}\n\n\tfunction handleKildeChecked(index: number, kilde: Kilde) {\n\t\tsetKilder(prevState => {\n\t\t\tconst kilderKopi = [...prevState];\n\t\t\tkilderKopi[index] = kilde;\n\t\t\treturn kilderKopi;\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (isAfterFirstRender) {\n\t\t\tconst valgteKilder = kilder.filter(kilde => kilde.erValgt).map(kilde => kilde.navn);\n\n\t\t\tsetSkjemaKilder(valgteKilder);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [kilder]);\n\n\treturn (\n\t\t<div className=\"kilder-felt\" id=\"kilder-scroll-to\">\n\t\t\t<FeltHeader\n\t\t\t\tid=\"kilder-tittel\"\n\t\t\t\ttittel=\"Kilder\"\n\t\t\t\ttipsId=\"kilder-tips\"\n\t\t\t\ttipsInnhold={<KilderTipsInnhold />}\n\t\t\t\ttipsAriaLabel=\"Tips for kilder\"\n\t\t\t/>\n\n\t\t\t<div className=\"kilder\">\n\t\t\t\t<div className=\"kilder__innhold\">\n\t\t\t\t\t<SkjemaGruppe aria-labelledby=\"kilder-tittel\" feil={lagSkjemaelementFeilmelding(errors.kilder)}>\n\t\t\t\t\t\t{kilder.map((kilde, index) =>\n\t\t\t\t\t\t\tredigeringModusIndeks !== index ? (\n\t\t\t\t\t\t\t\t<VisKilde\n\t\t\t\t\t\t\t\t\tkilde={kilde}\n\t\t\t\t\t\t\t\t\thandleKilde={() => {\n\t\t\t\t\t\t\t\t\t\tsetRedigeringModusIndeks(index);\n\t\t\t\t\t\t\t\t\t\tsetVisLeggTilNyKilde(true);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tonChange={o => handleKildeChecked(index, o)}\n\t\t\t\t\t\t\t\t\terSistEndretIndeks={index === sistEndretIndeks}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<RedigerKilde\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tkilde={kilde}\n\t\t\t\t\t\t\t\t\tnegativeBtn=\"DELETE\"\n\t\t\t\t\t\t\t\t\tonTekstSubmit={endretKilde => {\n\t\t\t\t\t\t\t\t\t\tsetRedigeringModusIndeks(-1);\n\t\t\t\t\t\t\t\t\t\thandleKildeChanged(index, endretKilde);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonTekstDeleteOrCancel={() => {\n\t\t\t\t\t\t\t\t\t\thandleKildeDeleted(index);\n\t\t\t\t\t\t\t\t\t\tnullstilState();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</SkjemaGruppe>\n\t\t\t\t\t{visLeggTilNyKilde ? (\n\t\t\t\t\t\t<LeggTilKilde\n\t\t\t\t\t\t\tleggTilKilde={() => {\n\t\t\t\t\t\t\t\tsetVisLeggTilNyKilde(false);\n\t\t\t\t\t\t\t\tnullstilState();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<RedigerKilde\n\t\t\t\t\t\t\tkilde={{ navn: '', erValgt: true }}\n\t\t\t\t\t\t\tnegativeBtn=\"CANCEL\"\n\t\t\t\t\t\t\tonTekstSubmit={endretKilde => {\n\t\t\t\t\t\t\t\thandleKildeChanged(kilder.length, endretKilde);\n\t\t\t\t\t\t\t\tsetVisLeggTilNyKilde(true);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonTekstDeleteOrCancel={() => {\n\t\t\t\t\t\t\t\tsetVisLeggTilNyKilde(true);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Kilder;\n","import React from 'react';\nimport { Normaltekst, Undertittel } from 'nav-frontend-typografi';\n\nexport const InnsatsgruppeTipsInnhold = () => {\n\treturn (\n\t\t<>\n\t\t\t<Undertittel className=\"blokk-xs\">Innsatsgruppe</Undertittel>\n\t\t\t<Normaltekst>Innsatsbegrepene er nye - her ser du de gamle:</Normaltekst>\n\t\t\t<ul className=\"tips__liste\">\n\t\t\t\t<li>gode muligheter - standardinnsats</li>\n\t\t\t\t<li>trenger veiledning - situasjonsbestemt innsats</li>\n\t\t\t\t<li>trenger veiledning, nedsatt arbeidsevne - spesielt tilpasset innsats</li>\n\t\t\t\t<li>jobbe delvis - delvis, varig tilpasset innsats</li>\n\t\t\t\t<li>liten mulighet til å jobbe - varig tilpasset innsats</li>\n\t\t\t</ul>\n\t\t</>\n\t);\n};\n","import React from 'react';\nimport { Radio, RadioGruppe } from 'nav-frontend-skjema';\nimport AlertStripe from 'nav-frontend-alertstriper';\nimport FeltHeader from '../felt-header/felt-header';\nimport { InnsatsgruppeTipsInnhold } from './innsatsgruppe-tips-innhold';\nimport { harSkrevetBegrunnelse, trengerKvalitetssikrer } from '../../../../util/skjema-utils';\nimport Show from '../../../../component/show';\nimport {\n\terBeslutterProsessStartet,\n\tfinnGjeldendeVedtak,\n\tlagSkjemaelementFeilmelding,\n\tswallowEnterKeyPress\n} from '../../../../util';\nimport { InnsatsgruppeType } from '../../../../api/veilarbvedtaksstotte';\nimport { OrNothing } from '../../../../util/type/ornothing';\nimport { ModalType, useModalStore } from '../../../../store/modal-store';\nimport { useDataStore } from '../../../../store/data-store';\nimport { erStandard, erVarigEllerGradertVarig, innsatsgruppeTekster } from '../../../../util/innsatsgruppe';\nimport { useSkjemaStore } from '../../../../store/skjema-store';\nimport './innsatsgruppe.less';\nimport { useDialogSection } from '../../../../store/dialog-section-store';\n\nfunction Innsatsgruppe() {\n\tconst { innsatsgruppe, begrunnelse, setInnsatsgruppe, setHovedmal } = useSkjemaStore();\n\tconst { fattedeVedtak } = useDataStore();\n\n\tconst erStandardInnsatsValgt = erStandard(innsatsgruppe);\n\tconst gjeldendeVedtak = finnGjeldendeVedtak(fattedeVedtak);\n\tconst erGjeldendeInnsatsVarig = gjeldendeVedtak && erVarigEllerGradertVarig(gjeldendeVedtak.innsatsgruppe);\n\n\treturn (\n\t\t<div className=\"innsatsgruppe-felt\" id=\"innsatsgruppe-scroll-to\">\n\t\t\t<FeltHeader\n\t\t\t\ttittel=\"Innsatsgruppe\"\n\t\t\t\ttittelId=\"innsatsgruppe-tittel\"\n\t\t\t\ttipsId=\"innsatsgruppe-tips\"\n\t\t\t\ttipsInnhold={<InnsatsgruppeTipsInnhold />}\n\t\t\t\ttipsAriaLabel=\"Tips for innsatsgruppe\"\n\t\t\t/>\n\t\t\t<Show if={!harSkrevetBegrunnelse(begrunnelse) && erStandardInnsatsValgt && erGjeldendeInnsatsVarig}>\n\t\t\t\t<AlertStripe form=\"inline\" type=\"advarsel\" className=\"innsatsgruppe__alertstripe\">\n\t\t\t\t\tBegrunnelse må i dette tilfellet også fylles ut for standard innsats. Dette er fordi gjeldende\n\t\t\t\t\tvedtak viser varig eller delvis varig tilpasset innsats. Når det gjøres en ny vurdering er det\n\t\t\t\t\tviktig å fremheve hva som er årsaken til endring i brukers situasjon.\n\t\t\t\t</AlertStripe>\n\t\t\t</Show>\n\t\t\t<InnsatsgruppeRadioButtons\n\t\t\t\thandleInnsatsgruppeChanged={setInnsatsgruppe}\n\t\t\t\tinnsatsgruppe={innsatsgruppe}\n\t\t\t\tsetHovedmal={setHovedmal}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default Innsatsgruppe;\n\ninterface InnsatsgruppeRadioProps {\n\thandleInnsatsgruppeChanged: (e: InnsatsgruppeType) => void;\n\tsetHovedmal: (e: any) => void;\n\tinnsatsgruppe: OrNothing<InnsatsgruppeType>;\n}\n\nfunction InnsatsgruppeRadioButtons(props: InnsatsgruppeRadioProps) {\n\tconst { setShowSection } = useDialogSection();\n\tconst { showModal } = useModalStore();\n\tconst { utkast } = useDataStore();\n\tconst { errors } = useSkjemaStore();\n\n\tfunction handleInnsatsgruppeChanged(innsatsgruppe: InnsatsgruppeType) {\n\t\tif (\n\t\t\terBeslutterProsessStartet(utkast && utkast.beslutterProsessStatus) &&\n\t\t\t!trengerKvalitetssikrer(innsatsgruppe)\n\t\t) {\n\t\t\tshowModal(ModalType.BEKREFT_AVBRYT_BESLUTTER_PROSESS, { innsatsgruppe });\n\t\t} else {\n\t\t\tprops.handleInnsatsgruppeChanged(innsatsgruppe);\n\t\t}\n\n\t\tif (trengerKvalitetssikrer(innsatsgruppe)) {\n\t\t\tsetShowSection(true);\n\t\t}\n\n\t\tif (innsatsgruppe === InnsatsgruppeType.VARIG_TILPASSET_INNSATS) {\n\t\t\tprops.setHovedmal(null);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"innsatsgruppe\">\n\t\t\t<RadioGruppe legend={null} feil={lagSkjemaelementFeilmelding(errors.innsatsgruppe)}>\n\t\t\t\t{innsatsgruppeTekster.map(innsatsgruppeTekst => (\n\t\t\t\t\t<Radio\n\t\t\t\t\t\tkey={innsatsgruppeTekst.value}\n\t\t\t\t\t\tlabel={innsatsgruppeTekst.tittel}\n\t\t\t\t\t\tname=\"innsatsgruppe\"\n\t\t\t\t\t\tvalue={innsatsgruppeTekst.value}\n\t\t\t\t\t\tonKeyPress={swallowEnterKeyPress}\n\t\t\t\t\t\tchecked={props.innsatsgruppe === innsatsgruppeTekst.value}\n\t\t\t\t\t\tonChange={(e: any) => handleInnsatsgruppeChanged(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</RadioGruppe>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Radio, SkjemaGruppe } from 'nav-frontend-skjema';\nimport FeltHeader from '../felt-header/felt-header';\nimport './hovedmal.less';\nimport { useSkjemaStore } from '../../../../store/skjema-store';\nimport { HovedmalType, InnsatsgruppeType } from '../../../../api/veilarbvedtaksstotte';\nimport { lagSkjemaelementFeilmelding, swallowEnterKeyPress } from '../../../../util';\nimport { OrNothing } from '../../../../util/type/ornothing';\nimport { alleHovedmal } from '../../../../util/hovedmal';\n\nfunction Hovedmal() {\n\tconst { innsatsgruppe, hovedmal, setHovedmal, errors } = useSkjemaStore();\n\tconst erVarigTilpassetInnsats = innsatsgruppe === InnsatsgruppeType.VARIG_TILPASSET_INNSATS;\n\n\treturn (\n\t\t<div className=\"hovedmal-felt\" id=\"hovedmal-scroll-to\">\n\t\t\t<FeltHeader tittel=\"Hovedmål\" tittelId=\"hovedmal-tittel\" />\n\t\t\t<SkjemaGruppe feil={lagSkjemaelementFeilmelding(errors.hovedmal)}>\n\t\t\t\t{erVarigTilpassetInnsats ? (\n\t\t\t\t\t<span className=\"hovedmal__empty-tekst\">\n\t\t\t\t\t\tSettes ikke for brukere med liten mulighet til å jobbe\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\t<HovedmalRadioButtons handleHovedmalChanged={setHovedmal} hovedmal={hovedmal} />\n\t\t\t\t)}\n\t\t\t</SkjemaGruppe>\n\t\t</div>\n\t);\n}\n\nexport default Hovedmal;\n\ninterface HovedmalRadioButtonsProps {\n\thandleHovedmalChanged: (e: any) => void;\n\thovedmal: OrNothing<HovedmalType>;\n}\n\nfunction HovedmalRadioButtons(props: HovedmalRadioButtonsProps) {\n\treturn (\n\t\t<div className=\"hovedmal\">\n\t\t\t{alleHovedmal.map((mal, idx) => (\n\t\t\t\t<Radio\n\t\t\t\t\tname=\"hovedmal\"\n\t\t\t\t\tkey={idx}\n\t\t\t\t\tlabel={mal.label}\n\t\t\t\t\tvalue={mal.value}\n\t\t\t\t\tonChange={(e: any) => props.handleHovedmalChanged(e.target.value)}\n\t\t\t\t\tchecked={props.hovedmal === mal.value}\n\t\t\t\t\tonKeyPress={swallowEnterKeyPress}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport debounce from 'lodash.debounce';\nimport Kilder from './kilder/kilder';\nimport Begrunnelse from './begrunnelse/begrunnelse';\nimport Innsatsgruppe from './innsatsgruppe/innsatsgruppe';\nimport Hovedmal from './hovedmal/hovedmal';\nimport './skjema-section.less';\nimport { hentBeslutterprosessStatus, oppdaterVedtakUtkast } from '../../../api/veilarbvedtaksstotte/utkast';\nimport { ModalType, useModalStore } from '../../../store/modal-store';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport { useVarselStore } from '../../../store/varsel-store';\nimport { useDataStore } from '../../../store/data-store';\nimport { useIsAfterFirstRender } from '../../../util/hooks';\nimport { hentMalformFraData, SkjemaData } from '../../../util/skjema-utils';\nimport { SkjemaLagringStatus } from '../../../util/type/skjema-lagring-status';\nimport {\n\terBeslutterProsessStartet,\n\terGodkjentAvBeslutter,\n\terKlarTilBeslutter,\n\tfinnGjeldendeVedtak,\n\thentId\n} from '../../../util';\nimport { SKRU_AV_POLLING_UTKAST } from '../../../api/veilarbpersonflatefs';\nimport { BeslutterProsessStatus } from '../../../api/veilarbvedtaksstotte';\nimport { VarselType } from '../../../component/varsel/varsel-type';\n\nconst TEN_SECONDS = 10000;\n\nexport function EndreSkjemaSection() {\n\tconst { fattedeVedtak, malform, utkast, features, setBeslutterProsessStatus } = useDataStore();\n\tconst { showModal } = useModalStore();\n\tconst {\n\t\tkilder,\n\t\thovedmal,\n\t\tinnsatsgruppe,\n\t\tbegrunnelse,\n\t\tsetSistOppdatert,\n\t\tvaliderSkjema,\n\t\tvaliderBegrunnelseLengde,\n\t\tlagringStatus,\n\t\tsetLagringStatus,\n\t\tharForsoktAForhandsvise\n\t} = useSkjemaStore();\n\tconst { showVarsel } = useVarselStore();\n\n\tconst pollBeslutterstatusIntervalRef = useRef<number>();\n\tconst isAfterFirstRender = useIsAfterFirstRender();\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tconst oppdaterUtkast = useCallback(\n\t\tdebounce((skjema: SkjemaData) => {\n\t\t\tconst malformType = hentMalformFraData(malform);\n\n\t\t\tsetLagringStatus(SkjemaLagringStatus.LAGRER);\n\t\t\toppdaterVedtakUtkast(hentId(utkast), malformType, skjema)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetLagringStatus(SkjemaLagringStatus.ALLE_ENDRINGER_LAGRET);\n\t\t\t\t\tsetSistOppdatert(new Date().toISOString());\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tshowModal(ModalType.FEIL_VED_LAGRING);\n\t\t\t\t\tsetLagringStatus(SkjemaLagringStatus.LAGRING_FEILET);\n\t\t\t\t});\n\t\t}, 3000),\n\t\t[]\n\t);\n\n\tconst vedtakskjema = { opplysninger: kilder, begrunnelse, innsatsgruppe, hovedmal };\n\n\tuseEffect(() => {\n\t\t// Initialiser når utkastet åpnes\n\t\tsetLagringStatus(SkjemaLagringStatus.INGEN_ENDRING);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (harForsoktAForhandsvise) {\n\t\t\tvaliderSkjema(finnGjeldendeVedtak(fattedeVedtak));\n\t\t} else {\n\t\t\tvaliderBegrunnelseLengde();\n\t\t}\n\n\t\tif (isAfterFirstRender) {\n\t\t\tif (lagringStatus !== SkjemaLagringStatus.ENDRING_IKKE_LAGRET) {\n\t\t\t\tsetLagringStatus(SkjemaLagringStatus.ENDRING_IKKE_LAGRET);\n\t\t\t}\n\n\t\t\toppdaterUtkast(vedtakskjema);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [kilder, begrunnelse, innsatsgruppe, hovedmal]);\n\n\tuseEffect(() => {\n\t\tif (!utkast || features[SKRU_AV_POLLING_UTKAST]) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst stopPolling = () => {\n\t\t\tif (pollBeslutterstatusIntervalRef.current) {\n\t\t\t\tclearInterval(pollBeslutterstatusIntervalRef.current);\n\t\t\t\tpollBeslutterstatusIntervalRef.current = undefined;\n\t\t\t}\n\t\t};\n\n\t\tconst erStartet = erBeslutterProsessStartet(utkast.beslutterProsessStatus);\n\t\tconst erGodkjent = erGodkjentAvBeslutter(utkast.beslutterProsessStatus);\n\t\tconst erHosBeslutter = erKlarTilBeslutter(utkast.beslutterProsessStatus);\n\n\t\t/*\n            Hvis beslutterprosessen har startet og innlogget bruker er ansvarlig veileder så skal vi periodisk hente\n            status for beslutterprosessen, slik at handlinger kan utføres av veileder ved endringer fra beslutter, uten refresh av siden:\n                - hvis beslutter har satt utkastet tilbake til veileder, så kan veileder sette utkastet tilbake til beslutter\n                - hvis beslutter har godkjent utkastet, så kan veileder sende vedtaket\n\n            Polling skjer kun dersom utkastet er hos beslutter, så dersom utkastet er hos veileder og beslutter godkjenner, så vil ikke\n            statusen bli oppdatert av pollingen.\n        */\n\t\tif (erStartet && !erGodkjent && erHosBeslutter) {\n\t\t\tpollBeslutterstatusIntervalRef.current = window.setInterval(() => {\n\t\t\t\thentBeslutterprosessStatus(utkast.id).then(response => {\n\t\t\t\t\tif (response.data && response.data.status) {\n\t\t\t\t\t\tvarsleBeslutterProsessStatusEndring(response.data.status);\n\t\t\t\t\t\tsetBeslutterProsessStatus(response.data.status);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, TEN_SECONDS);\n\t\t} else if (erGodkjent) {\n\t\t\t// Trenger ikke å polle lenger hvis utkastet er godkjent\n\t\t\tstopPolling();\n\t\t}\n\n\t\treturn stopPolling;\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [utkast]);\n\n\tfunction varsleBeslutterProsessStatusEndring(nyStatus: BeslutterProsessStatus) {\n\t\tif (utkast && nyStatus !== utkast.beslutterProsessStatus) {\n\t\t\tswitch (nyStatus) {\n\t\t\t\tcase BeslutterProsessStatus.KLAR_TIL_VEILEDER:\n\t\t\t\t\tshowVarsel(VarselType.BESLUTTERPROSESS_TIL_VEILEDER);\n\t\t\t\t\tbreak;\n\t\t\t\tcase BeslutterProsessStatus.GODKJENT_AV_BESLUTTER:\n\t\t\t\t\tshowVarsel(VarselType.BESLUTTERPROSESS_GODKJENT);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\t// Det kan bli problemer hvis gamle oppdateringer henger igjen etter at brukeren har forlatt redigeringssiden.\n\t\t// Oppdateringen kan f.eks bli sendt etter at vedtaket har blitt fattet, eller at utkastet blir oppdatert med gammel data.\n\t\treturn oppdaterUtkast.cancel;\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<form className=\"skjema-grid\">\n\t\t\t<Kilder />\n\t\t\t<Begrunnelse />\n\t\t\t<Innsatsgruppe />\n\t\t\t<Hovedmal />\n\t\t</form>\n\t);\n}\n","import React, { useEffect, useRef } from 'react';\nimport { VarselType } from '../../../component/varsel/varsel-type';\nimport isEqual from 'lodash.isequal';\nimport FeltHeader from './felt-header/felt-header';\nimport './skjema-section.less';\nimport { useAppStore } from '../../../store/app-store';\nimport { useViewStore, ViewType } from '../../../store/view-store';\nimport { useDataStore } from '../../../store/data-store';\nimport { useTilgangStore } from '../../../store/tilgang-store';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport { useVarselStore } from '../../../store/varsel-store';\nimport { SKRU_AV_POLLING_UTKAST } from '../../../api/veilarbpersonflatefs';\nimport { fetchUtkast } from '../../../api/veilarbvedtaksstotte/utkast';\nimport { BeslutterProsessStatus, Utkast } from '../../../api/veilarbvedtaksstotte';\nimport { OrNothing } from '../../../util/type/ornothing';\nimport { hentFattedeVedtak } from '../../../api/veilarbvedtaksstotte/vedtak';\nimport Tekstomrade from 'nav-frontend-tekstomrade';\nimport { Normaltekst } from 'nav-frontend-typografi';\nimport { getInnsatsgruppeTekst } from '../../../util/innsatsgruppe';\nimport { getHovedmalNavn } from '../../../util/hovedmal';\nimport { MalformData, MalformType } from '../../../api/veilarbperson';\n\nconst TEN_SECONDS = 10000;\n\nfunction malformToTekst(malform: OrNothing<MalformData>): string {\n\tconst malformType = malform ? malform.malform : null;\n\n\tif (malformType === MalformType.nn || malformType === MalformType.nb) {\n\t\treturn `Norsk (${malformType === MalformType.nn ? 'Nynorsk' : 'Bokmål'})`;\n\t} else if (!malformType) {\n\t\treturn 'Ukjent';\n\t}\n\n\treturn malformType;\n}\n\nexport function LesSkjemaSection() {\n\tconst { fnr } = useAppStore();\n\tconst { utkast, setUtkast, setFattedeVedtak, features } = useDataStore();\n\tconst { changeView } = useViewStore();\n\tconst { erBeslutter } = useTilgangStore();\n\tconst { initSkjema } = useSkjemaStore();\n\tconst { showVarsel } = useVarselStore();\n\tconst refreshUtkastIntervalRef = useRef<number>();\n\tconst { malform } = useDataStore();\n\n\tuseEffect(() => {\n\t\t/*\n\t\t\tHvis beslutterprosessen har startet og innlogget bruker er beslutter så skal vi periodisk hente\n\t\t\tdet nyeste utkastet slik at man ikke må refreshe manuelt når ansvarlig veileder gjør en endring\n\t\t */\n\t\tif (utkast && !features[SKRU_AV_POLLING_UTKAST] && utkast.beslutterProsessStatus != null && erBeslutter) {\n\t\t\trefreshUtkastIntervalRef.current = window.setInterval(() => {\n\t\t\t\tfetchUtkast(fnr)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\t\tif (erVedtakSkjemafeltEndret(utkast, response.data)) {\n\t\t\t\t\t\t\t\tshowVarsel(VarselType.UTKAST_OPPDATERT);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvarsleBeslutterProsessStatusEndring(response.data.beslutterProsessStatus);\n\t\t\t\t\t\t\tsetUtkast(response.data);\n\t\t\t\t\t\t\tinitSkjema(response.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch();\n\t\t\t}, TEN_SECONDS);\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (refreshUtkastIntervalRef.current) {\n\t\t\t\tclearInterval(refreshUtkastIntervalRef.current);\n\t\t\t\trefreshUtkastIntervalRef.current = undefined;\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [utkast, erBeslutter]);\n\n\tfunction erVedtakSkjemafeltEndret(v1: Utkast, v2: Utkast) {\n\t\treturn (\n\t\t\tv1.begrunnelse !== v2.begrunnelse ||\n\t\t\tv1.hovedmal !== v2.hovedmal ||\n\t\t\tv1.innsatsgruppe !== v2.innsatsgruppe ||\n\t\t\t!isEqual(v1.opplysninger, v2.opplysninger)\n\t\t);\n\t}\n\n\tfunction varsleBeslutterProsessStatusEndring(nyStatus: OrNothing<BeslutterProsessStatus>) {\n\t\tif (\n\t\t\tutkast &&\n\t\t\tnyStatus &&\n\t\t\tnyStatus !== utkast.beslutterProsessStatus &&\n\t\t\tnyStatus === BeslutterProsessStatus.KLAR_TIL_BESLUTTER\n\t\t) {\n\t\t\tshowVarsel(VarselType.BESLUTTERPROSESS_TIL_BESLUTTER);\n\t\t}\n\t}\n\n\t// Utkast kan bli satt til null hvis man er beslutter og veileder fatter et vedtak\n\tif (utkast == null) {\n\t\thentFattedeVedtak(fnr)\n\t\t\t.then(response => {\n\t\t\t\tif (response.data) {\n\t\t\t\t\tsetFattedeVedtak(response.data);\n\t\t\t\t}\n\t\t\t\tchangeView(ViewType.HOVEDSIDE);\n\t\t\t})\n\t\t\t.catch();\n\t\treturn null;\n\t}\n\n\tconst { opplysninger, innsatsgruppe, hovedmal } = utkast;\n\tconst begrunnelse = utkast.begrunnelse || '';\n\n\treturn (\n\t\t<div className=\"skjema-grid les-utkast-skjema\">\n\t\t\t<div className=\"kilder-felt\">\n\t\t\t\t<FeltHeader tittel=\"Kilder\" />\n\t\t\t\t<ul className=\"kilder-felt__liste\">\n\t\t\t\t\t{opplysninger.map((opplysning, idx) => {\n\t\t\t\t\t\treturn <li key={idx}>{opplysning}</li>;\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div className=\"begrunnelse-felt\">\n\t\t\t\t<FeltHeader\n\t\t\t\t\ttittel=\"Begrunnelse\"\n\t\t\t\t\teksternLenke=\"https://navno.sharepoint.com/sites/fag-og-ytelser-arbeid-arbeidsrettet-brukeroppfolging/SitePages/Oppdaterte-retningslinjer-for.aspx\"\n\t\t\t\t/>\n\t\t\t\t<Tekstomrade className=\"blokk-s\">{begrunnelse}</Tekstomrade>\n\t\t\t\t<Normaltekst className=\"begrunnelse-felt__antall-tegn\">\n\t\t\t\t\t<span>{'Brukers målform: ' + malformToTekst(malform)}</span>\n\t\t\t\t\t<span className=\"span-right\"> {'Antall tegn: ' + begrunnelse.length}</span>\n\t\t\t\t</Normaltekst>\n\t\t\t</div>\n\n\t\t\t<div className=\"innsatsgruppe-felt\">\n\t\t\t\t<FeltHeader tittel=\"Innsatsgruppe\" />\n\t\t\t\t<Normaltekst className=\"text--grey\">\n\t\t\t\t\t{innsatsgruppe && getInnsatsgruppeTekst(innsatsgruppe).tittel}\n\t\t\t\t</Normaltekst>\n\t\t\t</div>\n\n\t\t\t<div className=\"hovedmal-felt\">\n\t\t\t\t<FeltHeader tittel=\"Hovedmål\" />\n\t\t\t\t<Normaltekst className=\"text--grey\">{getHovedmalNavn(hovedmal)}</Normaltekst>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","export default __webpack_public_path__ + \"static/media/dialog-msg.a4d77157.svg\";","export default __webpack_public_path__ + \"static/media/dialog-new-msg.e5d32364.svg\";","import React from 'react';\nimport dialogMsgBilde from './dialog-msg.svg';\nimport dialogNewMsgBilde from './dialog-new-msg.svg';\nimport './dialog-section-minified.less';\nimport { useDialogSection } from '../../../store/dialog-section-store';\n\nexport function DialogSectionMinified() {\n\tconst { harNyeMeldinger } = useDialogSection();\n\n\tlet bilde;\n\tlet bildeAlt;\n\n\tif (harNyeMeldinger) {\n\t\tbilde = dialogNewMsgBilde;\n\t\tbildeAlt = 'Du har en eller flere nye meldinger';\n\t} else {\n\t\tbilde = dialogMsgBilde;\n\t\tbildeAlt = 'Du har ingen nye meldinger';\n\t}\n\n\treturn (\n\t\t<div className=\"dialog-section-minified\">\n\t\t\t<img src={bilde} alt={bildeAlt} className=\"dialog-section-minified__dialog-img\" />\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { DialogToggleBtn } from './dialog-toggle-btn';\n\nexport function DialogSectionHeaderMinified() {\n\treturn (\n\t\t<div className=\"dialog-section-header-minified\">\n\t\t\t<DialogToggleBtn />\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport './screen-reader-speak.less';\n\nexport function ScreenReaderSpeak(props: { tekst: string }) {\n\treturn (\n\t\t<div className=\"sr-only\" role=\"alert\">\n\t\t\t{props.tekst}\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useRef } from 'react';\nimport cls from 'classnames';\nimport { UtkastFooter } from './footer/utkast-footer';\nimport SkjemaHeader from './skjema-section/header/skjema-header';\nimport { DialogSectionHeader } from './dialog-section/dialog-section-header';\nimport { DialogSection } from './dialog-section/dialog-section';\nimport { EndreSkjemaSection } from './skjema-section/endre-skjema-section';\nimport { LesSkjemaSection } from './skjema-section/les-skjema-section';\nimport './utkast-side.less';\nimport { useDataStore } from '../../store/data-store';\nimport { useTilgangStore } from '../../store/tilgang-store';\nimport { useSkjemaStore } from '../../store/skjema-store';\nimport { useDialogSection } from '../../store/dialog-section-store';\nimport { hentId, makeAbsoluteHeightStyle } from '../../util';\nimport Show from '../../component/show';\nimport { hentMeldinger } from '../../api/veilarbvedtaksstotte/meldinger';\nimport { SKRU_AV_POLLING_DIALOG } from '../../api/veilarbpersonflatefs';\nimport { DialogSectionMinified } from './dialog-section-minified/dialog-section-minified';\nimport { DialogSectionHeaderMinified } from './dialog-section-minified/dialog-section-header-minified';\nimport { trengerKvalitetssikrer } from '../../util/skjema-utils';\nimport { ScreenReaderSpeak } from '../../component/screen-reader-speak/screen-reader-speak';\n\nconst FOOTER_HEIGHT = 72;\nconst TEN_SECONDS = 10000;\n\nfunction calculateDialogSectionHeight(): number | undefined {\n\tconst elem = document.getElementsByClassName('utkast-side__dialog-section')[0];\n\tif (elem) {\n\t\tconst top = elem.getBoundingClientRect().top;\n\t\tconst height = document.body.clientHeight;\n\n\t\treturn height - top - FOOTER_HEIGHT;\n\t}\n\n\treturn undefined;\n}\n\nexport function UtkastSide() {\n\tconst { utkast, meldinger, setMeldinger, features } = useDataStore();\n\tconst { sistOppdatert, lagringStatus, setHarForsoktAForhandsvise, innsatsgruppe } = useSkjemaStore();\n\tconst {\n\t\tsectionHeight,\n\t\tsetSectionHeight,\n\t\tshowSection,\n\t\tsetShowSection,\n\t\tharLastetMeldinger,\n\t\tsetHarLastetMeldinger,\n\t\tsetHarNyeMeldinger\n\t} = useDialogSection();\n\tconst { erAnsvarligVeileder } = useTilgangStore();\n\n\t// Bruk refs for å hente oppdatert data i refreshMeldinger()\n\tconst showSectionRef = useRef(showSection);\n\tconst harLastetMeldingerRef = useRef(harLastetMeldinger);\n\tconst meldingerRef = useRef(meldinger);\n\tconst intervalRef = useRef<number>();\n\tconst erBeslutterProsessStartet = !!utkast?.beslutterProsessStatus;\n\tconst sisteOppdatering = sistOppdatert || utkast!.utkastSistOppdatert;\n\tconst utkastSkjema = erAnsvarligVeileder ? <EndreSkjemaSection /> : <LesSkjemaSection />;\n\tconst dialogSectionStyle = sectionHeight ? makeAbsoluteHeightStyle(sectionHeight) : undefined;\n\tconst hovedinnholdClassName = showSection\n\t\t? 'utkast-side__hovedinnhold--dialog'\n\t\t: 'utkast-side__hovedinnhold--dialog-minified';\n\n\tfunction avbrytPolling() {\n\t\tif (intervalRef.current) {\n\t\t\tclearInterval(intervalRef.current);\n\t\t\tintervalRef.current = undefined;\n\t\t}\n\t}\n\n\tfunction refreshMeldinger() {\n\t\thentMeldinger(hentId(utkast))\n\t\t\t.then(response => {\n\t\t\t\tconst nyeMeldinger = response.data;\n\n\t\t\t\tif (nyeMeldinger) {\n\t\t\t\t\tconst harNyeMeldingerSomIkkeErLest =\n\t\t\t\t\t\t!showSectionRef.current &&\n\t\t\t\t\t\tharLastetMeldingerRef.current &&\n\t\t\t\t\t\tnyeMeldinger.length > meldingerRef.current.length;\n\n\t\t\t\t\tif (harNyeMeldingerSomIkkeErLest) {\n\t\t\t\t\t\tsetHarNyeMeldinger(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetMeldinger(nyeMeldinger);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// backend svarer med status 400 dersom man poller på meldinger for vedtak som er fattet\n\t\t\t\tavbrytPolling();\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tsetHarLastetMeldinger(true);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tshowSectionRef.current = showSection;\n\t\tharLastetMeldingerRef.current = harLastetMeldinger;\n\t\tmeldingerRef.current = meldinger;\n\t}, [showSection, harLastetMeldinger, meldinger]);\n\n\tuseEffect(() => {\n\t\tif (showSection) {\n\t\t\tsetHarNyeMeldinger(false);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [showSection]);\n\n\tuseEffect(() => {\n\t\tconst scrollListener = () => setSectionHeight(calculateDialogSectionHeight());\n\n\t\tif (showSection) {\n\t\t\twindow.addEventListener('scroll', scrollListener);\n\t\t\tsetSectionHeight(calculateDialogSectionHeight());\n\t\t}\n\n\t\treturn () => window.removeEventListener('scroll', scrollListener);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [showSection]);\n\n\tuseEffect(() => {\n\t\t// Hvis utkastet har beslutter så henter vi meldinger periodisk for å simulere real-time kommunikasjon\n\t\tif (erBeslutterProsessStartet) {\n\t\t\trefreshMeldinger();\n\n\t\t\t// Start polling of new dialogs\n\t\t\tif (!features[SKRU_AV_POLLING_DIALOG] && intervalRef.current === undefined) {\n\t\t\t\tintervalRef.current = window.setInterval(refreshMeldinger, TEN_SECONDS);\n\t\t\t}\n\n\t\t\treturn () => {\n\t\t\t\tavbrytPolling();\n\t\t\t};\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [erBeslutterProsessStartet]);\n\n\tuseEffect(() => {\n\t\t// Nullstill forsøk på forhåndsvisning hvis man har vært inne på utkastet og forhåndsvist før\n\t\tsetHarForsoktAForhandsvise(false);\n\t\tsetHarLastetMeldinger(false);\n\n\t\t// Vis dialog seksjon når man går inn på et utkast som trenger beslutter\n\n\t\tif (showSection == null) {\n\t\t\tsetShowSection(trengerKvalitetssikrer(innsatsgruppe));\n\t\t}\n\n\t\t// Hent meldinger når utkast vises\n\t\trefreshMeldinger();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<div className=\"utkast-side\">\n\t\t\t<div className={cls('utkast-side__hovedinnhold', hovedinnholdClassName)}>\n\t\t\t\t<div className=\"utkast-side__skjema-section\">\n\t\t\t\t\t<SkjemaHeader\n\t\t\t\t\t\tveilederNavn={utkast!.veilederNavn}\n\t\t\t\t\t\tsistOppdatert={sisteOppdatering}\n\t\t\t\t\t\tskjemaLagringStatus={lagringStatus}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"utkast-side__skjema-section-innhold\">{utkastSkjema}</div>\n\t\t\t\t</div>\n\t\t\t\t<div style={dialogSectionStyle} className=\"utkast-side__dialog-section\">\n\t\t\t\t\t<Show if={showSection}>\n\t\t\t\t\t\t<DialogSectionHeader beslutterNavn={utkast?.beslutterNavn} />\n\t\t\t\t\t\t<DialogSection />\n\t\t\t\t\t\t<ScreenReaderSpeak tekst=\"Dialog og kvalitetssikring seksjon åpen\" />\n\t\t\t\t\t</Show>\n\n\t\t\t\t\t<Show if={!showSection}>\n\t\t\t\t\t\t<DialogSectionHeaderMinified />\n\t\t\t\t\t\t<DialogSectionMinified />\n\t\t\t\t\t\t<ScreenReaderSpeak tekst=\"Dialog og kvalitetssikring seksjon lukket\" />\n\t\t\t\t\t</Show>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<UtkastFooter />\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { Hovedside } from '../page/hovedside/hovedside';\nimport { VedtakskjemaVisningSide } from '../page/vedtakskjema-visning/vedtakskjema-visning-side';\nimport { Forhandsvisning } from '../page/forhandsvisning/forhandsvisning';\nimport { useViewStore, ViewType } from '../store/view-store';\nimport { OyblikksbildeVisning } from '../page/oyblikksbilde-visning/oyblikksbilde-visning';\nimport { ArenaVedtaksbrevVisning, VedtaksbrevVisning } from '../page/vedtaksbrev-visning/vedtaksbrev-visning';\nimport { UtkastSide } from '../page/utkast/utkast-side';\n\nexport function ViewController() {\n\tconst { view, viewProps } = useViewStore();\n\tconst { vedtakId, dokumentInfoId, journalpostId } = viewProps;\n\n\tswitch (view) {\n\t\tcase ViewType.HOVEDSIDE:\n\t\t\treturn <Hovedside />;\n\t\tcase ViewType.UTKAST:\n\t\t\treturn <UtkastSide />;\n\t\tcase ViewType.FORHANDSVISNING:\n\t\t\treturn <Forhandsvisning />;\n\t\tcase ViewType.VEDTAK:\n\t\t\treturn <VedtakskjemaVisningSide vedtakId={vedtakId} />;\n\t\tcase ViewType.OYBLIKKSBILDE_VISNING:\n\t\t\treturn <OyblikksbildeVisning vedtakId={vedtakId} />;\n\t\tcase ViewType.VEDTAK_PDF:\n\t\t\treturn <VedtaksbrevVisning vedtakId={vedtakId} />;\n\t\tcase ViewType.ARENA_VEDTAK_PDF:\n\t\t\treturn <ArenaVedtaksbrevVisning dokumentInfoId={dokumentInfoId} journalpostId={journalpostId} />;\n\t\tdefault:\n\t\t\treturn <Hovedside />;\n\t}\n}\n","import TilgangTilBrukersKontor from '../util/type/tilgang-til-brukers-kontor';\nimport { AxiosPromise } from 'axios';\nimport { axiosInstance } from './utils';\n\nexport default interface OppfolgingData {\n\treservasjonKRR: boolean;\n\tunderOppfolging: boolean;\n\tinaktivIArena: boolean;\n}\n\nexport function fetchOppfolging(fnr: string): AxiosPromise<OppfolgingData> {\n\treturn axiosInstance.get(`/veilarboppfolging/api/oppfolging?fnr=${fnr}`);\n}\n\nexport function fetchTilgangTilBrukersKontor(fnr: string): AxiosPromise<TilgangTilBrukersKontor> {\n\treturn axiosInstance.get(`/veilarboppfolging/api/oppfolging/veilederTilgang?fnr=${fnr}`);\n}\n","import { AxiosPromise } from 'axios';\nimport { axiosInstance } from './utils';\n\nexport interface Veileder {\n\tfornavn: string;\n\tetternavn: string;\n\tnavn: string;\n\tident: string;\n}\n\nexport function fetchInnloggetVeileder(): AxiosPromise<Veileder> {\n\treturn axiosInstance.get(`/veilarbveileder/api/veileder/me`);\n}\n","import React, { useEffect } from 'react';\nimport { AlertStripeFeil } from 'nav-frontend-alertstriper';\nimport Spinner from './spinner/spinner';\nimport { useDataStore } from '../store/data-store';\nimport { useSkjemaStore } from '../store/skjema-store';\nimport { finnVeilederTilgang } from '../util/tilgang';\nimport { useTilgangStore } from '../store/tilgang-store';\nimport { useAxiosFetcher } from '../util/use-axios-fetcher';\nimport { hentArenaVedtak, hentFattedeVedtak } from '../api/veilarbvedtaksstotte/vedtak';\nimport { fetchOppfolging } from '../api/veilarboppfolging';\nimport { fetchMalform } from '../api/veilarbperson';\nimport { fetchUtkast } from '../api/veilarbvedtaksstotte/utkast';\nimport { fetchInnloggetVeileder } from '../api/veilarbveileder';\nimport { ifResponseHasData, hasAnyFailed, isAnyLoadingOrNotStarted } from '../api/utils';\n\nexport function DataFetcher(props: { fnr: string; children: any }) {\n\tconst { initSkjema } = useSkjemaStore();\n\tconst { setFattedeVedtak, setOppfolgingData, setMalform, setUtkast, setInnloggetVeileder, setArenaVedtak } =\n\t\tuseDataStore();\n\tconst { setVeilederTilgang } = useTilgangStore();\n\n\tconst fattedeVedtakFetcher = useAxiosFetcher(hentFattedeVedtak);\n\tconst oppfolgingFetcher = useAxiosFetcher(fetchOppfolging);\n\tconst malformFetcher = useAxiosFetcher(fetchMalform);\n\tconst utkastFetcher = useAxiosFetcher(fetchUtkast);\n\tconst innloggetVeilederFetcher = useAxiosFetcher(fetchInnloggetVeileder);\n\tconst arenaVedtakFetcher = useAxiosFetcher(hentArenaVedtak);\n\n\tuseEffect(() => {\n\t\tfattedeVedtakFetcher.fetch(props.fnr).then(ifResponseHasData(setFattedeVedtak)).catch();\n\n\t\toppfolgingFetcher.fetch(props.fnr).then(ifResponseHasData(setOppfolgingData)).catch();\n\n\t\tmalformFetcher.fetch(props.fnr).then(ifResponseHasData(setMalform)).catch();\n\n\t\tutkastFetcher\n\t\t\t.fetch(props.fnr)\n\t\t\t.then(\n\t\t\t\tifResponseHasData(utkast => {\n\t\t\t\t\tsetUtkast(utkast);\n\t\t\t\t\tinitSkjema(utkast);\n\t\t\t\t})\n\t\t\t)\n\t\t\t.catch();\n\n\t\tinnloggetVeilederFetcher.fetch().then(ifResponseHasData(setInnloggetVeileder)).catch();\n\n\t\tarenaVedtakFetcher.fetch(props.fnr).then(ifResponseHasData(setArenaVedtak)).catch();\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (innloggetVeilederFetcher.data && !utkastFetcher.loading) {\n\t\t\tsetVeilederTilgang(finnVeilederTilgang(innloggetVeilederFetcher.data, utkastFetcher.data));\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [innloggetVeilederFetcher, utkastFetcher]);\n\n\tif (\n\t\tisAnyLoadingOrNotStarted(\n\t\t\tfattedeVedtakFetcher,\n\t\t\toppfolgingFetcher,\n\t\t\tmalformFetcher,\n\t\t\tutkastFetcher,\n\t\t\tinnloggetVeilederFetcher,\n\t\t\tarenaVedtakFetcher\n\t\t)\n\t) {\n\t\treturn <Spinner />;\n\t} else if (\n\t\thasAnyFailed(\n\t\t\tfattedeVedtakFetcher,\n\t\t\toppfolgingFetcher,\n\t\t\tmalformFetcher,\n\t\t\tinnloggetVeilederFetcher,\n\t\t\tarenaVedtakFetcher\n\t\t) ||\n\t\t(utkastFetcher.error && utkastFetcher.error.response?.status !== 404) // API gir 404 dersom utkast ikke eksisterer\n\t) {\n\t\treturn (\n\t\t\t<AlertStripeFeil className=\"vedtaksstotte-alert\">\n\t\t\t\tDet oppnås for tiden ikke kontakt med alle baksystemer. Vi jobber med å løse saken. Vennligst prøv igjen\n\t\t\t\tsenere.\n\t\t\t</AlertStripeFeil>\n\t\t);\n\t}\n\n\treturn props.children;\n}\n","export default __webpack_public_path__ + \"static/media/prelansering.6b99c24e.png\";","import React from 'react';\nimport Card from '../../component/card/card';\nimport { Innholdstittel, Normaltekst } from 'nav-frontend-typografi';\nimport prelanseringBilde from './prelansering.png';\n\nconst PrelanseringInfo = () => (\n\t<Card className=\"prelansering\">\n\t\t<div>\n\t\t\t<Innholdstittel>Her kommer ny løsning for</Innholdstittel>\n\t\t\t<Innholdstittel className=\"prelansering__tittel\">behovs- og arbeidsevnevurdering</Innholdstittel>\n\t\t\t<Normaltekst className=\"prelansering__tekst1\">\n\t\t\t\tVi slår sammen oppfølgingsvedtaket (§14 a) og arbeidsevnevurderingen i en samlet løsning. Det betyr at\n\t\t\t\tfor de av brukerne som skal ha en arbeidsevnevurdering, skrives denne i begrunnelsesfeltet i\n\t\t\t\toppfølgingsvedtaket.\n\t\t\t</Normaltekst>\n\t\t\t<Normaltekst className=\"prelansering__tekst2\">\n\t\t\t\tNår den nye løsningen kommer skal vi ikke lenger skrive det tidligere arbeidsevnevurderingsdokumentet i\n\t\t\t\tArena, og vi skal heller ikke fatte oppfølgingsvedtaket i Arena.\n\t\t\t</Normaltekst>\n\t\t</div>\n\t\t<img src={prelanseringBilde} className=\"prelansering__bilde\" alt=\"Visning av ny løsning for vedtaksstøtte\" />\n\t</Card>\n);\n\nexport default PrelanseringInfo;\n","export default __webpack_public_path__ + \"static/media/svaert_bra.d721b94c.svg\";","export default __webpack_public_path__ + \"static/media/svaert_darlig.23639b9f.svg\";","import React from 'react';\nimport cls from 'classnames';\nimport './image-button.less';\n\ninterface ImageButtonProps extends React.HTMLProps<HTMLButtonElement> {\n\tsrc: string;\n\talt: string;\n\tonClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\n\tclassName?: string;\n\timgClassName?: string;\n}\n\nfunction ImageButton(props: ImageButtonProps) {\n\tconst { src, alt, onClick, className, imgClassName, type, ...rest } = props;\n\treturn (\n\t\t<button type=\"button\" className={cls(className, 'image-button')} onClick={onClick} {...rest}>\n\t\t\t<img src={src} alt={alt} className={imgClassName} />\n\t\t</button>\n\t);\n}\n\nexport default ImageButton;\n","import React, { useState } from 'react';\nimport Ekspanderbartpanel from 'nav-frontend-ekspanderbartpanel';\nimport { Undertittel } from 'nav-frontend-typografi';\nimport svaertBraBilde from './svaert_bra.svg';\nimport svaertDarligBilde from './svaert_darlig.svg';\nimport ImageButton from '../../../component/image-button/image-button';\nimport './tilbakemelding-ekspanderbartpanel.less';\nimport { logMetrikk } from '../../../util/logger';\n\ninterface TilbakemeldingEkspanderbartpanelProps {\n\ttittel: string;\n\tbilde: string;\n\ttilbakemeldingTag?: string;\n\tchildren?: React.ReactNode;\n}\n\nexport type TilbakemeldingValg = 'JA' | 'NEI';\n\nconst LOCAL_STORAGE_PREFIX = 'prelansering_tilbakemelding_';\n\nfunction TilbakemeldingEkspanderbartpanel(props: TilbakemeldingEkspanderbartpanelProps) {\n\tconst localStorageName = LOCAL_STORAGE_PREFIX + props.tilbakemeldingTag;\n\tconst harSendtTilbakemeldingTidligere = localStorage.getItem(localStorageName) != null;\n\tconst [visTilbakemelding, setVisTilbakemelding] = useState(!harSendtTilbakemeldingTidligere);\n\n\tconst handleTilbakemeldingValgClicked = (valg: TilbakemeldingValg) => {\n\t\tlocalStorage.setItem(localStorageName, 'true');\n\t\tsetVisTilbakemelding(false);\n\t\tlogMetrikk('tilbakemeldinger.info-om-ny-losning', {\n\t\t\ttag: props.tilbakemeldingTag,\n\t\t\tvalg\n\t\t});\n\t};\n\n\tconst Heading = () => (\n\t\t<div className=\"tilbakemelding-ekspanderbartpanel__heading\">\n\t\t\t<img src={props.bilde} alt=\"Illustrasjon\" className=\"tilbakemelding-ekspanderbartpanel__bilde\" />\n\t\t\t<Undertittel className=\"ekspanderbartPanel__heading\">{props.tittel}</Undertittel>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<Ekspanderbartpanel tittel={<Heading />} border={true}>\n\t\t\t<div className=\"tilbakemelding-ekspanderbartpanel__innhold\">\n\t\t\t\t{props.children}\n\t\t\t\t{visTilbakemelding && (\n\t\t\t\t\t<div className=\"tilbakemelding-ekspanderbartpanel__tilbakemelding\">\n\t\t\t\t\t\t<Undertittel tag=\"h3\">Var dette nyttig?</Undertittel>\n\t\t\t\t\t\t<div className=\"tilbakemelding-ekspanderbartpanel__tilbakemelding--valg-wrapper\">\n\t\t\t\t\t\t\t<ImageButton\n\t\t\t\t\t\t\t\tsrc={svaertBraBilde}\n\t\t\t\t\t\t\t\talt=\"Ja\"\n\t\t\t\t\t\t\t\tonClick={() => handleTilbakemeldingValgClicked('JA')}\n\t\t\t\t\t\t\t\timgClassName=\"tilbakemelding-ekspanderbartpanel__tilbakemelding--valg\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ImageButton\n\t\t\t\t\t\t\t\tsrc={svaertDarligBilde}\n\t\t\t\t\t\t\t\talt=\"Nei\"\n\t\t\t\t\t\t\t\tonClick={() => handleTilbakemeldingValgClicked('NEI')}\n\t\t\t\t\t\t\t\timgClassName=\"tilbakemelding-ekspanderbartpanel__tilbakemelding--valg\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Ekspanderbartpanel>\n\t);\n}\n\nexport default TilbakemeldingEkspanderbartpanel;\n","export default __webpack_public_path__ + \"static/media/beslutterfunksjon.6051ea8a.svg\";","export default __webpack_public_path__ + \"static/media/hjelpesporsmal.491a643f.svg\";","export default __webpack_public_path__ + \"static/media/klagebehandling.d3ebf721.svg\";","export default __webpack_public_path__ + \"static/media/mellomlagre.638bda9b.svg\";","export default __webpack_public_path__ + \"static/media/synlighet-til-bruker.8ea48293.svg\";","import React from 'react';\nimport { Innholdstittel } from 'nav-frontend-typografi';\nimport TilbakemeldingEkspanderbartpanel from '../tilbakemelding-ekspanderbartpanel/tilbakemelding-ekspanderbartpanel';\nimport beslutterFunksjonBilde from './beslutterfunksjon.svg';\nimport hjelpesporsmalBilde from './hjelpesporsmal.svg';\nimport klagebehandlingBilde from './klagebehandling.svg';\nimport mellomlagreBilde from './mellomlagre.svg';\nimport synlighetTilBrukerBilde from './synlighet-til-bruker.svg';\n\n// tslint:disable max-line-length\n\nexport function LosningInfo() {\n\treturn (\n\t\t<section className=\"losning-info\">\n\t\t\t<Innholdstittel className=\"losning-info__tittel\">5 kjappe om den nye løsningen</Innholdstittel>\n\t\t\t<div className=\"losning-info__paneler\">\n\t\t\t\t<TilbakemeldingEkspanderbartpanel\n\t\t\t\t\ttittel=\"Vil det være en beslutterfunksjon?\"\n\t\t\t\t\ttilbakemeldingTag=\"beslutterfunksjon\"\n\t\t\t\t\tbilde={beslutterFunksjonBilde}\n\t\t\t\t>\n\t\t\t\t\tBeslutterfunksjonen vil fortsatt eksistere. Det er ikke endringer i selve rutinen knyttet til\n\t\t\t\t\tbeslutterfunksjonen. Beslutterordningen på 11-5 i Arena vil fortsatt bestå. Oppdatert rutine kommer\n\t\t\t\t\tpå Navet så snart den er klar.\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\tMed den nye vedtakstøtten blir forskjellen sammenliknet med gammel løsning at veiledere og\n\t\t\t\t\tbesluttere ikke skal sende Arena-oppgave seg imellom for å kommunisere.\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\tVeilederen skal i stedet opprette en Gosys-oppgave og sende den til beslutteren for de\n\t\t\t\t\tinnsatsgruppene som krever at beslutter kvalitetssikrer (AEV).\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\tDet vil være veilederen som sender ut 14a-vedtaket når saken er godkjent.\n\t\t\t\t</TilbakemeldingEkspanderbartpanel>\n\t\t\t\t<TilbakemeldingEkspanderbartpanel\n\t\t\t\t\ttittel=\"Kan vi mellomlagre?\"\n\t\t\t\t\ttilbakemeldingTag=\"mellomlagring\"\n\t\t\t\t\tbilde={mellomlagreBilde}\n\t\t\t\t>\n\t\t\t\t\tTeksten lagres automatisk mens du skriver vedtaket, slik at du ikke mister noe dersom det oppstår en\n\t\t\t\t\tteknisk feil. Det blir også mulig å mellomlagre, slik at du kan gå inn og ut av vedtaket du jobber\n\t\t\t\t\tmed.\n\t\t\t\t</TilbakemeldingEkspanderbartpanel>\n\t\t\t\t<TilbakemeldingEkspanderbartpanel\n\t\t\t\t\ttittel=\"Vil løsningen være synlig og lik for bruker?\"\n\t\t\t\t\ttilbakemeldingTag=\"synlig_for_bruker\"\n\t\t\t\t\tbilde={synlighetTilBrukerBilde}\n\t\t\t\t>\n\t\t\t\t\tLøsningen vil bare være synlig for veilederen, ikke for brukeren. I Modia fatter veilederen\n\t\t\t\t\t14a-vedtaket og skriver AEV. Det sendes automatisk et brev til brukeren når vedtaket er fattet.\n\t\t\t\t</TilbakemeldingEkspanderbartpanel>\n\t\t\t\t<TilbakemeldingEkspanderbartpanel\n\t\t\t\t\ttittel=\"Hva skjer med 11-5 vedtak og klagesaksbehandling i Arena?\"\n\t\t\t\t\ttilbakemeldingTag=\"11-5_og_klagesaksbehandling\"\n\t\t\t\t\tbilde={klagebehandlingBilde}\n\t\t\t\t>\n\t\t\t\t\tVi skal ikke lenger bruke Arena til å fatte 14a-vedtaket og skrive AEV. Øvrige\n\t\t\t\t\tsaksbehandlingsprosesser i Arena består inntil videre.\n\t\t\t\t</TilbakemeldingEkspanderbartpanel>\n\t\t\t\t<TilbakemeldingEkspanderbartpanel\n\t\t\t\t\ttittel=\"Vil det være hjelpespørsmål til arbeidsevnevurderingen, slik at veilederen vet hva vurderingen skal inneholde? \"\n\t\t\t\t\ttilbakemeldingTag=\"hjelpesporsmal\"\n\t\t\t\t\tbilde={hjelpesporsmalBilde}\n\t\t\t\t>\n\t\t\t\t\tLøsningen vil ha veiledende hjelpespørsmål som ligger ved siden av boksen for begrunnelsesfeltet.\n\t\t\t\t</TilbakemeldingEkspanderbartpanel>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n","import React from 'react';\nimport Page from '../../component/page/page';\nimport PrelanseringInfo from './prelansering-info';\nimport { LosningInfo } from './losning-info/losning-info';\nimport { useDataStore } from '../../store/data-store';\nimport './prelansering.less';\nimport { PRELANSERING_INFO_OM_LOSNING_TOGGLE } from '../../api/veilarbpersonflatefs';\n\nexport function Prelansering() {\n\tconst { features } = useDataStore();\n\n\treturn (\n\t\t<Page>\n\t\t\t<PrelanseringInfo />\n\t\t\t{features[PRELANSERING_INFO_OM_LOSNING_TOGGLE] && <LosningInfo />}\n\t\t</Page>\n\t);\n}\n","import { AxiosPromise } from 'axios';\nimport { axiosInstance } from '../utils';\nimport { VEILARBVEDTAKSSTOTTE_API } from './index';\n\nexport function fetchTilhorerBrukerUtrulletEnhet(fnr: string): AxiosPromise<boolean> {\n\treturn axiosInstance.get(`${VEILARBVEDTAKSSTOTTE_API}/utrulling/tilhorerBrukerUtrulletKontor?fnr=${fnr}`);\n}\n","import React, { PropsWithChildren, useLayoutEffect } from 'react';\nimport { Prelansering } from '../../page/prelansering/prelansering';\nimport Spinner from '../spinner/spinner';\nimport { AlertStripeFeil } from 'nav-frontend-alertstriper';\nimport { useAxiosFetcher } from '../../util/use-axios-fetcher';\nimport { fetchTilhorerBrukerUtrulletEnhet } from '../../api/veilarbvedtaksstotte/utrulling';\nimport { useAppStore } from '../../store/app-store';\n\n// NB! Henting av features og populering i data store hook må flyttes til data-fetcher.tsx når denne komponenten skal fjernes\nexport function PrelanseringSjekk(props: PropsWithChildren<any>) {\n\tconst { fnr } = useAppStore();\n\tconst tilhorerBrukerUtrulletEnhetFetcher = useAxiosFetcher(fetchTilhorerBrukerUtrulletEnhet);\n\n\t// Siden loading = false før vi kaller fetch så vil children bli rendret et par ms med useEffect()\n\tuseLayoutEffect(() => {\n\t\ttilhorerBrukerUtrulletEnhetFetcher.fetch(fnr).catch();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [fnr]);\n\n\tif (tilhorerBrukerUtrulletEnhetFetcher.loading) {\n\t\treturn <Spinner />;\n\t} else if (tilhorerBrukerUtrulletEnhetFetcher.error) {\n\t\treturn (\n\t\t\t<AlertStripeFeil className=\"vedtaksstotte-alert\">\n\t\t\t\tDet oppnås for tiden ikke kontakt med alle baksystemer. Vi jobber med å løse saken. Vennligst prøv igjen\n\t\t\t\tsenere.\n\t\t\t</AlertStripeFeil>\n\t\t);\n\t}\n\n\treturn tilhorerBrukerUtrulletEnhetFetcher.data ? props.children : <Prelansering />;\n}\n","import React, { useLayoutEffect } from 'react';\nimport { AlertStripeAdvarsel, AlertStripeFeil } from 'nav-frontend-alertstriper';\nimport Spinner from '../spinner/spinner';\nimport { useAxiosFetcher } from '../../util/use-axios-fetcher';\nimport { fetchTilgangTilBrukersKontor } from '../../api/veilarboppfolging';\n\ninterface NasjonalTilgangSjekkProps {\n\tfnr: string;\n\tchildren?: any;\n}\n\nexport function NasjonalTilgangSjekk(props: NasjonalTilgangSjekkProps) {\n\tconst tilgangTilKontorFetcher = useAxiosFetcher(fetchTilgangTilBrukersKontor);\n\n\t// Siden loading = false før vi kaller fetch så vil advarsel alertstripen bli rendret et par ms med useEffect()\n\tuseLayoutEffect(() => {\n\t\ttilgangTilKontorFetcher.fetch(props.fnr).catch();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tif (tilgangTilKontorFetcher.loading) {\n\t\treturn <Spinner />;\n\t} else if (tilgangTilKontorFetcher.error) {\n\t\treturn <AlertStripeFeil className=\"vedtaksstotte-alert\">Noe gikk galt, prøv igjen</AlertStripeFeil>;\n\t} else if (!tilgangTilKontorFetcher.data?.tilgangTilBrukersKontor) {\n\t\treturn (\n\t\t\t<AlertStripeAdvarsel className=\"vedtaksstotte-alert\">\n\t\t\t\tDu har ikke tilgang til å se brukers oppfølgingsvedtak.\n\t\t\t</AlertStripeAdvarsel>\n\t\t);\n\t}\n\n\treturn props.children;\n}\n","import React from 'react';\nimport { AppStoreProvider } from './app-store';\nimport { DataStoreProvider } from './data-store';\nimport { ViewStoreProvider } from './view-store';\nimport { ModalStoreProvider } from './modal-store';\nimport { SkjemaStoreProvider } from './skjema-store';\nimport { TilgangStoreProvider } from './tilgang-store';\nimport { VarselStoreProvider } from './varsel-store';\nimport { DialogSectionProvider } from './dialog-section-store';\n\ninterface StoreProviderProps {\n\tfnr: string;\n\tenhetId?: string;\n\tchildren: React.ReactNode;\n}\n\nconst StoreProvider = (props: StoreProviderProps) => {\n\treturn (\n\t\t<AppStoreProvider fnr={props.fnr} enhetId={props.enhetId}>\n\t\t\t<DataStoreProvider>\n\t\t\t\t<TilgangStoreProvider>\n\t\t\t\t\t<ViewStoreProvider>\n\t\t\t\t\t\t<ModalStoreProvider>\n\t\t\t\t\t\t\t<VarselStoreProvider>\n\t\t\t\t\t\t\t\t<DialogSectionProvider>\n\t\t\t\t\t\t\t\t\t<SkjemaStoreProvider>{props.children}</SkjemaStoreProvider>\n\t\t\t\t\t\t\t\t</DialogSectionProvider>\n\t\t\t\t\t\t\t</VarselStoreProvider>\n\t\t\t\t\t\t</ModalStoreProvider>\n\t\t\t\t\t</ViewStoreProvider>\n\t\t\t\t</TilgangStoreProvider>\n\t\t\t</DataStoreProvider>\n\t\t</AppStoreProvider>\n\t);\n};\n\nexport default StoreProvider;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFeilSirkel(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 64,\n    width: 64,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.999 0C5.395 0 .013 5.372 0 11.976a11.923 11.923 0 003.498 8.493A11.925 11.925 0 0011.977 24H12c6.603 0 11.986-5.373 12-11.978C24.013 5.406 18.64.012 11.999 0z\",\n    fill: \"#A13A28\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 10.651l3.372-3.372a.954.954 0 111.349 1.35L13.349 12l3.372 3.372a.954.954 0 11-1.35 1.349L12 13.349 8.628 16.72a.954.954 0 11-1.349-1.35L10.651 12 7.28 8.628A.954.954 0 118.63 7.28L12 10.651z\",\n    fill: \"#FFF\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFeilSirkel);\nexport default __webpack_public_path__ + \"static/media/feil-sirkel.f82e600d.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgAdvarselSirkel(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 64,\n    width: 64,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.205-.004l-.214.002a12.225 12.225 0 00-8.517 3.659C1.179 5.977-.053 9.013.002 12.208c.115 6.613 5.296 11.793 11.795 11.793l.212-.002c6.726-.116 12.105-5.595 11.99-12.21C23.883 5.178 18.702-.003 12.204-.003z\",\n    fill: \"#FFA733\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.027 19H12a1.499 1.499 0 01-.027-3H12a1.501 1.501 0 01.027 3z\",\n    fill: \"#3E3832\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 5a1 1 0 011 1v7a1 1 0 01-2 0V6a1 1 0 011-1z\",\n    fill: \"#3E3832\",\n    fillRule: \"nonzero\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAdvarselSirkel);\nexport default __webpack_public_path__ + \"static/media/advarsel-sirkel.c6052968.svg\";\nexport { ForwardRef as ReactComponent };","var _style, _g, _g2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLasOpp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    x: 0,\n    y: 0,\n    viewBox: \"0 0 80 80\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _style || (_style = /*#__PURE__*/React.createElement(\"style\", null, \".st1{fill:#6ab889}\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Oval\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M40 3C19.6 3 3 19.6 3 40s16.6 37 37 37 37-16.6 37-37S60.4 3 40 3zm22.5 27c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-.9c-.2-1.3-.7-2.6-1.6-3.6-1.4-1.7-3.6-2.6-5.7-2.4-3 .3-5.5 2.8-5.8 6v4.8c2.6.1 4.7 2.3 4.7 4.9v12.6c0 2.7-2.2 4.9-4.9 4.9H31.9c-2.7 0-4.9-2.2-4.9-4.9V38.8c0-2.7 2.2-4.9 4.9-4.9h13.9V29c.4-4.1 3.6-7.3 7.5-7.7 2.7-.3 5.4.8 7.3 3a8.7 8.7 0 012 4.6V30z\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M40 0C17.9 0 0 17.9 0 40s17.9 40 40 40 40-17.9 40-40S62.1 0 40 0zm0 77C19.6 77 3 60.4 3 40S19.6 3 40 3s37 16.6 37 37-16.6 37-37 37z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group-6\",\n    transform: \"translate(27 22)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st1\",\n    d: \"M35.5 7v1c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-.9c-.2-1.3-.7-2.6-1.6-3.6-1.4-1.7-3.6-2.6-5.7-2.4-3 .3-5.5 2.8-5.8 6v4.8c2.6.1 4.7 2.3 4.7 4.9v12.6c0 2.7-2.2 4.9-4.9 4.9H4.9c-2.7 0-4.9-2.2-4.9-4.9V16.8c0-2.7 2.2-4.9 4.9-4.9h13.9V7c.4-4.1 3.6-7.3 7.5-7.7 2.7-.3 5.4.8 7.3 3a8.7 8.7 0 012 4.6l-.1.1z\",\n    id: \"Stroke-1\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLasOpp);\nexport default __webpack_public_path__ + \"static/media/las-opp.8b975dd6.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport cls from 'classnames';\nimport ModalWrapper from 'nav-frontend-modal';\nimport { ReactComponent as FeilSirkelIkon } from './feil-sirkel.svg';\nimport { ReactComponent as AdvarselSirkelIkon } from './advarsel-sirkel.svg';\nimport { ReactComponent as LasOppIkon } from './las-opp.svg';\nimport './varsel-modal.less';\nimport Show from '../../show';\n\nexport enum VarselIkonType {\n\tFEIL = 'FEIL',\n\tADVARSEL = 'ADVARSEL',\n\tLAS_OPP = 'LAS_OPP',\n\tINGEN = 'INGEN'\n}\n\ninterface VarselModalProps {\n\tcontentLabel: string;\n\tisOpen: boolean;\n\tonRequestClose: () => void;\n\tvarselIkonType: VarselIkonType;\n\tcloseTimeoutMS?: number;\n\tcloseButton?: boolean;\n\tshouldCloseOnOverlayClick?: boolean;\n\tclassName?: string;\n\tportalClassName?: string;\n}\n\nexport function VarselModal({\n\tcontentLabel,\n\tisOpen,\n\tonRequestClose,\n\tchildren,\n\tvarselIkonType,\n\tcloseTimeoutMS,\n\tcloseButton,\n\tshouldCloseOnOverlayClick,\n\tclassName,\n\tportalClassName\n}: React.PropsWithChildren<VarselModalProps>) {\n\tconst visVarselIkon = varselIkonType !== VarselIkonType.INGEN;\n\tconst innholdClassName = cls(\n\t\t'varsel-modal__innehold',\n\t\t{ 'varsel-modal__innehold--ingen-ikon': !visVarselIkon },\n\t\tclassName\n\t);\n\n\treturn (\n\t\t<ModalWrapper\n\t\t\tisOpen={isOpen}\n\t\t\tcontentLabel={contentLabel}\n\t\t\tonRequestClose={onRequestClose}\n\t\t\tcloseTimeoutMS={closeTimeoutMS}\n\t\t\tcloseButton={closeButton}\n\t\t\tportalClassName={cls('veilarbvedtaksstottefs-varsel-modal', portalClassName)}\n\t\t\tshouldCloseOnOverlayClick={shouldCloseOnOverlayClick}\n\t\t>\n\t\t\t<Show if={visVarselIkon}>\n\t\t\t\t<VarselIkon type={varselIkonType} />\n\t\t\t</Show>\n\t\t\t<div className={innholdClassName}>{children}</div>\n\t\t</ModalWrapper>\n\t);\n}\n\nfunction VarselIkon(props: { type: VarselIkonType }) {\n\tswitch (props.type) {\n\t\tcase VarselIkonType.FEIL:\n\t\t\treturn <FeilSirkelIkon className=\"varsel-modal__ikon\" role=\"img\" focusable={false} aria-label=\"Feil\" />;\n\t\tcase VarselIkonType.ADVARSEL:\n\t\t\treturn (\n\t\t\t\t<AdvarselSirkelIkon className=\"varsel-modal__ikon\" role=\"img\" focusable={false} aria-label=\"Advarsel\" />\n\t\t\t);\n\t\tcase VarselIkonType.LAS_OPP:\n\t\t\treturn (\n\t\t\t\t<LasOppIkon className=\"varsel-modal__ikon\" role=\"img\" focusable={false} aria-label=\"Åpnet hengelås\" />\n\t\t\t);\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n","import React from 'react';\nimport { VarselIkonType, VarselModal } from '../varsel-modal/varsel-modal';\nimport { Systemtittel } from 'nav-frontend-typografi';\nimport Normaltekst from 'nav-frontend-typografi/lib/normaltekst';\nimport { Knapp } from 'nav-frontend-knapper';\nimport { ModalProps } from '../modal-props';\nimport { useModalStore } from '../../../store/modal-store';\nimport { useViewStore } from '../../../store/view-store';\nimport Show from '../../show';\nimport { FeilModalConfig } from './feil-modal-config';\n\ninterface FeilmodalProps extends ModalProps {\n\tconfig: FeilModalConfig;\n}\n\nexport function FeilModal(props: FeilmodalProps) {\n\tconst {\n\t\tisOpen,\n\t\tconfig: { tittel, beskrivelse, viewAction, knappeTekst }\n\t} = props;\n\tconst { hideModal } = useModalStore();\n\tconst { changeView } = useViewStore();\n\n\tfunction handleRequestClose() {\n\t\tif (viewAction) {\n\t\t\tchangeView(viewAction);\n\t\t}\n\t\thideModal();\n\t}\n\n\treturn (\n\t\t<VarselModal\n\t\t\tisOpen={isOpen}\n\t\t\tcontentLabel=\"En feil har oppstått\"\n\t\t\tonRequestClose={handleRequestClose}\n\t\t\tvarselIkonType={VarselIkonType.FEIL}\n\t\t\tshouldCloseOnOverlayClick={false}\n\t\t\tcloseButton={knappeTekst == null}\n\t\t>\n\t\t\t<Systemtittel className=\"blokk-xxs\">{tittel}</Systemtittel>\n\t\t\t<Normaltekst className=\"blokk-s\">{beskrivelse}</Normaltekst>\n\t\t\t<Show if={knappeTekst}>\n\t\t\t\t<Knapp onClick={handleRequestClose}>{knappeTekst}</Knapp>\n\t\t\t</Show>\n\t\t</VarselModal>\n\t);\n}\n","import { ViewType } from '../../../store/view-store';\n\nexport interface FeilModalConfig {\n\ttittel: string;\n\tbeskrivelse: string;\n\tviewAction?: ViewType;\n\tknappeTekst?: string;\n}\n\nexport const feilVedOpprettingAvUtkast: FeilModalConfig = {\n\ttittel: 'Klarte ikke å opprette nytt utkast',\n\tbeskrivelse: 'En feil oppstod under opprettingen av et nytt utkast. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedSendningConfig: FeilModalConfig = {\n\ttittel: 'Problemer med å sende',\n\tbeskrivelse: 'Vedtaksbrevet kan dessverre ikke sendes for øyeblikket. Vennligst prøv igjen senere.',\n\tviewAction: ViewType.UTKAST,\n\tknappeTekst: 'Tilbake til vedtakskjema'\n};\n\nexport const stoppeUtsendingFeatureToggleConfig: FeilModalConfig = {\n\ttittel: 'Problemer med å sende',\n\tbeskrivelse: 'Det er problemer med å sende vedtak for øyeblikket. Vi jobber med å løse saken.',\n\tviewAction: ViewType.UTKAST,\n\tknappeTekst: 'Tilbake til utkast'\n};\n\nexport const feilVedForhandsvisnigConfig: FeilModalConfig = {\n\ttittel: 'Problemer med forhåndsvisning',\n\tbeskrivelse:\n\t\t'Vi får dessverre ikke forhåndsvist vedtaksbrevet for øyeblikket. Vennligst gå tilbake til utkastet og prøv igjen senere.',\n\tviewAction: ViewType.UTKAST,\n\tknappeTekst: 'Tilbake til utkast'\n};\n\nexport const feilVedVisningConfig: FeilModalConfig = {\n\ttittel: 'Kan ikke vise vedtaksbrev',\n\tbeskrivelse: 'Det er problemer med å vise vedtaksbrev for øyeblikket. Vi jobber med å løse saken.',\n\tviewAction: ViewType.HOVEDSIDE,\n\tknappeTekst: 'Tilbake til hovedside'\n};\n\nexport const feilVedLagringConfig: FeilModalConfig = {\n\ttittel: 'Problemer med å lagre',\n\tbeskrivelse: 'Feil oppstod under lagring. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedSlettingAvUtkastConfig: FeilModalConfig = {\n\ttittel: 'Klarte ikke å slette utkast',\n\tbeskrivelse: 'En feil oppstod under slettingen av utkastet. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedOvertakelseAvUtkastConfig: FeilModalConfig = {\n\ttittel: 'Klarte ikke å ta over utkast',\n\tbeskrivelse: 'En feil oppstod under overtakelse av utkast. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedStartBeslutterProsessConfig: FeilModalConfig = {\n\ttittel: 'Klarte ikke å klargjøre utkastet for kvalitetssikrer',\n\tbeskrivelse: 'En feil oppstod under klargjøring av utkastet for kvalitetssikrer. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedAvbrytBeslutterProsessConfig: FeilModalConfig = {\n\ttittel: 'Klarte ikke å avbryte kvalitetssikrerprosessen',\n\tbeskrivelse: 'En feil oppstod under avbryting av kvalitetssikrerprosessen. Innsatsgruppe vil ikke bli endret.'\n};\n\nexport const feilVedBliBeslutterConfig: FeilModalConfig = {\n\ttittel: 'Klarte ikke å bli kvalitetssikrer',\n\tbeskrivelse: 'En feil oppstod under overtakselse som kvalitetssikrer. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedUtsendingAvDialogMelding: FeilModalConfig = {\n\ttittel: 'Klarte ikke å sende meldingen',\n\tbeskrivelse: 'En feil oppstod under utsendingen av meldingen. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedOppdaterBeslutterProsessStatus: FeilModalConfig = {\n\ttittel: 'Klarte ikke å oppdatere status',\n\tbeskrivelse: 'En feil oppstod under oppdatering av status. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedGodkjenningAvBeslutter: FeilModalConfig = {\n\ttittel: 'Klarte ikke å godkjenne vedtaket',\n\tbeskrivelse: 'En feil oppstod under godkjenning av vedtaket. Vennligst prøv igjen senere.'\n};\n\nexport const feilVedValideringAvUtkast: FeilModalConfig = {\n\ttittel: 'Utkastet kan ikke forhåndsvises',\n\tbeskrivelse: 'Det er mangelfull data i utkastet som gjør at det ikke kan forhåndsvises.'\n};\n","import React from 'react';\nimport ModalWrapper from 'nav-frontend-modal';\nimport NavFrontendSpinner from 'nav-frontend-spinner';\nimport { ModalProps } from '../modal-props';\nimport './spinner-modal.less';\n\nexport function SpinnerModal(props: ModalProps) {\n\treturn (\n\t\t<ModalWrapper\n\t\t\tisOpen={props.isOpen}\n\t\t\tcontentLabel=\"Spinner\"\n\t\t\tonRequestClose={() => {}} // tslint:disable-line:no-empty\n\t\t\tcloseButton={false}\n\t\t\tportalClassName=\"veilarbvedtaksstottefs-spinner-modal\"\n\t\t>\n\t\t\t<NavFrontendSpinner type=\"XXL\" />\n\t\t</ModalWrapper>\n\t);\n}\n","import React from 'react';\nimport { VarselIkonType, VarselModal } from '../varsel-modal/varsel-modal';\nimport { Systemtittel } from 'nav-frontend-typografi';\nimport { Hovedknapp, Knapp } from 'nav-frontend-knapper';\nimport { ModalProps } from '../modal-props';\nimport { useModalStore } from '../../../store/modal-store';\nimport './vedtak-sendt-modal.less';\n\ninterface VedtakSendtModalProps extends ModalProps {\n\tonSendVedtakBekreftet: () => void;\n}\n\nexport function BekreftSendVedtakModal(props: VedtakSendtModalProps) {\n\tconst { hideModal } = useModalStore();\n\n\treturn (\n\t\t<VarselModal\n\t\t\tisOpen={props.isOpen}\n\t\t\tcontentLabel=\"Bekreft vedtaket blir sendt til bruker\"\n\t\t\tonRequestClose={hideModal}\n\t\t\tvarselIkonType={VarselIkonType.INGEN}\n\t\t>\n\t\t\t<Systemtittel className=\"vedtak-sendt-modal__tekst\">\n\t\t\t\tEr du sikker på at du vil sende vedtaksbrev til bruker?\n\t\t\t</Systemtittel>\n\t\t\t<div className=\"varsel-modal__knapper\">\n\t\t\t\t<Hovedknapp onClick={props.onSendVedtakBekreftet}>JA, SEND NÅ</Hovedknapp>\n\t\t\t\t<Knapp onClick={hideModal}>AVBRYT</Knapp>\n\t\t\t</div>\n\t\t</VarselModal>\n\t);\n}\n","import React from 'react';\nimport { VarselIkonType, VarselModal } from './varsel-modal/varsel-modal';\nimport { Systemtittel } from 'nav-frontend-typografi';\nimport Normaltekst from 'nav-frontend-typografi/lib/normaltekst';\nimport { Hovedknapp, Knapp } from 'nav-frontend-knapper';\nimport { ModalProps } from './modal-props';\nimport { ModalType, useModalStore } from '../../store/modal-store';\nimport { useViewStore, ViewType } from '../../store/view-store';\nimport { useSkjemaStore } from '../../store/skjema-store';\nimport { useDataStore } from '../../store/data-store';\nimport { hentId } from '../../util';\nimport { slettUtkast } from '../../api/veilarbvedtaksstotte/utkast';\n\nfunction SlettUtkastModal(props: ModalProps) {\n\tconst { hideModal, showModal } = useModalStore();\n\tconst { utkast, setUtkast } = useDataStore();\n\tconst { changeView } = useViewStore();\n\tconst { resetSkjema } = useSkjemaStore();\n\n\tfunction handleOnDeleteClicked() {\n\t\tshowModal(ModalType.LASTER);\n\t\tslettUtkast(hentId(utkast))\n\t\t\t.then(() => {\n\t\t\t\tresetSkjema();\n\t\t\t\thideModal();\n\t\t\t\tchangeView(ViewType.HOVEDSIDE);\n\t\t\t\tsetUtkast(null);\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tshowModal(ModalType.FEIL_VED_SLETTING);\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<VarselModal\n\t\t\tisOpen={props.isOpen}\n\t\t\tcontentLabel=\"Bekreft slett utkast\"\n\t\t\tonRequestClose={hideModal}\n\t\t\tvarselIkonType={VarselIkonType.ADVARSEL}\n\t\t>\n\t\t\t<Systemtittel className=\"blokk-xxxs\">Slett utkast</Systemtittel>\n\t\t\t<Normaltekst>Er du sikker på at du vil slette utkastet?</Normaltekst>\n\t\t\t<div className=\"varsel-modal__knapper\">\n\t\t\t\t<Hovedknapp onClick={handleOnDeleteClicked}>Slett</Hovedknapp>\n\t\t\t\t<Knapp onClick={hideModal}> Avbryt</Knapp>\n\t\t\t</div>\n\t\t</VarselModal>\n\t);\n}\n\nexport default SlettUtkastModal;\n","import React, { useState } from 'react';\nimport { ModalProps } from '../modal-props';\nimport { VarselIkonType, VarselModal } from '../varsel-modal/varsel-modal';\nimport { ModalType, useModalStore } from '../../../store/modal-store';\nimport { erBeslutterProsessStartet, hentId } from '../../../util';\nimport { useDataStore } from '../../../store/data-store';\nimport { Hovedknapp, Knapp } from 'nav-frontend-knapper';\nimport { RadioPanelGruppe } from 'nav-frontend-skjema';\nimport { Normaltekst } from 'nav-frontend-typografi';\nimport { useTilgangStore } from '../../../store/tilgang-store';\nimport { VeilederTilgang } from '../../../util/tilgang';\nimport './ta-over-modal.less';\nimport { SystemMeldingType } from '../../../util/type/melding-type';\nimport { useVarselStore } from '../../../store/varsel-store';\nimport { VarselType } from '../../varsel/varsel-type';\nimport { bliBeslutter } from '../../../api/veilarbvedtaksstotte/beslutter';\nimport { fetchTaOverUtkast } from '../../../api/veilarbvedtaksstotte/utkast';\n\nenum TaOverFor {\n\tVEILEDER = 'VEILEDER',\n\tKVALITETSSIKRER = 'KVALITETSSIKRER'\n}\n\nconst taOverOptions = [\n\t{ label: 'Veileder', value: TaOverFor.VEILEDER },\n\t{ label: 'Kvalitetssikrer', value: TaOverFor.KVALITETSSIKRER }\n];\n\nfunction TaOverModal(props: ModalProps) {\n\tconst { hideModal, showModal } = useModalStore();\n\tconst { setVeilederTilgang, erIkkeAnsvarligVeileder } = useTilgangStore();\n\tconst { utkast, setUtkast, innloggetVeileder, setUtkastBeslutter, leggTilSystemMelding } = useDataStore();\n\tconst { showVarsel } = useVarselStore();\n\n\tconst [taOverFor, setTaOverFor] = useState<TaOverFor>();\n\tconst [laster, setLaster] = useState(false);\n\n\tif (!utkast) {\n\t\treturn null;\n\t}\n\n\tconst visValg =\n\t\terIkkeAnsvarligVeileder &&\n\t\terBeslutterProsessStartet(utkast.beslutterProsessStatus) &&\n\t\tutkast.beslutterNavn != null;\n\n\tfunction handleTaOverVedtak() {\n\t\tsetLaster(true);\n\n\t\tconst taOverResponse =\n\t\t\ttaOverFor === TaOverFor.KVALITETSSIKRER ? bliBeslutter(hentId(utkast)) : fetchTaOverUtkast(hentId(utkast));\n\n\t\ttaOverResponse\n\t\t\t.then(() => {\n\t\t\t\tconst navn = innloggetVeileder.navn;\n\t\t\t\tconst ident = innloggetVeileder.ident;\n\t\t\t\tconst tattOverFor = taOverFor || TaOverFor.VEILEDER;\n\t\t\t\tconst tilgang =\n\t\t\t\t\ttattOverFor === TaOverFor.VEILEDER ? VeilederTilgang.ANSVARLIG_VEILEDER : VeilederTilgang.BESLUTTER;\n\n\t\t\t\tif (tilgang === VeilederTilgang.ANSVARLIG_VEILEDER) {\n\t\t\t\t\tsetUtkast(prevUtkast => {\n\t\t\t\t\t\t// Hvis beslutter tar over ansvaret for vedtaket, så kan de ikke lenger ha rollen beslutter\n\t\t\t\t\t\tconst erAlleredeBeslutter = prevUtkast?.beslutterIdent === innloggetVeileder.ident;\n\t\t\t\t\t\tconst veileder = { veilederIdent: ident, veilederNavn: navn };\n\t\t\t\t\t\tconst beslutter = erAlleredeBeslutter ? { beslutterIdent: null, beslutterNavn: null } : {};\n\n\t\t\t\t\t\treturn Object.assign(prevUtkast, veileder, beslutter);\n\t\t\t\t\t});\n\n\t\t\t\t\tleggTilSystemMelding(SystemMeldingType.TATT_OVER_SOM_VEILEDER);\n\t\t\t\t} else {\n\t\t\t\t\tsetUtkastBeslutter(ident, navn);\n\t\t\t\t\tleggTilSystemMelding(SystemMeldingType.TATT_OVER_SOM_BESLUTTER);\n\t\t\t\t}\n\n\t\t\t\tsetVeilederTilgang(tilgang);\n\t\t\t\thideModal();\n\t\t\t\tvisTattOverVarsel();\n\t\t\t})\n\t\t\t.catch(() => showModal(ModalType.FEIL_VED_OVERTAKELSE))\n\t\t\t.finally(() => setLaster(false));\n\t}\n\n\tfunction visTattOverVarsel() {\n\t\tconst varselType =\n\t\t\ttaOverFor === TaOverFor.KVALITETSSIKRER\n\t\t\t\t? VarselType.TATT_OVER_SOM_BESLUTTER\n\t\t\t\t: VarselType.TATT_OVER_SOM_VEILEDER;\n\n\t\tshowVarsel(varselType);\n\t}\n\n\tfunction handleOnRequestCloseModal() {\n\t\tif (!laster) {\n\t\t\thideModal();\n\t\t}\n\t}\n\n\tconst OvertaForVeilederVisning = (\n\t\t<>\n\t\t\t<Normaltekst className=\"varsel-modal__tekstinnehold\">\n\t\t\t\tVil du overta ansvaret for vedtaket fra\n\t\t\t\t<br />\n\t\t\t\tveileder {`${utkast.veilederNavn}?`}\n\t\t\t</Normaltekst>\n\t\t\t<div className=\"varsel-modal__knapper\">\n\t\t\t\t<Hovedknapp spinner={laster} disabled={laster} onClick={handleTaOverVedtak}>\n\t\t\t\t\tTa over\n\t\t\t\t</Hovedknapp>\n\t\t\t\t<Knapp disabled={laster} onClick={hideModal}>\n\t\t\t\t\tAvbryt\n\t\t\t\t</Knapp>\n\t\t\t</div>\n\t\t</>\n\t);\n\n\tconst OvertaValgVisning = (\n\t\t<>\n\t\t\t<div className=\"ta-over-modal__radiopanel\">\n\t\t\t\t<Normaltekst className=\"varsel-modal__tekstinnehold blokk-s\">Hvem ønsker du å ta over for?</Normaltekst>\n\t\t\t\t<RadioPanelGruppe\n\t\t\t\t\tname=\"taovervedtakfor\"\n\t\t\t\t\tlegend={null}\n\t\t\t\t\tradios={taOverOptions}\n\t\t\t\t\tonChange={(e: any) => setTaOverFor(e.target.value)}\n\t\t\t\t\tchecked={taOverFor}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"varsel-modal__knapper\">\n\t\t\t\t\t<Hovedknapp\n\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\tonClick={handleTaOverVedtak}\n\t\t\t\t\t\tspinner={laster}\n\t\t\t\t\t\tdisabled={laster || !taOverFor}\n\t\t\t\t\t>\n\t\t\t\t\t\tTa over\n\t\t\t\t\t</Hovedknapp>\n\t\t\t\t\t<Knapp disabled={laster} onClick={hideModal}>\n\t\t\t\t\t\tAvbryt\n\t\t\t\t\t</Knapp>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n\tconst Innhold = visValg ? OvertaValgVisning : OvertaForVeilederVisning;\n\n\treturn (\n\t\t<VarselModal\n\t\t\tisOpen={props.isOpen}\n\t\t\tcontentLabel=\"Ta over utkast\"\n\t\t\tonRequestClose={handleOnRequestCloseModal}\n\t\t\tvarselIkonType={VarselIkonType.INGEN}\n\t\t\tportalClassName=\"ta-over-modal\"\n\t\t>\n\t\t\t{Innhold}\n\t\t</VarselModal>\n\t);\n}\n\nexport default TaOverModal;\n","import React from 'react';\nimport { VarselIkonType, VarselModal } from '../varsel-modal/varsel-modal';\nimport { Systemtittel } from 'nav-frontend-typografi';\nimport Normaltekst from 'nav-frontend-typografi/lib/normaltekst';\nimport { Hovedknapp, Knapp } from 'nav-frontend-knapper';\nimport { ModalProps } from '../modal-props';\nimport { ModalType, useModalStore } from '../../../store/modal-store';\nimport { useSkjemaStore } from '../../../store/skjema-store';\nimport { useDataStore } from '../../../store/data-store';\nimport { SystemMeldingType } from '../../../util/type/melding-type';\nimport { hentId } from '../../../util';\nimport { OrNothing } from '../../../util/type/ornothing';\nimport { InnsatsgruppeType } from '../../../api/veilarbvedtaksstotte';\nimport { avbrytBeslutterProsess } from '../../../api/veilarbvedtaksstotte/beslutter';\n\ninterface AvbrytBeslutterProsessModalProps extends ModalProps {\n\tinnsatsgruppe: OrNothing<InnsatsgruppeType>;\n}\n\nfunction AvbrytBeslutterProsessModal(props: AvbrytBeslutterProsessModalProps) {\n\tconst { hideModal, showModal } = useModalStore();\n\tconst { utkast, leggTilSystemMelding, nullStillBeslutterProsess } = useDataStore();\n\tconst { setInnsatsgruppe } = useSkjemaStore();\n\n\tfunction handleOnJaClicked() {\n\t\tavbrytBeslutterProsess(hentId(utkast))\n\t\t\t.then(() => {\n\t\t\t\thideModal();\n\t\t\t\tsetInnsatsgruppe(props.innsatsgruppe);\n\t\t\t\tnullStillBeslutterProsess();\n\t\t\t\tleggTilSystemMelding(SystemMeldingType.BESLUTTER_PROSESS_AVBRUTT);\n\t\t\t})\n\t\t\t.catch(() => showModal(ModalType.FEIL_VED_AVBRYT_BESLUTTER_PROSESS));\n\t}\n\n\treturn (\n\t\t<VarselModal\n\t\t\tisOpen={props.isOpen}\n\t\t\tcontentLabel=\"Avbryt kvalitetssikringprosessen\"\n\t\t\tonRequestClose={hideModal}\n\t\t\tvarselIkonType={VarselIkonType.ADVARSEL}\n\t\t>\n\t\t\t<Systemtittel className=\"blokk-xxxs\">Endre innsatsgruppe</Systemtittel>\n\t\t\t<Normaltekst>\n\t\t\t\tKvalitetssikringprosessen vil avbrytes. Er du sikker på at du vil endre innsatsgruppe?\n\t\t\t</Normaltekst>\n\t\t\t<div className=\"varsel-modal__knapper\">\n\t\t\t\t<Hovedknapp onClick={handleOnJaClicked}>Ja</Hovedknapp>\n\t\t\t\t<Knapp onClick={hideModal}>Nei</Knapp>\n\t\t\t</div>\n\t\t</VarselModal>\n\t);\n}\n\nexport default AvbrytBeslutterProsessModal;\n","import React, { useState } from 'react';\nimport { VarselIkonType, VarselModal } from '../varsel-modal/varsel-modal';\nimport { Normaltekst, Systemtittel } from 'nav-frontend-typografi';\nimport { Hovedknapp, Knapp } from 'nav-frontend-knapper';\nimport { ModalProps } from '../modal-props';\nimport { useModalStore } from '../../../store/modal-store';\n\ninterface GodkjennModalProps extends ModalProps {\n\tonGodkjennUtkastBekreftet: () => void;\n}\n\nexport function GodkjennModal(props: GodkjennModalProps) {\n\tconst { hideModal } = useModalStore();\n\tconst [laster] = useState(false);\n\n\tfunction handleOnRequestCloseModal() {\n\t\tif (!laster) {\n\t\t\thideModal();\n\t\t}\n\t}\n\n\tconst GodkjennVisning = (\n\t\t<>\n\t\t\t<Systemtittel className=\"blokk-xxxs\">Godkjenn utkast</Systemtittel>\n\t\t\t<Normaltekst>\n\t\t\t\t<br />\n\t\t\t\tEr du sikker på at du vil godkjenne utkastet?\n\t\t\t</Normaltekst>\n\t\t\t<div className=\"varsel-modal__knapper\">\n\t\t\t\t<Hovedknapp spinner={laster} disabled={laster} onClick={props.onGodkjennUtkastBekreftet}>\n\t\t\t\t\tGODKJENN\n\t\t\t\t</Hovedknapp>\n\t\t\t\t<Knapp disabled={laster} onClick={hideModal}>\n\t\t\t\t\tAVBRYT\n\t\t\t\t</Knapp>\n\t\t\t</div>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<VarselModal\n\t\t\tisOpen={props.isOpen}\n\t\t\tcontentLabel=\"Bekreft at vedtaket blir godkjent\"\n\t\t\tonRequestClose={handleOnRequestCloseModal}\n\t\t\tvarselIkonType={VarselIkonType.ADVARSEL}\n\t\t>\n\t\t\t{GodkjennVisning}\n\t\t</VarselModal>\n\t);\n}\n\nexport default GodkjennModal;\n","import React from 'react';\nimport { ModalType, useModalStore } from '../store/modal-store';\nimport { FeilModal } from './modal/feil-modal/feil-modal';\nimport {\n\tFeilModalConfig,\n\tfeilVedAvbrytBeslutterProsessConfig,\n\tfeilVedBliBeslutterConfig,\n\tfeilVedForhandsvisnigConfig,\n\tfeilVedGodkjenningAvBeslutter,\n\tfeilVedLagringConfig,\n\tfeilVedOppdaterBeslutterProsessStatus,\n\tfeilVedOpprettingAvUtkast,\n\tfeilVedOvertakelseAvUtkastConfig,\n\tfeilVedSendningConfig,\n\tfeilVedSlettingAvUtkastConfig,\n\tfeilVedStartBeslutterProsessConfig,\n\tfeilVedUtsendingAvDialogMelding,\n\tfeilVedValideringAvUtkast,\n\tfeilVedVisningConfig,\n\tstoppeUtsendingFeatureToggleConfig\n} from './modal/feil-modal/feil-modal-config';\nimport { SpinnerModal } from './modal/spinner-modal/spinner-modal';\nimport { BekreftSendVedtakModal } from './modal/vedtak-sendt/bekreft-send-vedtak-modal';\nimport SlettUtkastModal from './modal/slett-utkast-modal';\nimport TaOverModal from './modal/ta-over-modal/ta-over-modal';\nimport AvbrytBeslutterProsessModal from './modal/avbryt-beslutter-prosess-modal/avbryt-beslutterprosess-modal';\nimport { GodkjennModal } from './modal/godkjenn-modal/godkjenn-modal';\n\nfunction finnFeilModalConfig(modalType: ModalType): FeilModalConfig | null {\n\tswitch (modalType) {\n\t\tcase ModalType.FEIL_VED_OPPRETTING_AV_UTKAST:\n\t\t\treturn feilVedOpprettingAvUtkast;\n\t\tcase ModalType.FEIL_VED_SENDING:\n\t\t\treturn feilVedSendningConfig;\n\t\tcase ModalType.FEIL_UTSENDING_STOPPET:\n\t\t\treturn stoppeUtsendingFeatureToggleConfig;\n\t\tcase ModalType.FEIL_VED_FORHANDSVISNING:\n\t\t\treturn feilVedForhandsvisnigConfig;\n\t\tcase ModalType.FEIL_VED_SLETTING:\n\t\t\treturn feilVedSlettingAvUtkastConfig;\n\t\tcase ModalType.FEIL_VED_VISNING:\n\t\t\treturn feilVedVisningConfig;\n\t\tcase ModalType.FEIL_VED_LAGRING:\n\t\t\treturn feilVedLagringConfig;\n\t\tcase ModalType.FEIL_VED_OVERTAKELSE:\n\t\t\treturn feilVedOvertakelseAvUtkastConfig;\n\t\tcase ModalType.FEIL_VED_START_BESLUTTER_PROSESS:\n\t\t\treturn feilVedStartBeslutterProsessConfig;\n\t\tcase ModalType.FEIL_VED_AVBRYT_BESLUTTER_PROSESS:\n\t\t\treturn feilVedAvbrytBeslutterProsessConfig;\n\t\tcase ModalType.FEIL_VED_BLI_BESLUTTER:\n\t\t\treturn feilVedBliBeslutterConfig;\n\t\tcase ModalType.FEIL_VED_UTSENDING_AV_DIALOG_MELDING:\n\t\t\treturn feilVedUtsendingAvDialogMelding;\n\t\tcase ModalType.FEIL_VED_OPPDATER_BESLUTTER_PROSESS_STATUS:\n\t\t\treturn feilVedOppdaterBeslutterProsessStatus;\n\t\tcase ModalType.FEIL_VED_GODKJENT_AV_BESLUTTER:\n\t\t\treturn feilVedGodkjenningAvBeslutter;\n\t\tcase ModalType.FEIL_VED_VALIDERING_AV_UTKAST:\n\t\t\treturn feilVedValideringAvUtkast;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\nexport function ModalController() {\n\tconst { modalType, modalProps } = useModalStore();\n\tconst feilModalConfig = finnFeilModalConfig(modalType);\n\n\treturn (\n\t\t<>\n\t\t\t<SpinnerModal isOpen={modalType === ModalType.LASTER} />\n\t\t\t<BekreftSendVedtakModal\n\t\t\t\tisOpen={modalType === ModalType.BEKREFT_SEND_VEDTAK}\n\t\t\t\tonSendVedtakBekreftet={modalProps.onSendVedtakBekreftet}\n\t\t\t/>\n\t\t\t<SlettUtkastModal isOpen={modalType === ModalType.BEKREFT_SLETT_UTKAST} />\n\t\t\t<TaOverModal isOpen={modalType === ModalType.BEKREFT_TA_OVER_UTKAST} />\n\t\t\t<GodkjennModal\n\t\t\t\tisOpen={modalType === ModalType.BEKREFT_SEND_TIL_GODKJENNING}\n\t\t\t\tonGodkjennUtkastBekreftet={modalProps.onGodkjennVedtakBekreftet}\n\t\t\t/>\n\t\t\t<AvbrytBeslutterProsessModal\n\t\t\t\tisOpen={modalType === ModalType.BEKREFT_AVBRYT_BESLUTTER_PROSESS}\n\t\t\t\tinnsatsgruppe={modalProps.innsatsgruppe}\n\t\t\t/>\n\t\t\t{feilModalConfig && <FeilModal isOpen={feilModalConfig != null} config={feilModalConfig} />}\n\t\t</>\n\t);\n}\n","import { useEventListener } from '../util/hooks';\nimport { useViewStore, ViewType } from '../store/view-store';\n\nexport const TabClickedListener = () => {\n\tconst { changeView } = useViewStore();\n\n\tuseEventListener('veilarbpersonflatefs.tab-clicked', event => {\n\t\tif (event instanceof CustomEvent && event.detail.tabId === 'VEDTAKSSTOTTE') {\n\t\t\tchangeView(ViewType.HOVEDSIDE);\n\t\t}\n\t});\n\n\treturn null;\n};\n","export function delay(ms: number): () => Promise<void> {\n\treturn () =>\n\t\tnew Promise(resolve => {\n\t\t\tsetTimeout(resolve, ms);\n\t\t});\n}\n","import React, { PropsWithChildren, useCallback, useEffect, useState } from 'react';\nimport AlertStripe, { AlertStripeType } from 'nav-frontend-alertstriper';\nimport './varsel-toast.less';\nimport { delay } from '../../util/promise-utils';\n\ninterface VarselToastProps {\n\ttype: AlertStripeType;\n\tdurationMs: number;\n\tonHide?: () => void;\n}\n\nexport function VarselToast(props: PropsWithChildren<VarselToastProps>) {\n\tconst [hide, setHide] = useState(false);\n\tconst [fadeClass, setFadeClass] = useState<'fade-in' | 'fade-out'>('fade-out');\n\n\tconst { onHide, durationMs } = props;\n\n\tconst fadeIn = useCallback(() => {\n\t\tsetFadeClass('fade-in');\n\t}, []);\n\n\tconst fadeOut = useCallback(() => {\n\t\tsetFadeClass('fade-out');\n\t}, []);\n\n\tconst unmount = useCallback(() => {\n\t\tsetHide(true);\n\t\tif (onHide) {\n\t\t\tonHide();\n\t\t}\n\t}, [onHide]);\n\n\tuseEffect(() => {\n\t\tPromise.resolve()\n\t\t\t.then(delay(300))\n\t\t\t.then(fadeIn)\n\t\t\t.then(delay(durationMs))\n\t\t\t.then(fadeOut)\n\t\t\t.then(delay(500))\n\t\t\t.then(unmount);\n\t}, [durationMs, fadeIn, fadeOut, unmount]);\n\n\tif (hide) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className={'toast'} role={'alert'}>\n\t\t\t<AlertStripe type={props.type} className={fadeClass}>\n\t\t\t\t{props.children}\n\t\t\t</AlertStripe>\n\t\t</div>\n\t);\n}\n","import { AlertStripeType } from 'nav-frontend-alertstriper';\n\nexport interface VarselConfig {\n\ttype: AlertStripeType;\n\ttekst: string;\n}\n\nexport const vedtakSendt: VarselConfig = {\n\ttype: 'suksess',\n\ttekst: 'Oppfølgingsvedtaket er sendt til bruker.'\n};\n\nexport const tattOverSomVeileder: VarselConfig = {\n\ttype: 'suksess',\n\ttekst: 'Du har nå tatt over ansvaret for vedtaket.'\n};\n\nexport const tattOverSomBeslutter: VarselConfig = {\n\ttype: 'suksess',\n\ttekst: 'Du har nå tatt over som kvalitetssikrer for vedtaket.'\n};\n\nexport const utkastOppdatert: VarselConfig = {\n\ttype: 'info',\n\ttekst: 'Utkastet har blitt oppdatert.'\n};\nexport const beslutterprosessTilVeileder: VarselConfig = {\n\ttype: 'info',\n\ttekst: 'Trenger respons fra veileder.'\n};\n\nexport const beslutterprosessTilBeslutter: VarselConfig = {\n\ttype: 'info',\n\ttekst: 'Trenger tilbakemelding fra kvalitetssikrer.'\n};\n\nexport const beslutterprosessGodkjent: VarselConfig = {\n\ttype: 'info',\n\ttekst: 'Vedtaket er kvalitetsikret.'\n};\n","import React from 'react';\nimport { useVarselStore } from '../../store/varsel-store';\nimport { VarselToast } from './varsel-toast';\nimport {\n\tVarselConfig,\n\ttattOverSomBeslutter,\n\ttattOverSomVeileder,\n\tutkastOppdatert,\n\tvedtakSendt,\n\tbeslutterprosessTilVeileder,\n\tbeslutterprosessTilBeslutter,\n\tbeslutterprosessGodkjent\n} from './varsel-config';\nimport { VarselType } from './varsel-type';\n\nexport function VarselController() {\n\tconst { varselType, hideVarsel } = useVarselStore();\n\n\tif (!varselType) {\n\t\treturn null;\n\t}\n\n\tconst { type, tekst } = varselConfig(varselType);\n\n\treturn (\n\t\t<VarselToast type={type} durationMs={6000} onHide={hideVarsel}>\n\t\t\t{tekst}\n\t\t</VarselToast>\n\t);\n}\n\nfunction varselConfig(varselType: VarselType): VarselConfig {\n\tswitch (varselType) {\n\t\tcase VarselType.TATT_OVER_SOM_VEILEDER:\n\t\t\treturn tattOverSomVeileder;\n\t\tcase VarselType.TATT_OVER_SOM_BESLUTTER:\n\t\t\treturn tattOverSomBeslutter;\n\t\tcase VarselType.VEDTAK_SENT_SUKSESS:\n\t\t\treturn vedtakSendt;\n\t\tcase VarselType.UTKAST_OPPDATERT:\n\t\t\treturn utkastOppdatert;\n\t\tcase VarselType.BESLUTTERPROSESS_TIL_VEILEDER:\n\t\t\treturn beslutterprosessTilVeileder;\n\t\tcase VarselType.BESLUTTERPROSESS_TIL_BESLUTTER:\n\t\t\treturn beslutterprosessTilBeslutter;\n\t\tcase VarselType.BESLUTTERPROSESS_GODKJENT:\n\t\t\treturn beslutterprosessGodkjent;\n\t}\n}\n","import React, { useState } from 'react';\nimport { Normaltekst } from 'nav-frontend-typografi';\nimport { RadioPanel } from 'nav-frontend-skjema';\nimport Lukknapp from 'nav-frontend-lukknapp';\nimport { useDataStore } from '../../store/data-store';\nimport { useTilgangStore } from '../../store/tilgang-store';\nimport { finnVeilederTilgang } from '../../util/tilgang';\nimport { useSkjemaStore } from '../../store/skjema-store';\nimport Show from '../../component/show';\nimport './mock-panel.less';\nimport { Veileder } from '../../api/veilarbveileder';\nimport { hentUtkast, oppdaterVedtakUtkastMockFraSkjema, updateInnloggetVeilederMock } from '../api-data';\nimport { veiledere } from '../data';\n\nexport function MockPanel() {\n\tconst [visPanel, setVisPanel] = useState(false);\n\n\tconst toggle = () => setVisPanel(prevVisPanel => !prevVisPanel);\n\n\treturn (\n\t\t<div className=\"mock-panel\">\n\t\t\t<Show if={!visPanel}>\n\t\t\t\t<button className=\"mock-panel__apne-knapp\" onClick={toggle}>\n\t\t\t\t\tVis valg\n\t\t\t\t</button>\n\t\t\t</Show>\n\n\t\t\t<Show if={visPanel}>\n\t\t\t\t<div className=\"mock-panel__innhold\">\n\t\t\t\t\t<Lukknapp onClick={toggle} />\n\t\t\t\t\t<InnloggetSom />\n\t\t\t\t</div>\n\t\t\t</Show>\n\t\t</div>\n\t);\n}\n\nfunction InnloggetSom() {\n\tconst { innloggetVeileder, setInnloggetVeileder, setUtkast } = useDataStore();\n\tconst { setVeilederTilgang } = useTilgangStore();\n\tconst { innsatsgruppe, hovedmal, begrunnelse, kilder } = useSkjemaStore();\n\n\tconst skjemaData = { innsatsgruppe, hovedmal, begrunnelse, opplysninger: kilder };\n\n\tfunction byttInnloggetVeileder(veileder: Veileder) {\n\t\toppdaterVedtakUtkastMockFraSkjema(skjemaData);\n\t\tsetUtkast(hentUtkast());\n\t\tupdateInnloggetVeilederMock(veileder);\n\t\tsetInnloggetVeileder(veileder);\n\t\tsetVeilederTilgang(finnVeilederTilgang(veileder, hentUtkast()));\n\t}\n\n\treturn (\n\t\t<fieldset>\n\t\t\t<legend>\n\t\t\t\t<Normaltekst>Innlogget som</Normaltekst>\n\t\t\t</legend>\n\t\t\t{veiledere.map(veileder => (\n\t\t\t\t<RadioPanel\n\t\t\t\t\tonChange={() => byttInnloggetVeileder(veileder)}\n\t\t\t\t\tkey={veileder.ident}\n\t\t\t\t\tname={veileder.navn}\n\t\t\t\t\tlabel={veileder.navn}\n\t\t\t\t\tvalue={veileder.navn}\n\t\t\t\t\tchecked={veileder.ident === innloggetVeileder.ident}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</fieldset>\n\t);\n}\n","import { useAxiosFetcher } from '../util/use-axios-fetcher';\nimport { fetchFeaturesToggles } from '../api/veilarbpersonflatefs';\nimport React, { PropsWithChildren, useLayoutEffect } from 'react';\nimport { ifResponseHasData } from '../api/utils';\nimport Spinner from './spinner/spinner';\nimport AlertStripeFeil from 'nav-frontend-alertstriper/lib/feil-alertstripe';\nimport { useDataStore } from '../store/data-store';\n\nfunction FeatureFetcher(props: PropsWithChildren<any>) {\n\tconst featureAxiosFetcher = useAxiosFetcher(fetchFeaturesToggles);\n\tconst { setFeatures } = useDataStore();\n\n\tuseLayoutEffect(() => {\n\t\tfeatureAxiosFetcher.fetch().then(ifResponseHasData(setFeatures)).catch();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tif (featureAxiosFetcher.loading) {\n\t\treturn <Spinner />;\n\t} else if (featureAxiosFetcher.error) {\n\t\treturn (\n\t\t\t<AlertStripeFeil className=\"vedtaksstotte-alert\">\n\t\t\t\tDet oppnås for tiden ikke kontakt med alle baksystemer. Vi jobber med å løse saken. Vennligst prøv igjen\n\t\t\t\tsenere.\n\t\t\t</AlertStripeFeil>\n\t\t);\n\t}\n\n\treturn featureAxiosFetcher.data ? props.children : null;\n}\n\nexport default FeatureFetcher;\n","import React from 'react';\nimport { ViewController } from './component/view-controller';\nimport { DataFetcher } from './component/data-fetcher';\nimport { PrelanseringSjekk } from './component/sjekk/prelansering-sjekk';\nimport { NasjonalTilgangSjekk } from './component/sjekk/nasjonal-tilgang-sjekk';\nimport StoreProvider from './store/store-provider';\nimport { ModalController } from './component/modal-controller';\nimport { TabClickedListener } from './component/tab-clicked-listener';\nimport './app.less';\nimport Show from './component/show';\nimport env from './util/environment';\nimport { VarselController } from './component/varsel/varsel-controller';\nimport { MockPanel } from './mock/component/mock-panel';\nimport FeatureFetcher from './component/feature-fetcher';\n\ninterface AppProps {\n\tfnr: string;\n\tenhet: string;\n}\n\nfunction App(props: AppProps) {\n\treturn (\n\t\t<main className=\"app veilarbvedtaksstottefs\">\n\t\t\t<StoreProvider fnr={props.fnr} enhetId={props.enhet}>\n\t\t\t\t<FeatureFetcher>\n\t\t\t\t\t<PrelanseringSjekk>\n\t\t\t\t\t\t<NasjonalTilgangSjekk fnr={props.fnr}>\n\t\t\t\t\t\t\t<DataFetcher fnr={props.fnr}>\n\t\t\t\t\t\t\t\t<VarselController />\n\t\t\t\t\t\t\t\t<ViewController />\n\t\t\t\t\t\t\t\t<ModalController />\n\t\t\t\t\t\t\t\t<TabClickedListener />\n\t\t\t\t\t\t\t\t<Show if={!env.isProduction}>\n\t\t\t\t\t\t\t\t\t<MockPanel />\n\t\t\t\t\t\t\t\t</Show>\n\t\t\t\t\t\t\t</DataFetcher>\n\t\t\t\t\t\t</NasjonalTilgangSjekk>\n\t\t\t\t\t</PrelanseringSjekk>\n\t\t\t\t</FeatureFetcher>\n\t\t\t</StoreProvider>\n\t\t</main>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport env from './util/environment';\nimport ModalWrapper from 'nav-frontend-modal';\nimport NAVSPA from '@navikt/navspa';\nimport * as dayjs from 'dayjs';\nimport 'dayjs/locale/nb';\nimport { enhetId, fnr } from './mock/data';\n\ndayjs.locale('nb');\n\nModalWrapper.setAppElement(document.getElementById('modal-a11y-wrapper'));\n\nNAVSPA.eksporter('veilarbvedtaksstottefs', App);\n\nif (env.isDevelopment) {\n\trequire('./mock');\n\tReactDOM.render(<App fnr={fnr} enhet={enhetId} />, document.getElementById('veilarbvedtaksstottefs-root'));\n}\n","import { RequestHandler, rest } from 'msw';\n\nimport { hentOppfolgingData, hentTilgangTilBrukersKontor } from '../api-data';\n\nexport const veilarboppfolgingHandlers: RequestHandler[] = [\n\trest.get('/veilarboppfolging/api/oppfolging/veilederTilgang', (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentTilgangTilBrukersKontor()));\n\t}),\n\trest.get('/veilarboppfolging/api/oppfolging', (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentOppfolgingData()));\n\t})\n];\n","import { OrNothing } from '../util/type/ornothing';\nimport { HovedmalType, InnsatsgruppeType } from '../api/veilarbvedtaksstotte';\n\nexport function lagVedtakBrevMockUrl(innsatsgruppe: InnsatsgruppeType, hovedmal: OrNothing<HovedmalType>): string {\n\tlet url = `${mockUrlPrefix()}/test-brev/`;\n\n\tif (innsatsgruppe === InnsatsgruppeType.VARIG_TILPASSET_INNSATS) {\n\t\turl += `${InnsatsgruppeType.VARIG_TILPASSET_INNSATS}.pdf`;\n\t} else {\n\t\turl += `${innsatsgruppe}-${hovedmal}.pdf`;\n\t}\n\n\treturn url;\n}\n\nfunction isRunningOnGhPages(): boolean {\n\treturn window.location.hostname === 'navikt.github.io';\n}\n\nexport function mockUrlPrefix(): string {\n\treturn isRunningOnGhPages() ? '/veilarbvedtaksstottefs' : '';\n}\n","import { enhetId, enhetNavn } from '../../data';\nimport { Utkast, Vedtak, VEILARBVEDTAKSSTOTTE_API } from '../../../api/veilarbvedtaksstotte';\nimport { SystemMeldingType } from '../../../util/type/melding-type';\nimport { SkjemaData } from '../../../util/skjema-utils';\nimport { RequestHandler, rest } from 'msw';\nimport { lagVedtakBrevMockUrl } from '../../utils';\nimport {\n\tbyttUtUtkast,\n\tfjernAlleMockMeldinger,\n\thentFattedeVedtak,\n\thentInnloggetVeileder,\n\thentUtkast,\n\tleggTilFattetVedtak,\n\tleggTilMockSystemMelding,\n\toppdaterUtkast,\n\toppdaterVedtakUtkastMockFraSkjema\n} from '../../api-data';\n\nexport const utkastHandlers: RequestHandler[] = [\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/utkast`, (req, res, ctx) => {\n\t\tif (!hentUtkast()) {\n\t\t\treturn res(ctx.delay(500), ctx.status(404));\n\t\t}\n\n\t\treturn res(ctx.delay(500), ctx.json(hentUtkast()));\n\t}),\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/utkast`, (req, res, ctx) => {\n\t\tconst nyId =\n\t\t\thentFattedeVedtak().length > 0 ? hentFattedeVedtak().sort((fv1, fv2) => fv2.id - fv1.id)[0].id + 1 : 1;\n\n\t\tconst nyttUtkast = {\n\t\t\tid: nyId,\n\t\t\tutkastSistOppdatert: '2019-05-07T10:22:32.98982+02:00',\n\t\t\topplysninger: [],\n\t\t\tveilederNavn: hentInnloggetVeileder().navn,\n\t\t\tveilederIdent: hentInnloggetVeileder().ident,\n\t\t\toppfolgingsenhetId: enhetId,\n\t\t\toppfolgingsenhetNavn: enhetNavn,\n\t\t\tbeslutterNavn: null,\n\t\t\tsendtTilBeslutter: false,\n\t\t\tbeslutterIdent: null\n\t\t} as unknown as Utkast;\n\n\t\tbyttUtUtkast(nyttUtkast);\n\n\t\tfjernAlleMockMeldinger();\n\n\t\tleggTilMockSystemMelding(SystemMeldingType.UTKAST_OPPRETTET);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.put(`${VEILARBVEDTAKSSTOTTE_API}/utkast/:vedtakId`, (req, res, ctx) => {\n\t\tconst skjemaData = req.body as SkjemaData;\n\t\toppdaterVedtakUtkastMockFraSkjema(skjemaData);\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.delete(`${VEILARBVEDTAKSSTOTTE_API}/utkast/:vedtakId`, (req, res, ctx) => {\n\t\tbyttUtUtkast(null);\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/utkast/:vedtakId/overta`, (req, res, ctx) => {\n\t\toppdaterUtkast({\n\t\t\tveilederIdent: hentInnloggetVeileder().ident,\n\t\t\tveilederNavn: hentInnloggetVeileder().navn\n\t\t});\n\n\t\tleggTilMockSystemMelding(SystemMeldingType.TATT_OVER_SOM_VEILEDER);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/utkast/:vedtakId/beslutterprosessStatus`, (req, res, ctx) => {\n\t\tconst data = { status: hentUtkast()?.beslutterProsessStatus || null };\n\t\treturn res(ctx.delay(500), ctx.json(data));\n\t}),\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/utkast/:vedtakId/fattVedtak`, (req, res, ctx) => {\n\t\tconst gjeldendeVedtak = hentFattedeVedtak().find(v => v.gjeldende);\n\n\t\tif (gjeldendeVedtak) {\n\t\t\tgjeldendeVedtak.gjeldende = false;\n\t\t}\n\n\t\tif (!hentUtkast()) throw new Error('Fant ikke utkast til kvalitetssikrer');\n\n\t\tconst fattetVedtak = { ...hentUtkast() } as Vedtak;\n\n\t\tfattetVedtak.gjeldende = true;\n\n\t\tleggTilFattetVedtak(fattetVedtak);\n\t\tbyttUtUtkast(null);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/utkast/:vedtakId/pdf`, async (req, res, ctx) => {\n\t\tif (!hentUtkast()?.innsatsgruppe) {\n\t\t\tthrow new Error('Mangler innsatsgruppe for brev mock');\n\t\t}\n\n\t\tconst brevMockUrl = lagVedtakBrevMockUrl(hentUtkast()!.innsatsgruppe!, hentUtkast()?.hovedmal);\n\n\t\tconst brevBlob = await (ctx.fetch(brevMockUrl) as Promise<Response>).then(brevRes => brevRes.blob());\n\n\t\treturn res(ctx.delay(500), ctx.body(brevBlob));\n\t})\n];\n","import { BeslutterProsessStatus, VEILARBVEDTAKSSTOTTE_API } from '../../../api/veilarbvedtaksstotte';\nimport { SystemMeldingType } from '../../../util/type/melding-type';\nimport { RequestHandler, rest } from 'msw';\nimport { leggTilMockSystemMelding, hentUtkast, oppdaterUtkast, hentInnloggetVeileder } from '../../api-data';\n\nexport const beslutterHandlers: RequestHandler[] = [\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/start`, (req, res, ctx) => {\n\t\tif (!hentUtkast()) throw new Error('Fant ikke utkast å starte beslutterprosess på');\n\n\t\toppdaterUtkast({\n\t\t\tbeslutterProsessStatus: BeslutterProsessStatus.KLAR_TIL_BESLUTTER\n\t\t});\n\n\t\tleggTilMockSystemMelding(SystemMeldingType.BESLUTTER_PROSESS_STARTET);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/avbryt`, (req, res, ctx) => {\n\t\tif (!hentUtkast()) throw new Error('Fant ikke utkast å avbrute beslutterprosess på');\n\n\t\toppdaterUtkast({\n\t\t\tbeslutterProsessStatus: null,\n\t\t\tbeslutterIdent: null,\n\t\t\tbeslutterNavn: null\n\t\t});\n\n\t\tleggTilMockSystemMelding(SystemMeldingType.BESLUTTER_PROSESS_AVBRUTT);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/bliBeslutter`, (req, res, ctx) => {\n\t\tif (!hentUtkast()) throw new Error('Fant ikke utkast å bli beslutter for');\n\n\t\toppdaterUtkast({\n\t\t\tbeslutterIdent: hentInnloggetVeileder().ident,\n\t\t\tbeslutterNavn: hentInnloggetVeileder().navn\n\t\t});\n\n\t\tleggTilMockSystemMelding(SystemMeldingType.BLITT_BESLUTTER);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/godkjenn`, (req, res, ctx) => {\n\t\tif (!hentUtkast()) throw new Error('Fant ikke utkast å godkjenne');\n\n\t\toppdaterUtkast({\n\t\t\tbeslutterProsessStatus: BeslutterProsessStatus.GODKJENT_AV_BESLUTTER\n\t\t});\n\n\t\tleggTilMockSystemMelding(SystemMeldingType.BESLUTTER_HAR_GODKJENT);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t}),\n\trest.put(`${VEILARBVEDTAKSSTOTTE_API}/beslutter/status`, (req, res, ctx) => {\n\t\tif (!hentUtkast()) throw new Error('Fant ikke utkast å oppdatere status på');\n\n\t\tconst erBeslutter = hentUtkast()?.beslutterIdent === hentInnloggetVeileder().ident;\n\n\t\toppdaterUtkast({\n\t\t\tbeslutterProsessStatus: erBeslutter\n\t\t\t\t? BeslutterProsessStatus.KLAR_TIL_VEILEDER\n\t\t\t\t: BeslutterProsessStatus.KLAR_TIL_BESLUTTER\n\t\t});\n\n\t\tleggTilMockSystemMelding(\n\t\t\terBeslutter ? SystemMeldingType.SENDT_TIL_VEILEDER : SystemMeldingType.SENDT_TIL_BESLUTTER\n\t\t);\n\n\t\treturn res(ctx.delay(500), ctx.status(204));\n\t})\n];\n","import { RequestHandler, rest } from 'msw';\nimport { MeldingType } from '../../../util/type/melding-type';\nimport { DialogMelding } from '../../../api/veilarbvedtaksstotte/meldinger';\nimport { VEILARBVEDTAKSSTOTTE_API } from '../../../api/veilarbvedtaksstotte';\nimport { hentInnloggetVeileder, hentMeldinger, leggTilMelding } from '../../api-data';\n\nexport const meldingerHandlers: RequestHandler[] = [\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/meldinger`, (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentMeldinger()));\n\t}),\n\trest.post(`${VEILARBVEDTAKSSTOTTE_API}/meldinger`, (req, res, ctx) => {\n\t\tconst sendDialogData = req.body as { melding: string };\n\n\t\tconst nyMelding: DialogMelding = {\n\t\t\topprettet: new Date().toISOString(),\n\t\t\topprettetAvIdent: hentInnloggetVeileder().ident,\n\t\t\topprettetAvNavn: hentInnloggetVeileder().navn,\n\t\t\tmelding: sendDialogData.melding,\n\t\t\ttype: MeldingType.DIALOG_MELDING\n\t\t};\n\n\t\tleggTilMelding(nyMelding);\n\n\t\treturn res(ctx.delay(500), ctx.json(hentMeldinger()));\n\t})\n];\n","import { RequestHandler, rest } from 'msw';\nimport { VEILARBVEDTAKSSTOTTE_API } from '../../../api/veilarbvedtaksstotte';\nimport { lagVedtakBrevMockUrl, mockUrlPrefix } from '../../utils';\nimport { hentArenaVedtak, hentFattedeVedtak, hentOyeblikksbilder } from '../../api-data';\n\nexport const vedtakHandlers: RequestHandler[] = [\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/fattet`, (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentFattedeVedtak()));\n\t}),\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/arena`, (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentArenaVedtak()));\n\t}),\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/:vedtakId/oyeblikksbilde`, (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentOyeblikksbilder()));\n\t}),\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/:vedtakId/pdf`, async (req, res, ctx) => {\n\t\tconst vedtakId = parseInt(req.params.vedtakId.toString(), 10);\n\n\t\tconst vedtak = hentFattedeVedtak().find(v => v.id === vedtakId);\n\n\t\tif (!vedtak?.innsatsgruppe) {\n\t\t\tthrow new Error('Mangler innsatsgruppe for brev mock');\n\t\t}\n\n\t\tconst brevBlob = await (\n\t\t\tctx.fetch(lagVedtakBrevMockUrl(vedtak.innsatsgruppe, vedtak.hovedmal)) as Promise<Response>\n\t\t).then(brevRes => brevRes.blob());\n\n\t\treturn res(ctx.delay(500), ctx.body(brevBlob));\n\t}),\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/vedtak/arena/pdf`, async (req, res, ctx) => {\n\t\tconst brevBlob = await (ctx.fetch(`${mockUrlPrefix()}/test-brev/arenabrev.pdf`) as Promise<Response>).then(\n\t\t\tbrevRes => brevRes.blob()\n\t\t);\n\n\t\treturn res(ctx.delay(500), ctx.body(brevBlob));\n\t})\n];\n","import { RequestHandler, rest } from 'msw';\nimport { VEILARBVEDTAKSSTOTTE_API } from '../../../api/veilarbvedtaksstotte';\n\nexport const utrullingHandlers: RequestHandler[] = [\n\trest.get(`${VEILARBVEDTAKSSTOTTE_API}/utrulling/tilhorerBrukerUtrulletKontor`, (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(true));\n\t})\n];\n","import { RequestHandler } from 'msw';\nimport { utkastHandlers } from './utkast';\nimport { beslutterHandlers } from './beslutter';\nimport { meldingerHandlers } from './meldinger';\nimport { vedtakHandlers } from './vedtak';\nimport { utrullingHandlers } from './utrulling';\n\nexport const veilarbvedtaksstotteHandlers: RequestHandler[] = [\n\t...beslutterHandlers,\n\t...meldingerHandlers,\n\t...utkastHandlers,\n\t...vedtakHandlers,\n\t...utrullingHandlers\n];\n","import { RequestHandler, rest } from 'msw';\nimport { hentMalformFraPdl } from '../api-data';\n\nexport const veilarbpersonHandlers: RequestHandler[] = [\n\trest.get('/veilarbperson/api/v2/person/malform', (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentMalformFraPdl()));\n\t})\n];\n","import { RequestHandler, rest } from 'msw';\nimport { hentFeatures } from '../api-data';\n\nexport const veilarbpersonflatefsHandlers: RequestHandler[] = [\n\trest.get('/veilarbpersonflatefs/api/feature', (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentFeatures()));\n\t})\n];\n","import { RequestHandler, rest } from 'msw';\nimport { hentInnloggetVeileder } from '../api-data';\n\nexport const veilarbveilederHandlers: RequestHandler[] = [\n\trest.get('/veilarbveileder/api/veileder/me', (req, res, ctx) => {\n\t\treturn res(ctx.delay(500), ctx.json(hentInnloggetVeileder()));\n\t})\n];\n","import { RequestHandler } from 'msw';\nimport { veilarboppfolgingHandlers } from './veilarboppfolging';\nimport { veilarbvedtaksstotteHandlers } from './veilarbvedtaksstotte';\nimport { veilarbpersonHandlers } from './veilarbperson';\nimport { veilarbpersonflatefsHandlers } from './veilarbpersonflatefs';\nimport { veilarbveilederHandlers } from './veilarbveileder';\n\nexport const allHandlers: RequestHandler[] = [\n\t...veilarbvedtaksstotteHandlers,\n\t...veilarboppfolgingHandlers,\n\t...veilarbpersonHandlers,\n\t...veilarbpersonflatefsHandlers,\n\t...veilarbveilederHandlers\n];\n","import { setupWorker } from 'msw';\nimport { allHandlers } from './api';\n\nsetupWorker(...allHandlers)\n\t.start({ serviceWorker: { url: process.env.PUBLIC_URL + '/mockServiceWorker.js' } })\n\t.catch(e => {\n\t\t// tslint:disable-next-line:no-console\n\t\tconsole.error('Unable to setup mocked API endpoints', e);\n\t});\n"],"sourceRoot":""}